(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();function H4(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in r)){const a=Object.getOwnPropertyDescriptor(i,n);a&&Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();function oD(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function V4(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}),t}var lD={exports:{}},G1={},cD={exports:{}},jt={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var zm=Symbol.for("react.element"),j4=Symbol.for("react.portal"),W4=Symbol.for("react.fragment"),X4=Symbol.for("react.strict_mode"),J4=Symbol.for("react.profiler"),Y4=Symbol.for("react.provider"),q4=Symbol.for("react.context"),K4=Symbol.for("react.forward_ref"),Z4=Symbol.for("react.suspense"),Q4=Symbol.for("react.memo"),$4=Symbol.for("react.lazy"),H2=Symbol.iterator;function eG(r){return r===null||typeof r!="object"?null:(r=H2&&r[H2]||r["@@iterator"],typeof r=="function"?r:null)}var uD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hD=Object.assign,dD={};function Vd(r,e,t){this.props=r,this.context=e,this.refs=dD,this.updater=t||uD}Vd.prototype.isReactComponent={};Vd.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Vd.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function pD(){}pD.prototype=Vd.prototype;function pM(r,e,t){this.props=r,this.context=e,this.refs=dD,this.updater=t||uD}var fM=pM.prototype=new pD;fM.constructor=pM;hD(fM,Vd.prototype);fM.isPureReactComponent=!0;var V2=Array.isArray,fD=Object.prototype.hasOwnProperty,mM={current:null},mD={key:!0,ref:!0,__self:!0,__source:!0};function gD(r,e,t){var i,n={},a=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)fD.call(e,i)&&!mD.hasOwnProperty(i)&&(n[i]=e[i]);var o=arguments.length-2;if(o===1)n.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}if(r&&r.defaultProps)for(i in o=r.defaultProps,o)n[i]===void 0&&(n[i]=o[i]);return{$$typeof:zm,type:r,key:a,ref:s,props:n,_owner:mM.current}}function tG(r,e){return{$$typeof:zm,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function gM(r){return typeof r=="object"&&r!==null&&r.$$typeof===zm}function rG(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var j2=/\/+/g;function tb(r,e){return typeof r=="object"&&r!==null&&r.key!=null?rG(""+r.key):e.toString(36)}function Dv(r,e,t,i,n){var a=typeof r;(a==="undefined"||a==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case zm:case j4:s=!0}}if(s)return s=r,n=n(s),r=i===""?"."+tb(s,0):i,V2(n)?(t="",r!=null&&(t=r.replace(j2,"$&/")+"/"),Dv(n,e,t,"",function(c){return c})):n!=null&&(gM(n)&&(n=tG(n,t+(!n.key||s&&s.key===n.key?"":(""+n.key).replace(j2,"$&/")+"/")+r)),e.push(n)),1;if(s=0,i=i===""?".":i+":",V2(r))for(var o=0;o<r.length;o++){a=r[o];var l=i+tb(a,o);s+=Dv(a,e,t,l,n)}else if(l=eG(r),typeof l=="function")for(r=l.call(r),o=0;!(a=r.next()).done;)a=a.value,l=i+tb(a,o++),s+=Dv(a,e,t,l,n);else if(a==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function i0(r,e,t){if(r==null)return r;var i=[],n=0;return Dv(r,i,"","",function(a){return e.call(t,a,n++)}),i}function iG(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Mn={current:null},Lv={transition:null},nG={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:Lv,ReactCurrentOwner:mM};function vD(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:i0,forEach:function(r,e,t){i0(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return i0(r,function(){e++}),e},toArray:function(r){return i0(r,function(e){return e})||[]},only:function(r){if(!gM(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};jt.Component=Vd;jt.Fragment=W4;jt.Profiler=J4;jt.PureComponent=pM;jt.StrictMode=X4;jt.Suspense=Z4;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nG;jt.act=vD;jt.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var i=hD({},r.props),n=r.key,a=r.ref,s=r._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=mM.current),e.key!==void 0&&(n=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(l in e)fD.call(e,l)&&!mD.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:zm,type:r.type,key:n,ref:a,props:i,_owner:s}};jt.createContext=function(r){return r={$$typeof:q4,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:Y4,_context:r},r.Consumer=r};jt.createElement=gD;jt.createFactory=function(r){var e=gD.bind(null,r);return e.type=r,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(r){return{$$typeof:K4,render:r}};jt.isValidElement=gM;jt.lazy=function(r){return{$$typeof:$4,_payload:{_status:-1,_result:r},_init:iG}};jt.memo=function(r,e){return{$$typeof:Q4,type:r,compare:e===void 0?null:e}};jt.startTransition=function(r){var e=Lv.transition;Lv.transition={};try{r()}finally{Lv.transition=e}};jt.unstable_act=vD;jt.useCallback=function(r,e){return Mn.current.useCallback(r,e)};jt.useContext=function(r){return Mn.current.useContext(r)};jt.useDebugValue=function(){};jt.useDeferredValue=function(r){return Mn.current.useDeferredValue(r)};jt.useEffect=function(r,e){return Mn.current.useEffect(r,e)};jt.useId=function(){return Mn.current.useId()};jt.useImperativeHandle=function(r,e,t){return Mn.current.useImperativeHandle(r,e,t)};jt.useInsertionEffect=function(r,e){return Mn.current.useInsertionEffect(r,e)};jt.useLayoutEffect=function(r,e){return Mn.current.useLayoutEffect(r,e)};jt.useMemo=function(r,e){return Mn.current.useMemo(r,e)};jt.useReducer=function(r,e,t){return Mn.current.useReducer(r,e,t)};jt.useRef=function(r){return Mn.current.useRef(r)};jt.useState=function(r){return Mn.current.useState(r)};jt.useSyncExternalStore=function(r,e,t){return Mn.current.useSyncExternalStore(r,e,t)};jt.useTransition=function(){return Mn.current.useTransition()};jt.version="18.3.1";cD.exports=jt;var W=cD.exports;const bn=oD(W),aG=H4({__proto__:null,default:bn},[W]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var sG=W,oG=Symbol.for("react.element"),lG=Symbol.for("react.fragment"),cG=Object.prototype.hasOwnProperty,uG=sG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hG={key:!0,ref:!0,__self:!0,__source:!0};function yD(r,e,t){var i,n={},a=null,s=null;t!==void 0&&(a=""+t),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)cG.call(e,i)&&!hG.hasOwnProperty(i)&&(n[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:oG,type:r,key:a,ref:s,props:n,_owner:uG.current}}G1.Fragment=lG;G1.jsx=yD;G1.jsxs=yD;lD.exports=G1;var vM=lD.exports;const yM=vM.Fragment,he=vM.jsx,At=vM.jsxs;var nS={},_D={exports:{}},Aa={},xD={exports:{}},bD={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(r){function e(O,F){var q=O.length;O.push(F);e:for(;0<q;){var pe=q-1>>>1,we=O[pe];if(0<n(we,F))O[pe]=F,O[q]=we,q=pe;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var F=O[0],q=O.pop();if(q!==F){O[0]=q;e:for(var pe=0,we=O.length,Le=we>>>1;pe<Le;){var se=2*(pe+1)-1,ye=O[se],Se=se+1,Ee=O[Se];if(0>n(ye,q))Se<we&&0>n(Ee,ye)?(O[pe]=Ee,O[Se]=q,pe=Se):(O[pe]=ye,O[se]=q,pe=se);else if(Se<we&&0>n(Ee,q))O[pe]=Ee,O[Se]=q,pe=Se;else break e}}return F}function n(O,F){var q=O.sortIndex-F.sortIndex;return q!==0?q:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,p=null,f=3,m=!1,g=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var F=t(c);F!==null;){if(F.callback===null)i(c);else if(F.startTime<=O)i(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function w(O){if(x=!1,A(O),!g)if(t(l)!==null)g=!0,X(T);else{var F=t(c);F!==null&&ie(w,F.startTime-O)}}function T(O,F){g=!1,x&&(x=!1,v(I),I=-1),m=!0;var q=f;try{for(A(F),p=t(l);p!==null&&(!(p.expirationTime>F)||O&&!D());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,f=p.priorityLevel;var we=pe(p.expirationTime<=F);F=r.unstable_now(),typeof we=="function"?p.callback=we:p===t(l)&&i(l),A(F)}else i(l);p=t(l)}if(p!==null)var Le=!0;else{var se=t(c);se!==null&&ie(w,se.startTime-F),Le=!1}return Le}finally{p=null,f=q,m=!1}}var E=!1,B=null,I=-1,C=5,R=-1;function D(){return!(r.unstable_now()-R<C)}function V(){if(B!==null){var O=r.unstable_now();R=O;var F=!0;try{F=B(!0,O)}finally{F?j():(E=!1,B=null)}}else E=!1}var j;if(typeof b=="function")j=function(){b(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=V,j=function(){Q.postMessage(null)}}else j=function(){_(V,0)};function X(O){B=O,E||(E=!0,j())}function ie(O,F){I=_(function(){O(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_continueExecution=function(){g||m||(g=!0,X(T))},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(O){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var q=f;f=F;try{return O()}finally{f=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=f;f=O;try{return F()}finally{f=q}},r.unstable_scheduleCallback=function(O,F,q){var pe=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?pe+q:pe):q=pe,O){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=q+we,O={id:h++,callback:F,priorityLevel:O,startTime:q,expirationTime:we,sortIndex:-1},q>pe?(O.sortIndex=q,e(c,O),t(l)===null&&O===t(c)&&(x?(v(I),I=-1):x=!0,ie(w,q-pe))):(O.sortIndex=we,e(l,O),g||m||(g=!0,X(T))),O},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(O){var F=f;return function(){var q=f;f=F;try{return O.apply(this,arguments)}finally{f=q}}}})(bD);xD.exports=bD;var dG=xD.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var pG=W,ga=dG;function Oe(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AD=new Set,Yf={};function Ou(r,e){_d(r,e),_d(r+"Capture",e)}function _d(r,e){for(Yf[r]=e,r=0;r<e.length;r++)AD.add(e[r])}var Oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aS=Object.prototype.hasOwnProperty,fG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W2={},X2={};function mG(r){return aS.call(X2,r)?!0:aS.call(W2,r)?!1:fG.test(r)?X2[r]=!0:(W2[r]=!0,!1)}function gG(r,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function vG(r,e,t,i){if(e===null||typeof e>"u"||gG(r,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(r,e,t,i,n,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){ki[r]=new En(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];ki[e]=new En(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){ki[r]=new En(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){ki[r]=new En(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){ki[r]=new En(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){ki[r]=new En(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){ki[r]=new En(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){ki[r]=new En(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){ki[r]=new En(r,5,!1,r.toLowerCase(),null,!1,!1)});var _M=/[\-:]([a-z])/g;function xM(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(_M,xM);ki[e]=new En(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(_M,xM);ki[e]=new En(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(_M,xM);ki[e]=new En(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){ki[r]=new En(r,1,!1,r.toLowerCase(),null,!1,!1)});ki.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){ki[r]=new En(r,1,!1,r.toLowerCase(),null,!0,!0)});function bM(r,e,t,i){var n=ki.hasOwnProperty(e)?ki[e]:null;(n!==null?n.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vG(e,t,n,i)&&(t=null),i||n===null?mG(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):n.mustUseProperty?r[n.propertyName]=t===null?n.type===3?!1:"":t:(e=n.attributeName,i=n.attributeNamespace,t===null?r.removeAttribute(e):(n=n.type,t=n===3||n===4&&t===!0?"":""+t,i?r.setAttributeNS(i,e,t):r.setAttribute(e,t))))}var Jo=pG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,n0=Symbol.for("react.element"),Lh=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),AM=Symbol.for("react.strict_mode"),sS=Symbol.for("react.profiler"),SD=Symbol.for("react.provider"),wD=Symbol.for("react.context"),SM=Symbol.for("react.forward_ref"),oS=Symbol.for("react.suspense"),lS=Symbol.for("react.suspense_list"),wM=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),MD=Symbol.for("react.offscreen"),J2=Symbol.iterator;function _p(r){return r===null||typeof r!="object"?null:(r=J2&&r[J2]||r["@@iterator"],typeof r=="function"?r:null)}var Or=Object.assign,rb;function Zp(r){if(rb===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+r}var ib=!1;function nb(r,e){if(!r||ib)return"";ib=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){i=c}r.call(e.prototype)}else{try{throw Error()}catch(c){i=c}r()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),a=i.stack.split(`
`),s=n.length-1,o=a.length-1;1<=s&&0<=o&&n[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(n[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||n[s]!==a[o]){var l=`
`+n[s].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=s&&0<=o);break}}}finally{ib=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?Zp(r):""}function yG(r){switch(r.tag){case 5:return Zp(r.type);case 16:return Zp("Lazy");case 13:return Zp("Suspense");case 19:return Zp("SuspenseList");case 0:case 2:case 15:return r=nb(r.type,!1),r;case 11:return r=nb(r.type.render,!1),r;case 1:return r=nb(r.type,!0),r;default:return""}}function cS(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Fh:return"Fragment";case Lh:return"Portal";case sS:return"Profiler";case AM:return"StrictMode";case oS:return"Suspense";case lS:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case wD:return(r.displayName||"Context")+".Consumer";case SD:return(r._context.displayName||"Context")+".Provider";case SM:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case wM:return e=r.displayName||null,e!==null?e:cS(r.type)||"Memo";case ml:e=r._payload,r=r._init;try{return cS(r(e))}catch{}}return null}function _G(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cS(e);case 8:return e===AM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gl(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ED(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xG(r){var e=ED(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),i=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var n=t.get,a=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return n.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function a0(r){r._valueTracker||(r._valueTracker=xG(r))}function CD(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return r&&(i=ED(r)?r.checked?"true":"false":r.value),r=i,r!==t?(e.setValue(r),!0):!1}function ay(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function uS(r,e){var t=e.checked;return Or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function Y2(r,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Gl(e.value!=null?e.value:t),r._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TD(r,e){e=e.checked,e!=null&&bM(r,"checked",e,!1)}function hS(r,e){TD(r,e);var t=Gl(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(i==="submit"||i==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?dS(r,e.type,t):e.hasOwnProperty("defaultValue")&&dS(r,e.type,Gl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function q2(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function dS(r,e,t){(e!=="number"||ay(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Qp=Array.isArray;function id(r,e,t,i){if(r=r.options,e){e={};for(var n=0;n<t.length;n++)e["$"+t[n]]=!0;for(t=0;t<r.length;t++)n=e.hasOwnProperty("$"+r[t].value),r[t].selected!==n&&(r[t].selected=n),n&&i&&(r[t].defaultSelected=!0)}else{for(t=""+Gl(t),e=null,n=0;n<r.length;n++){if(r[n].value===t){r[n].selected=!0,i&&(r[n].defaultSelected=!0);return}e!==null||r[n].disabled||(e=r[n])}e!==null&&(e.selected=!0)}}function pS(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Or({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function K2(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Oe(92));if(Qp(t)){if(1<t.length)throw Error(Oe(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Gl(t)}}function RD(r,e){var t=Gl(e.value),i=Gl(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),i!=null&&(r.defaultValue=""+i)}function Z2(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function PD(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fS(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?PD(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var s0,BD=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction(function(){return r(e,t,i,n)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(s0=s0||document.createElement("div"),s0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=s0.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function qf(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bG=["Webkit","ms","Moz","O"];Object.keys(df).forEach(function(r){bG.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),df[e]=df[r]})});function ID(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||df.hasOwnProperty(r)&&df[r]?(""+e).trim():e+"px"}function DD(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,n=ID(t,e[t],i);t==="float"&&(t="cssFloat"),i?r.setProperty(t,n):r[t]=n}}var AG=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mS(r,e){if(e){if(AG[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function gS(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vS=null;function MM(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yS=null,nd=null,ad=null;function Q2(r){if(r=Vm(r)){if(typeof yS!="function")throw Error(Oe(280));var e=r.stateNode;e&&(e=X1(e),yS(r.stateNode,r.type,e))}}function LD(r){nd?ad?ad.push(r):ad=[r]:nd=r}function FD(){if(nd){var r=nd,e=ad;if(ad=nd=null,Q2(r),e)for(r=0;r<e.length;r++)Q2(e[r])}}function kD(r,e){return r(e)}function OD(){}var ab=!1;function ND(r,e,t){if(ab)return r(e,t);ab=!0;try{return kD(r,e,t)}finally{ab=!1,(nd!==null||ad!==null)&&(OD(),FD())}}function Kf(r,e){var t=r.stateNode;if(t===null)return null;var i=X1(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(r=r.type,i=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!i;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Oe(231,e,typeof t));return t}var _S=!1;if(Oo)try{var xp={};Object.defineProperty(xp,"passive",{get:function(){_S=!0}}),window.addEventListener("test",xp,xp),window.removeEventListener("test",xp,xp)}catch{_S=!1}function SG(r,e,t,i,n,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var pf=!1,sy=null,oy=!1,xS=null,wG={onError:function(r){pf=!0,sy=r}};function MG(r,e,t,i,n,a,s,o,l){pf=!1,sy=null,SG.apply(wG,arguments)}function EG(r,e,t,i,n,a,s,o,l){if(MG.apply(this,arguments),pf){if(pf){var c=sy;pf=!1,sy=null}else throw Error(Oe(198));oy||(oy=!0,xS=c)}}function Nu(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function UD(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function $2(r){if(Nu(r)!==r)throw Error(Oe(188))}function CG(r){var e=r.alternate;if(!e){if(e=Nu(r),e===null)throw Error(Oe(188));return e!==r?null:r}for(var t=r,i=e;;){var n=t.return;if(n===null)break;var a=n.alternate;if(a===null){if(i=n.return,i!==null){t=i;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===t)return $2(n),r;if(a===i)return $2(n),e;a=a.sibling}throw Error(Oe(188))}if(t.return!==i.return)t=n,i=a;else{for(var s=!1,o=n.child;o;){if(o===t){s=!0,t=n,i=a;break}if(o===i){s=!0,i=n,t=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===t){s=!0,t=a,i=n;break}if(o===i){s=!0,i=a,t=n;break}o=o.sibling}if(!s)throw Error(Oe(189))}}if(t.alternate!==i)throw Error(Oe(190))}if(t.tag!==3)throw Error(Oe(188));return t.stateNode.current===t?r:e}function zD(r){return r=CG(r),r!==null?GD(r):null}function GD(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=GD(r);if(e!==null)return e;r=r.sibling}return null}var HD=ga.unstable_scheduleCallback,eR=ga.unstable_cancelCallback,TG=ga.unstable_shouldYield,RG=ga.unstable_requestPaint,Yr=ga.unstable_now,PG=ga.unstable_getCurrentPriorityLevel,EM=ga.unstable_ImmediatePriority,VD=ga.unstable_UserBlockingPriority,ly=ga.unstable_NormalPriority,BG=ga.unstable_LowPriority,jD=ga.unstable_IdlePriority,H1=null,Hs=null;function IG(r){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(H1,r,void 0,(r.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:FG,DG=Math.log,LG=Math.LN2;function FG(r){return r>>>=0,r===0?32:31-(DG(r)/LG|0)|0}var o0=64,l0=4194304;function $p(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function cy(r,e){var t=r.pendingLanes;if(t===0)return 0;var i=0,n=r.suspendedLanes,a=r.pingedLanes,s=t&268435455;if(s!==0){var o=s&~n;o!==0?i=$p(o):(a&=s,a!==0&&(i=$p(a)))}else s=t&~n,s!==0?i=$p(s):a!==0&&(i=$p(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&n)&&(n=i&-i,a=e&-e,n>=a||n===16&&(a&4194240)!==0))return e;if(i&4&&(i|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=i;0<e;)t=31-fs(e),n=1<<t,i|=r[t],e&=~n;return i}function kG(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OG(r,e){for(var t=r.suspendedLanes,i=r.pingedLanes,n=r.expirationTimes,a=r.pendingLanes;0<a;){var s=31-fs(a),o=1<<s,l=n[s];l===-1?(!(o&t)||o&i)&&(n[s]=kG(o,e)):l<=e&&(r.expiredLanes|=o),a&=~o}}function bS(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function WD(){var r=o0;return o0<<=1,!(o0&4194240)&&(o0=64),r}function sb(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function Gm(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-fs(e),r[e]=t}function NG(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var i=r.eventTimes;for(r=r.expirationTimes;0<t;){var n=31-fs(t),a=1<<n;e[n]=0,i[n]=-1,r[n]=-1,t&=~a}}function CM(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var i=31-fs(t),n=1<<i;n&e|r[i]&e&&(r[i]|=e),t&=~n}}var cr=0;function XD(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var JD,TM,YD,qD,KD,AS=!1,c0=[],Tl=null,Rl=null,Pl=null,Zf=new Map,Qf=new Map,yl=[],UG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tR(r,e){switch(r){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":Zf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qf.delete(e.pointerId)}}function bp(r,e,t,i,n,a){return r===null||r.nativeEvent!==a?(r={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:a,targetContainers:[n]},e!==null&&(e=Vm(e),e!==null&&TM(e)),r):(r.eventSystemFlags|=i,e=r.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),r)}function zG(r,e,t,i,n){switch(e){case"focusin":return Tl=bp(Tl,r,e,t,i,n),!0;case"dragenter":return Rl=bp(Rl,r,e,t,i,n),!0;case"mouseover":return Pl=bp(Pl,r,e,t,i,n),!0;case"pointerover":var a=n.pointerId;return Zf.set(a,bp(Zf.get(a)||null,r,e,t,i,n)),!0;case"gotpointercapture":return a=n.pointerId,Qf.set(a,bp(Qf.get(a)||null,r,e,t,i,n)),!0}return!1}function ZD(r){var e=jc(r.target);if(e!==null){var t=Nu(e);if(t!==null){if(e=t.tag,e===13){if(e=UD(t),e!==null){r.blockedOn=e,KD(r.priority,function(){YD(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fv(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=SS(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var i=new t.constructor(t.type,t);vS=i,t.target.dispatchEvent(i),vS=null}else return e=Vm(t),e!==null&&TM(e),r.blockedOn=t,!1;e.shift()}return!0}function rR(r,e,t){Fv(r)&&t.delete(e)}function GG(){AS=!1,Tl!==null&&Fv(Tl)&&(Tl=null),Rl!==null&&Fv(Rl)&&(Rl=null),Pl!==null&&Fv(Pl)&&(Pl=null),Zf.forEach(rR),Qf.forEach(rR)}function Ap(r,e){r.blockedOn===e&&(r.blockedOn=null,AS||(AS=!0,ga.unstable_scheduleCallback(ga.unstable_NormalPriority,GG)))}function $f(r){function e(n){return Ap(n,r)}if(0<c0.length){Ap(c0[0],r);for(var t=1;t<c0.length;t++){var i=c0[t];i.blockedOn===r&&(i.blockedOn=null)}}for(Tl!==null&&Ap(Tl,r),Rl!==null&&Ap(Rl,r),Pl!==null&&Ap(Pl,r),Zf.forEach(e),Qf.forEach(e),t=0;t<yl.length;t++)i=yl[t],i.blockedOn===r&&(i.blockedOn=null);for(;0<yl.length&&(t=yl[0],t.blockedOn===null);)ZD(t),t.blockedOn===null&&yl.shift()}var sd=Jo.ReactCurrentBatchConfig,uy=!0;function HG(r,e,t,i){var n=cr,a=sd.transition;sd.transition=null;try{cr=1,RM(r,e,t,i)}finally{cr=n,sd.transition=a}}function VG(r,e,t,i){var n=cr,a=sd.transition;sd.transition=null;try{cr=4,RM(r,e,t,i)}finally{cr=n,sd.transition=a}}function RM(r,e,t,i){if(uy){var n=SS(r,e,t,i);if(n===null)gb(r,e,i,hy,t),tR(r,i);else if(zG(n,r,e,t,i))i.stopPropagation();else if(tR(r,i),e&4&&-1<UG.indexOf(r)){for(;n!==null;){var a=Vm(n);if(a!==null&&JD(a),a=SS(r,e,t,i),a===null&&gb(r,e,i,hy,t),a===n)break;n=a}n!==null&&i.stopPropagation()}else gb(r,e,i,null,t)}}var hy=null;function SS(r,e,t,i){if(hy=null,r=MM(i),r=jc(r),r!==null)if(e=Nu(r),e===null)r=null;else if(t=e.tag,t===13){if(r=UD(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return hy=r,null}function QD(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PG()){case EM:return 1;case VD:return 4;case ly:case BG:return 16;case jD:return 536870912;default:return 16}default:return 16}}var bl=null,PM=null,kv=null;function $D(){if(kv)return kv;var r,e=PM,t=e.length,i,n="value"in bl?bl.value:bl.textContent,a=n.length;for(r=0;r<t&&e[r]===n[r];r++);var s=t-r;for(i=1;i<=s&&e[t-i]===n[a-i];i++);return kv=n.slice(r,1<i?1-i:void 0)}function Ov(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function u0(){return!0}function iR(){return!1}function Sa(r){function e(t,i,n,a,s){this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?u0:iR,this.isPropagationStopped=iR,this}return Or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=u0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=u0)},persist:function(){},isPersistent:u0}),e}var jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BM=Sa(jd),Hm=Or({},jd,{view:0,detail:0}),jG=Sa(Hm),ob,lb,Sp,V1=Or({},Hm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:IM,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Sp&&(Sp&&r.type==="mousemove"?(ob=r.screenX-Sp.screenX,lb=r.screenY-Sp.screenY):lb=ob=0,Sp=r),ob)},movementY:function(r){return"movementY"in r?r.movementY:lb}}),nR=Sa(V1),WG=Or({},V1,{dataTransfer:0}),XG=Sa(WG),JG=Or({},Hm,{relatedTarget:0}),cb=Sa(JG),YG=Or({},jd,{animationName:0,elapsedTime:0,pseudoElement:0}),qG=Sa(YG),KG=Or({},jd,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ZG=Sa(KG),QG=Or({},jd,{data:0}),aR=Sa(QG),$G={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r5(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=t5[r])?!!e[r]:!1}function IM(){return r5}var i5=Or({},Hm,{key:function(r){if(r.key){var e=$G[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Ov(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?e5[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:IM,charCode:function(r){return r.type==="keypress"?Ov(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ov(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),n5=Sa(i5),a5=Or({},V1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sR=Sa(a5),s5=Or({},Hm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:IM}),o5=Sa(s5),l5=Or({},jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),c5=Sa(l5),u5=Or({},V1,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),h5=Sa(u5),d5=[9,13,27,32],DM=Oo&&"CompositionEvent"in window,ff=null;Oo&&"documentMode"in document&&(ff=document.documentMode);var p5=Oo&&"TextEvent"in window&&!ff,eL=Oo&&(!DM||ff&&8<ff&&11>=ff),oR=String.fromCharCode(32),lR=!1;function tL(r,e){switch(r){case"keyup":return d5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rL(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var kh=!1;function f5(r,e){switch(r){case"compositionend":return rL(e);case"keypress":return e.which!==32?null:(lR=!0,oR);case"textInput":return r=e.data,r===oR&&lR?null:r;default:return null}}function m5(r,e){if(kh)return r==="compositionend"||!DM&&tL(r,e)?(r=$D(),kv=PM=bl=null,kh=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eL&&e.locale!=="ko"?null:e.data;default:return null}}var g5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cR(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!g5[r.type]:e==="textarea"}function iL(r,e,t,i){LD(i),e=dy(e,"onChange"),0<e.length&&(t=new BM("onChange","change",null,t,i),r.push({event:t,listeners:e}))}var mf=null,em=null;function v5(r){fL(r,0)}function j1(r){var e=Uh(r);if(CD(e))return r}function y5(r,e){if(r==="change")return e}var nL=!1;if(Oo){var ub;if(Oo){var hb="oninput"in document;if(!hb){var uR=document.createElement("div");uR.setAttribute("oninput","return;"),hb=typeof uR.oninput=="function"}ub=hb}else ub=!1;nL=ub&&(!document.documentMode||9<document.documentMode)}function hR(){mf&&(mf.detachEvent("onpropertychange",aL),em=mf=null)}function aL(r){if(r.propertyName==="value"&&j1(em)){var e=[];iL(e,em,r,MM(r)),ND(v5,e)}}function _5(r,e,t){r==="focusin"?(hR(),mf=e,em=t,mf.attachEvent("onpropertychange",aL)):r==="focusout"&&hR()}function x5(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return j1(em)}function b5(r,e){if(r==="click")return j1(e)}function A5(r,e){if(r==="input"||r==="change")return j1(e)}function S5(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var _s=typeof Object.is=="function"?Object.is:S5;function tm(r,e){if(_s(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var n=t[i];if(!aS.call(e,n)||!_s(r[n],e[n]))return!1}return!0}function dR(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pR(r,e){var t=dR(r);r=0;for(var i;t;){if(t.nodeType===3){if(i=r+t.textContent.length,r<=e&&i>=e)return{node:t,offset:e-r};r=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=dR(t)}}function sL(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?sL(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function oL(){for(var r=window,e=ay();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=ay(r.document)}return e}function LM(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function w5(r){var e=oL(),t=r.focusedElem,i=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&sL(t.ownerDocument.documentElement,t)){if(i!==null&&LM(t)){if(e=i.start,r=i.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var n=t.textContent.length,a=Math.min(i.start,n);i=i.end===void 0?a:Math.min(i.end,n),!r.extend&&a>i&&(n=i,i=a,a=n),n=pR(t,a);var s=pR(t,i);n&&s&&(r.rangeCount!==1||r.anchorNode!==n.node||r.anchorOffset!==n.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),r.removeAllRanges(),a>i?(r.addRange(e),r.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var M5=Oo&&"documentMode"in document&&11>=document.documentMode,Oh=null,wS=null,gf=null,MS=!1;function fR(r,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;MS||Oh==null||Oh!==ay(i)||(i=Oh,"selectionStart"in i&&LM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gf&&tm(gf,i)||(gf=i,i=dy(wS,"onSelect"),0<i.length&&(e=new BM("onSelect","select",null,e,t),r.push({event:e,listeners:i}),e.target=Oh)))}function h0(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Nh={animationend:h0("Animation","AnimationEnd"),animationiteration:h0("Animation","AnimationIteration"),animationstart:h0("Animation","AnimationStart"),transitionend:h0("Transition","TransitionEnd")},db={},lL={};Oo&&(lL=document.createElement("div").style,"AnimationEvent"in window||(delete Nh.animationend.animation,delete Nh.animationiteration.animation,delete Nh.animationstart.animation),"TransitionEvent"in window||delete Nh.transitionend.transition);function W1(r){if(db[r])return db[r];if(!Nh[r])return r;var e=Nh[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in lL)return db[r]=e[t];return r}var cL=W1("animationend"),uL=W1("animationiteration"),hL=W1("animationstart"),dL=W1("transitionend"),pL=new Map,mR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zl(r,e){pL.set(r,e),Ou(e,[r])}for(var pb=0;pb<mR.length;pb++){var fb=mR[pb],E5=fb.toLowerCase(),C5=fb[0].toUpperCase()+fb.slice(1);Zl(E5,"on"+C5)}Zl(cL,"onAnimationEnd");Zl(uL,"onAnimationIteration");Zl(hL,"onAnimationStart");Zl("dblclick","onDoubleClick");Zl("focusin","onFocus");Zl("focusout","onBlur");Zl(dL,"onTransitionEnd");_d("onMouseEnter",["mouseout","mouseover"]);_d("onMouseLeave",["mouseout","mouseover"]);_d("onPointerEnter",["pointerout","pointerover"]);_d("onPointerLeave",["pointerout","pointerover"]);Ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ef));function gR(r,e,t){var i=r.type||"unknown-event";r.currentTarget=t,EG(i,e,void 0,r),r.currentTarget=null}function fL(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var i=r[t],n=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&n.isPropagationStopped())break e;gR(n,o,c),a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&n.isPropagationStopped())break e;gR(n,o,c),a=l}}}if(oy)throw r=xS,oy=!1,xS=null,r}function xr(r,e){var t=e[PS];t===void 0&&(t=e[PS]=new Set);var i=r+"__bubble";t.has(i)||(mL(e,r,2,!1),t.add(i))}function mb(r,e,t){var i=0;e&&(i|=4),mL(t,r,i,e)}var d0="_reactListening"+Math.random().toString(36).slice(2);function rm(r){if(!r[d0]){r[d0]=!0,AD.forEach(function(t){t!=="selectionchange"&&(T5.has(t)||mb(t,!1,r),mb(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[d0]||(e[d0]=!0,mb("selectionchange",!1,e))}}function mL(r,e,t,i){switch(QD(e)){case 1:var n=HG;break;case 4:n=VG;break;default:n=RM}t=n.bind(null,e,t,r),n=void 0,!_S||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?r.addEventListener(e,t,{capture:!0,passive:n}):r.addEventListener(e,t,!0):n!==void 0?r.addEventListener(e,t,{passive:n}):r.addEventListener(e,t,!1)}function gb(r,e,t,i,n){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;s=s.return}for(;o!==null;){if(s=jc(o),s===null)return;if(l=s.tag,l===5||l===6){i=a=s;continue e}o=o.parentNode}}i=i.return}ND(function(){var c=a,h=MM(t),p=[];e:{var f=pL.get(r);if(f!==void 0){var m=BM,g=r;switch(r){case"keypress":if(Ov(t)===0)break e;case"keydown":case"keyup":m=n5;break;case"focusin":g="focus",m=cb;break;case"focusout":g="blur",m=cb;break;case"beforeblur":case"afterblur":m=cb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=XG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=o5;break;case cL:case uL:case hL:m=qG;break;case dL:m=c5;break;case"scroll":m=jG;break;case"wheel":m=h5;break;case"copy":case"cut":case"paste":m=ZG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=sR}var x=(e&4)!==0,_=!x&&r==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var b=c,A;b!==null;){A=b;var w=A.stateNode;if(A.tag===5&&w!==null&&(A=w,v!==null&&(w=Kf(b,v),w!=null&&x.push(im(b,w,A)))),_)break;b=b.return}0<x.length&&(f=new m(f,g,null,t,h),p.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=r==="mouseover"||r==="pointerover",m=r==="mouseout"||r==="pointerout",f&&t!==vS&&(g=t.relatedTarget||t.fromElement)&&(jc(g)||g[No]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?jc(g):null,g!==null&&(_=Nu(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(x=nR,w="onMouseLeave",v="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(x=sR,w="onPointerLeave",v="onPointerEnter",b="pointer"),_=m==null?f:Uh(m),A=g==null?f:Uh(g),f=new x(w,b+"leave",m,t,h),f.target=_,f.relatedTarget=A,w=null,jc(h)===c&&(x=new x(v,b+"enter",g,t,h),x.target=A,x.relatedTarget=_,w=x),_=w,m&&g)t:{for(x=m,v=g,b=0,A=x;A;A=ah(A))b++;for(A=0,w=v;w;w=ah(w))A++;for(;0<b-A;)x=ah(x),b--;for(;0<A-b;)v=ah(v),A--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=ah(x),v=ah(v)}x=null}else x=null;m!==null&&vR(p,f,m,x,!1),g!==null&&_!==null&&vR(p,_,g,x,!0)}}e:{if(f=c?Uh(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=y5;else if(cR(f))if(nL)T=A5;else{T=x5;var E=_5}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=b5);if(T&&(T=T(r,c))){iL(p,T,t,h);break e}E&&E(r,f,c),r==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&dS(f,"number",f.value)}switch(E=c?Uh(c):window,r){case"focusin":(cR(E)||E.contentEditable==="true")&&(Oh=E,wS=c,gf=null);break;case"focusout":gf=wS=Oh=null;break;case"mousedown":MS=!0;break;case"contextmenu":case"mouseup":case"dragend":MS=!1,fR(p,t,h);break;case"selectionchange":if(M5)break;case"keydown":case"keyup":fR(p,t,h)}var B;if(DM)e:{switch(r){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else kh?tL(r,t)&&(I="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(eL&&t.locale!=="ko"&&(kh||I!=="onCompositionStart"?I==="onCompositionEnd"&&kh&&(B=$D()):(bl=h,PM="value"in bl?bl.value:bl.textContent,kh=!0)),E=dy(c,I),0<E.length&&(I=new aR(I,r,null,t,h),p.push({event:I,listeners:E}),B?I.data=B:(B=rL(t),B!==null&&(I.data=B)))),(B=p5?f5(r,t):m5(r,t))&&(c=dy(c,"onBeforeInput"),0<c.length&&(h=new aR("onBeforeInput","beforeinput",null,t,h),p.push({event:h,listeners:c}),h.data=B))}fL(p,e)})}function im(r,e,t){return{instance:r,listener:e,currentTarget:t}}function dy(r,e){for(var t=e+"Capture",i=[];r!==null;){var n=r,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Kf(r,t),a!=null&&i.unshift(im(r,a,n)),a=Kf(r,e),a!=null&&i.push(im(r,a,n))),r=r.return}return i}function ah(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function vR(r,e,t,i,n){for(var a=e._reactName,s=[];t!==null&&t!==i;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,n?(l=Kf(t,a),l!=null&&s.unshift(im(t,l,o))):n||(l=Kf(t,a),l!=null&&s.push(im(t,l,o)))),t=t.return}s.length!==0&&r.push({event:e,listeners:s})}var R5=/\r\n?/g,P5=/\u0000|\uFFFD/g;function yR(r){return(typeof r=="string"?r:""+r).replace(R5,`
`).replace(P5,"")}function p0(r,e,t){if(e=yR(e),yR(r)!==e&&t)throw Error(Oe(425))}function py(){}var ES=null,CS=null;function TS(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var RS=typeof setTimeout=="function"?setTimeout:void 0,B5=typeof clearTimeout=="function"?clearTimeout:void 0,_R=typeof Promise=="function"?Promise:void 0,I5=typeof queueMicrotask=="function"?queueMicrotask:typeof _R<"u"?function(r){return _R.resolve(null).then(r).catch(D5)}:RS;function D5(r){setTimeout(function(){throw r})}function vb(r,e){var t=e,i=0;do{var n=t.nextSibling;if(r.removeChild(t),n&&n.nodeType===8)if(t=n.data,t==="/$"){if(i===0){r.removeChild(n),$f(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=n}while(t);$f(e)}function Bl(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function xR(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Wd=Math.random().toString(36).slice(2),Ns="__reactFiber$"+Wd,nm="__reactProps$"+Wd,No="__reactContainer$"+Wd,PS="__reactEvents$"+Wd,L5="__reactListeners$"+Wd,F5="__reactHandles$"+Wd;function jc(r){var e=r[Ns];if(e)return e;for(var t=r.parentNode;t;){if(e=t[No]||t[Ns]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=xR(r);r!==null;){if(t=r[Ns])return t;r=xR(r)}return e}r=t,t=r.parentNode}return null}function Vm(r){return r=r[Ns]||r[No],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Uh(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Oe(33))}function X1(r){return r[nm]||null}var BS=[],zh=-1;function Ql(r){return{current:r}}function br(r){0>zh||(r.current=BS[zh],BS[zh]=null,zh--)}function _r(r,e){zh++,BS[zh]=r.current,r.current=e}var Hl={},nn=Ql(Hl),Gn=Ql(!1),_u=Hl;function xd(r,e){var t=r.type.contextTypes;if(!t)return Hl;var i=r.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in t)n[a]=e[a];return i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=n),n}function Hn(r){return r=r.childContextTypes,r!=null}function fy(){br(Gn),br(nn)}function bR(r,e,t){if(nn.current!==Hl)throw Error(Oe(168));_r(nn,e),_r(Gn,t)}function gL(r,e,t){var i=r.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var n in i)if(!(n in e))throw Error(Oe(108,_G(r)||"Unknown",n));return Or({},t,i)}function my(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Hl,_u=nn.current,_r(nn,r),_r(Gn,Gn.current),!0}function AR(r,e,t){var i=r.stateNode;if(!i)throw Error(Oe(169));t?(r=gL(r,e,_u),i.__reactInternalMemoizedMergedChildContext=r,br(Gn),br(nn),_r(nn,r)):br(Gn),_r(Gn,t)}var yo=null,J1=!1,yb=!1;function vL(r){yo===null?yo=[r]:yo.push(r)}function k5(r){J1=!0,vL(r)}function $l(){if(!yb&&yo!==null){yb=!0;var r=0,e=cr;try{var t=yo;for(cr=1;r<t.length;r++){var i=t[r];do i=i(!0);while(i!==null)}yo=null,J1=!1}catch(n){throw yo!==null&&(yo=yo.slice(r+1)),HD(EM,$l),n}finally{cr=e,yb=!1}}return null}var Gh=[],Hh=0,gy=null,vy=0,za=[],Ga=0,xu=null,wo=1,Mo="";function Ic(r,e){Gh[Hh++]=vy,Gh[Hh++]=gy,gy=r,vy=e}function yL(r,e,t){za[Ga++]=wo,za[Ga++]=Mo,za[Ga++]=xu,xu=r;var i=wo;r=Mo;var n=32-fs(i)-1;i&=~(1<<n),t+=1;var a=32-fs(e)+n;if(30<a){var s=n-n%5;a=(i&(1<<s)-1).toString(32),i>>=s,n-=s,wo=1<<32-fs(e)+n|t<<n|i,Mo=a+r}else wo=1<<a|t<<n|i,Mo=r}function FM(r){r.return!==null&&(Ic(r,1),yL(r,1,0))}function kM(r){for(;r===gy;)gy=Gh[--Hh],Gh[Hh]=null,vy=Gh[--Hh],Gh[Hh]=null;for(;r===xu;)xu=za[--Ga],za[Ga]=null,Mo=za[--Ga],za[Ga]=null,wo=za[--Ga],za[Ga]=null}var pa=null,ca=null,Mr=!1,hs=null;function _L(r,e){var t=Wa(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function SR(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,pa=r,ca=Bl(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,pa=r,ca=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=xu!==null?{id:wo,overflow:Mo}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Wa(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,pa=r,ca=null,!0):!1;default:return!1}}function IS(r){return(r.mode&1)!==0&&(r.flags&128)===0}function DS(r){if(Mr){var e=ca;if(e){var t=e;if(!SR(r,e)){if(IS(r))throw Error(Oe(418));e=Bl(t.nextSibling);var i=pa;e&&SR(r,e)?_L(i,t):(r.flags=r.flags&-4097|2,Mr=!1,pa=r)}}else{if(IS(r))throw Error(Oe(418));r.flags=r.flags&-4097|2,Mr=!1,pa=r}}}function wR(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pa=r}function f0(r){if(r!==pa)return!1;if(!Mr)return wR(r),Mr=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!TS(r.type,r.memoizedProps)),e&&(e=ca)){if(IS(r))throw xL(),Error(Oe(418));for(;e;)_L(r,e),e=Bl(e.nextSibling)}if(wR(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Oe(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){ca=Bl(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}ca=null}}else ca=pa?Bl(r.stateNode.nextSibling):null;return!0}function xL(){for(var r=ca;r;)r=Bl(r.nextSibling)}function bd(){ca=pa=null,Mr=!1}function OM(r){hs===null?hs=[r]:hs.push(r)}var O5=Jo.ReactCurrentBatchConfig;function wp(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Oe(309));var i=t.stateNode}if(!i)throw Error(Oe(147,r));var n=i,a=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=n.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof r!="string")throw Error(Oe(284));if(!t._owner)throw Error(Oe(290,r))}return r}function m0(r,e){throw r=Object.prototype.toString.call(e),Error(Oe(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function MR(r){var e=r._init;return e(r._payload)}function bL(r){function e(v,b){if(r){var A=v.deletions;A===null?(v.deletions=[b],v.flags|=16):A.push(b)}}function t(v,b){if(!r)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function i(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function n(v,b){return v=Fl(v,b),v.index=0,v.sibling=null,v}function a(v,b,A){return v.index=A,r?(A=v.alternate,A!==null?(A=A.index,A<b?(v.flags|=2,b):A):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return r&&v.alternate===null&&(v.flags|=2),v}function o(v,b,A,w){return b===null||b.tag!==6?(b=Mb(A,v.mode,w),b.return=v,b):(b=n(b,A),b.return=v,b)}function l(v,b,A,w){var T=A.type;return T===Fh?h(v,b,A.props.children,w,A.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ml&&MR(T)===b.type)?(w=n(b,A.props),w.ref=wp(v,b,A),w.return=v,w):(w=jv(A.type,A.key,A.props,null,v.mode,w),w.ref=wp(v,b,A),w.return=v,w)}function c(v,b,A,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=Eb(A,v.mode,w),b.return=v,b):(b=n(b,A.children||[]),b.return=v,b)}function h(v,b,A,w,T){return b===null||b.tag!==7?(b=au(A,v.mode,w,T),b.return=v,b):(b=n(b,A),b.return=v,b)}function p(v,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mb(""+b,v.mode,A),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case n0:return A=jv(b.type,b.key,b.props,null,v.mode,A),A.ref=wp(v,null,b),A.return=v,A;case Lh:return b=Eb(b,v.mode,A),b.return=v,b;case ml:var w=b._init;return p(v,w(b._payload),A)}if(Qp(b)||_p(b))return b=au(b,v.mode,A,null),b.return=v,b;m0(v,b)}return null}function f(v,b,A,w){var T=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:o(v,b,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case n0:return A.key===T?l(v,b,A,w):null;case Lh:return A.key===T?c(v,b,A,w):null;case ml:return T=A._init,f(v,b,T(A._payload),w)}if(Qp(A)||_p(A))return T!==null?null:h(v,b,A,w,null);m0(v,A)}return null}function m(v,b,A,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(A)||null,o(b,v,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case n0:return v=v.get(w.key===null?A:w.key)||null,l(b,v,w,T);case Lh:return v=v.get(w.key===null?A:w.key)||null,c(b,v,w,T);case ml:var E=w._init;return m(v,b,A,E(w._payload),T)}if(Qp(w)||_p(w))return v=v.get(A)||null,h(b,v,w,T,null);m0(b,w)}return null}function g(v,b,A,w){for(var T=null,E=null,B=b,I=b=0,C=null;B!==null&&I<A.length;I++){B.index>I?(C=B,B=null):C=B.sibling;var R=f(v,B,A[I],w);if(R===null){B===null&&(B=C);break}r&&B&&R.alternate===null&&e(v,B),b=a(R,b,I),E===null?T=R:E.sibling=R,E=R,B=C}if(I===A.length)return t(v,B),Mr&&Ic(v,I),T;if(B===null){for(;I<A.length;I++)B=p(v,A[I],w),B!==null&&(b=a(B,b,I),E===null?T=B:E.sibling=B,E=B);return Mr&&Ic(v,I),T}for(B=i(v,B);I<A.length;I++)C=m(B,v,I,A[I],w),C!==null&&(r&&C.alternate!==null&&B.delete(C.key===null?I:C.key),b=a(C,b,I),E===null?T=C:E.sibling=C,E=C);return r&&B.forEach(function(D){return e(v,D)}),Mr&&Ic(v,I),T}function x(v,b,A,w){var T=_p(A);if(typeof T!="function")throw Error(Oe(150));if(A=T.call(A),A==null)throw Error(Oe(151));for(var E=T=null,B=b,I=b=0,C=null,R=A.next();B!==null&&!R.done;I++,R=A.next()){B.index>I?(C=B,B=null):C=B.sibling;var D=f(v,B,R.value,w);if(D===null){B===null&&(B=C);break}r&&B&&D.alternate===null&&e(v,B),b=a(D,b,I),E===null?T=D:E.sibling=D,E=D,B=C}if(R.done)return t(v,B),Mr&&Ic(v,I),T;if(B===null){for(;!R.done;I++,R=A.next())R=p(v,R.value,w),R!==null&&(b=a(R,b,I),E===null?T=R:E.sibling=R,E=R);return Mr&&Ic(v,I),T}for(B=i(v,B);!R.done;I++,R=A.next())R=m(B,v,I,R.value,w),R!==null&&(r&&R.alternate!==null&&B.delete(R.key===null?I:R.key),b=a(R,b,I),E===null?T=R:E.sibling=R,E=R);return r&&B.forEach(function(V){return e(v,V)}),Mr&&Ic(v,I),T}function _(v,b,A,w){if(typeof A=="object"&&A!==null&&A.type===Fh&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case n0:e:{for(var T=A.key,E=b;E!==null;){if(E.key===T){if(T=A.type,T===Fh){if(E.tag===7){t(v,E.sibling),b=n(E,A.props.children),b.return=v,v=b;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ml&&MR(T)===E.type){t(v,E.sibling),b=n(E,A.props),b.ref=wp(v,E,A),b.return=v,v=b;break e}t(v,E);break}else e(v,E);E=E.sibling}A.type===Fh?(b=au(A.props.children,v.mode,w,A.key),b.return=v,v=b):(w=jv(A.type,A.key,A.props,null,v.mode,w),w.ref=wp(v,b,A),w.return=v,v=w)}return s(v);case Lh:e:{for(E=A.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){t(v,b.sibling),b=n(b,A.children||[]),b.return=v,v=b;break e}else{t(v,b);break}else e(v,b);b=b.sibling}b=Eb(A,v.mode,w),b.return=v,v=b}return s(v);case ml:return E=A._init,_(v,b,E(A._payload),w)}if(Qp(A))return g(v,b,A,w);if(_p(A))return x(v,b,A,w);m0(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,b!==null&&b.tag===6?(t(v,b.sibling),b=n(b,A),b.return=v,v=b):(t(v,b),b=Mb(A,v.mode,w),b.return=v,v=b),s(v)):t(v,b)}return _}var Ad=bL(!0),AL=bL(!1),yy=Ql(null),_y=null,Vh=null,NM=null;function UM(){NM=Vh=_y=null}function zM(r){var e=yy.current;br(yy),r._currentValue=e}function LS(r,e,t){for(;r!==null;){var i=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),r===t)break;r=r.return}}function od(r,e){_y=r,NM=Vh=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Un=!0),r.firstContext=null)}function Za(r){var e=r._currentValue;if(NM!==r)if(r={context:r,memoizedValue:e,next:null},Vh===null){if(_y===null)throw Error(Oe(308));Vh=r,_y.dependencies={lanes:0,firstContext:r}}else Vh=Vh.next=r;return e}var Wc=null;function GM(r){Wc===null?Wc=[r]:Wc.push(r)}function SL(r,e,t,i){var n=e.interleaved;return n===null?(t.next=t,GM(e)):(t.next=n.next,n.next=t),e.interleaved=t,Uo(r,i)}function Uo(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var gl=!1;function HM(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wL(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Po(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Il(r,e,t){var i=r.updateQueue;if(i===null)return null;if(i=i.shared,er&2){var n=i.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),i.pending=e,Uo(r,t)}return n=i.interleaved,n===null?(e.next=e,GM(i)):(e.next=n.next,n.next=e),i.interleaved=e,Uo(r,t)}function Nv(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=r.pendingLanes,t|=i,e.lanes=t,CM(r,t)}}function ER(r,e){var t=r.updateQueue,i=r.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var n=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?n=a=s:a=a.next=s,t=t.next}while(t!==null);a===null?n=a=e:a=a.next=e}else n=a=e;t={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:i.shared,effects:i.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function xy(r,e,t,i){var n=r.updateQueue;gl=!1;var a=n.firstBaseUpdate,s=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var h=r.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var p=n.baseState;s=0,h=c=l=null,o=a;do{var f=o.lane,m=o.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=r,x=o;switch(f=e,m=t,x.tag){case 1:if(g=x.payload,typeof g=="function"){p=g.call(m,p,f);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(m,p,f):g,f==null)break e;p=Or({},p,f);break e;case 2:gl=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,f=n.effects,f===null?n.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=p):h=h.next=m,s|=f;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;f=o,o=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(1);if(h===null&&(l=p),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=h,e=n.shared.interleaved,e!==null){n=e;do s|=n.lane,n=n.next;while(n!==e)}else a===null&&(n.shared.lanes=0);Au|=s,r.lanes=s,r.memoizedState=p}}function CR(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var i=r[e],n=i.callback;if(n!==null){if(i.callback=null,i=t,typeof n!="function")throw Error(Oe(191,n));n.call(i)}}}var jm={},Vs=Ql(jm),am=Ql(jm),sm=Ql(jm);function Xc(r){if(r===jm)throw Error(Oe(174));return r}function VM(r,e){switch(_r(sm,e),_r(am,r),_r(Vs,jm),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fS(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=fS(e,r)}br(Vs),_r(Vs,e)}function Sd(){br(Vs),br(am),br(sm)}function ML(r){Xc(sm.current);var e=Xc(Vs.current),t=fS(e,r.type);e!==t&&(_r(am,r),_r(Vs,t))}function jM(r){am.current===r&&(br(Vs),br(am))}var Br=Ql(0);function by(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _b=[];function WM(){for(var r=0;r<_b.length;r++)_b[r]._workInProgressVersionPrimary=null;_b.length=0}var Uv=Jo.ReactCurrentDispatcher,xb=Jo.ReactCurrentBatchConfig,bu=0,kr=null,ui=null,Si=null,Ay=!1,vf=!1,om=0,N5=0;function ji(){throw Error(Oe(321))}function XM(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!_s(r[t],e[t]))return!1;return!0}function JM(r,e,t,i,n,a){if(bu=a,kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uv.current=r===null||r.memoizedState===null?H5:V5,r=t(i,n),vf){a=0;do{if(vf=!1,om=0,25<=a)throw Error(Oe(301));a+=1,Si=ui=null,e.updateQueue=null,Uv.current=j5,r=t(i,n)}while(vf)}if(Uv.current=Sy,e=ui!==null&&ui.next!==null,bu=0,Si=ui=kr=null,Ay=!1,e)throw Error(Oe(300));return r}function YM(){var r=om!==0;return om=0,r}function Ls(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?kr.memoizedState=Si=r:Si=Si.next=r,Si}function Qa(){if(ui===null){var r=kr.alternate;r=r!==null?r.memoizedState:null}else r=ui.next;var e=Si===null?kr.memoizedState:Si.next;if(e!==null)Si=e,ui=r;else{if(r===null)throw Error(Oe(310));ui=r,r={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},Si===null?kr.memoizedState=Si=r:Si=Si.next=r}return Si}function lm(r,e){return typeof e=="function"?e(r):e}function bb(r){var e=Qa(),t=e.queue;if(t===null)throw Error(Oe(311));t.lastRenderedReducer=r;var i=ui,n=i.baseQueue,a=t.pending;if(a!==null){if(n!==null){var s=n.next;n.next=a.next,a.next=s}i.baseQueue=n=a,t.pending=null}if(n!==null){a=n.next,i=i.baseState;var o=s=null,l=null,c=a;do{var h=c.lane;if((bu&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:r(i,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=p,s=i):l=l.next=p,kr.lanes|=h,Au|=h}c=c.next}while(c!==null&&c!==a);l===null?s=i:l.next=o,_s(i,e.memoizedState)||(Un=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,t.lastRenderedState=i}if(r=t.interleaved,r!==null){n=r;do a=n.lane,kr.lanes|=a,Au|=a,n=n.next;while(n!==r)}else n===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Ab(r){var e=Qa(),t=e.queue;if(t===null)throw Error(Oe(311));t.lastRenderedReducer=r;var i=t.dispatch,n=t.pending,a=e.memoizedState;if(n!==null){t.pending=null;var s=n=n.next;do a=r(a,s.action),s=s.next;while(s!==n);_s(a,e.memoizedState)||(Un=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,i]}function EL(){}function CL(r,e){var t=kr,i=Qa(),n=e(),a=!_s(i.memoizedState,n);if(a&&(i.memoizedState=n,Un=!0),i=i.queue,qM(PL.bind(null,t,i,r),[r]),i.getSnapshot!==e||a||Si!==null&&Si.memoizedState.tag&1){if(t.flags|=2048,cm(9,RL.bind(null,t,i,n,e),void 0,null),wi===null)throw Error(Oe(349));bu&30||TL(t,e,n)}return n}function TL(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function RL(r,e,t,i){e.value=t,e.getSnapshot=i,BL(e)&&IL(r)}function PL(r,e,t){return t(function(){BL(e)&&IL(r)})}function BL(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!_s(r,t)}catch{return!0}}function IL(r){var e=Uo(r,1);e!==null&&ms(e,r,1,-1)}function TR(r){var e=Ls();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:r},e.queue=r,r=r.dispatch=G5.bind(null,kr,r),[e.memoizedState,r]}function cm(r,e,t,i){return r={tag:r,create:e,destroy:t,deps:i,next:null},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(i=t.next,t.next=r,r.next=i,e.lastEffect=r)),r}function DL(){return Qa().memoizedState}function zv(r,e,t,i){var n=Ls();kr.flags|=r,n.memoizedState=cm(1|e,t,void 0,i===void 0?null:i)}function Y1(r,e,t,i){var n=Qa();i=i===void 0?null:i;var a=void 0;if(ui!==null){var s=ui.memoizedState;if(a=s.destroy,i!==null&&XM(i,s.deps)){n.memoizedState=cm(e,t,a,i);return}}kr.flags|=r,n.memoizedState=cm(1|e,t,a,i)}function RR(r,e){return zv(8390656,8,r,e)}function qM(r,e){return Y1(2048,8,r,e)}function LL(r,e){return Y1(4,2,r,e)}function FL(r,e){return Y1(4,4,r,e)}function kL(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function OL(r,e,t){return t=t!=null?t.concat([r]):null,Y1(4,4,kL.bind(null,e,r),t)}function KM(){}function NL(r,e){var t=Qa();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&XM(e,i[1])?i[0]:(t.memoizedState=[r,e],r)}function UL(r,e){var t=Qa();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&XM(e,i[1])?i[0]:(r=r(),t.memoizedState=[r,e],r)}function zL(r,e,t){return bu&21?(_s(t,e)||(t=WD(),kr.lanes|=t,Au|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Un=!0),r.memoizedState=t)}function U5(r,e){var t=cr;cr=t!==0&&4>t?t:4,r(!0);var i=xb.transition;xb.transition={};try{r(!1),e()}finally{cr=t,xb.transition=i}}function GL(){return Qa().memoizedState}function z5(r,e,t){var i=Ll(r);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},HL(r))VL(e,t);else if(t=SL(r,e,t,i),t!==null){var n=An();ms(t,r,i,n),jL(t,e,i)}}function G5(r,e,t){var i=Ll(r),n={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(HL(r))VL(e,n);else{var a=r.alternate;if(r.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,t);if(n.hasEagerState=!0,n.eagerState=o,_s(o,s)){var l=e.interleaved;l===null?(n.next=n,GM(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}t=SL(r,e,n,i),t!==null&&(n=An(),ms(t,r,i,n),jL(t,e,i))}}function HL(r){var e=r.alternate;return r===kr||e!==null&&e===kr}function VL(r,e){vf=Ay=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function jL(r,e,t){if(t&4194240){var i=e.lanes;i&=r.pendingLanes,t|=i,e.lanes=t,CM(r,t)}}var Sy={readContext:Za,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},H5={readContext:Za,useCallback:function(r,e){return Ls().memoizedState=[r,e===void 0?null:e],r},useContext:Za,useEffect:RR,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,zv(4194308,4,kL.bind(null,e,r),t)},useLayoutEffect:function(r,e){return zv(4194308,4,r,e)},useInsertionEffect:function(r,e){return zv(4,2,r,e)},useMemo:function(r,e){var t=Ls();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var i=Ls();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},i.queue=r,r=r.dispatch=z5.bind(null,kr,r),[i.memoizedState,r]},useRef:function(r){var e=Ls();return r={current:r},e.memoizedState=r},useState:TR,useDebugValue:KM,useDeferredValue:function(r){return Ls().memoizedState=r},useTransition:function(){var r=TR(!1),e=r[0];return r=U5.bind(null,r[1]),Ls().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var i=kr,n=Ls();if(Mr){if(t===void 0)throw Error(Oe(407));t=t()}else{if(t=e(),wi===null)throw Error(Oe(349));bu&30||TL(i,e,t)}n.memoizedState=t;var a={value:t,getSnapshot:e};return n.queue=a,RR(PL.bind(null,i,a,r),[r]),i.flags|=2048,cm(9,RL.bind(null,i,a,t,e),void 0,null),t},useId:function(){var r=Ls(),e=wi.identifierPrefix;if(Mr){var t=Mo,i=wo;t=(i&~(1<<32-fs(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=om++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=N5++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},V5={readContext:Za,useCallback:NL,useContext:Za,useEffect:qM,useImperativeHandle:OL,useInsertionEffect:LL,useLayoutEffect:FL,useMemo:UL,useReducer:bb,useRef:DL,useState:function(){return bb(lm)},useDebugValue:KM,useDeferredValue:function(r){var e=Qa();return zL(e,ui.memoizedState,r)},useTransition:function(){var r=bb(lm)[0],e=Qa().memoizedState;return[r,e]},useMutableSource:EL,useSyncExternalStore:CL,useId:GL,unstable_isNewReconciler:!1},j5={readContext:Za,useCallback:NL,useContext:Za,useEffect:qM,useImperativeHandle:OL,useInsertionEffect:LL,useLayoutEffect:FL,useMemo:UL,useReducer:Ab,useRef:DL,useState:function(){return Ab(lm)},useDebugValue:KM,useDeferredValue:function(r){var e=Qa();return ui===null?e.memoizedState=r:zL(e,ui.memoizedState,r)},useTransition:function(){var r=Ab(lm)[0],e=Qa().memoizedState;return[r,e]},useMutableSource:EL,useSyncExternalStore:CL,useId:GL,unstable_isNewReconciler:!1};function ls(r,e){if(r&&r.defaultProps){e=Or({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function FS(r,e,t,i){e=r.memoizedState,t=t(i,e),t=t==null?e:Or({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var q1={isMounted:function(r){return(r=r._reactInternals)?Nu(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var i=An(),n=Ll(r),a=Po(i,n);a.payload=e,t!=null&&(a.callback=t),e=Il(r,a,n),e!==null&&(ms(e,r,n,i),Nv(e,r,n))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var i=An(),n=Ll(r),a=Po(i,n);a.tag=1,a.payload=e,t!=null&&(a.callback=t),e=Il(r,a,n),e!==null&&(ms(e,r,n,i),Nv(e,r,n))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=An(),i=Ll(r),n=Po(t,i);n.tag=2,e!=null&&(n.callback=e),e=Il(r,n,i),e!==null&&(ms(e,r,i,t),Nv(e,r,i))}};function PR(r,e,t,i,n,a,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!tm(t,i)||!tm(n,a):!0}function WL(r,e,t){var i=!1,n=Hl,a=e.contextType;return typeof a=="object"&&a!==null?a=Za(a):(n=Hn(e)?_u:nn.current,i=e.contextTypes,a=(i=i!=null)?xd(r,n):Hl),e=new e(t,a),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q1,r.stateNode=e,e._reactInternals=r,i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=n,r.__reactInternalMemoizedMaskedChildContext=a),e}function BR(r,e,t,i){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==r&&q1.enqueueReplaceState(e,e.state,null)}function kS(r,e,t,i){var n=r.stateNode;n.props=t,n.state=r.memoizedState,n.refs={},HM(r);var a=e.contextType;typeof a=="object"&&a!==null?n.context=Za(a):(a=Hn(e)?_u:nn.current,n.context=xd(r,a)),n.state=r.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(FS(r,e,a,t),n.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&q1.enqueueReplaceState(n,n.state,null),xy(r,t,n,i),n.state=r.memoizedState),typeof n.componentDidMount=="function"&&(r.flags|=4194308)}function wd(r,e){try{var t="",i=e;do t+=yG(i),i=i.return;while(i);var n=t}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:r,source:e,stack:n,digest:null}}function Sb(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function OS(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var W5=typeof WeakMap=="function"?WeakMap:Map;function XL(r,e,t){t=Po(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){My||(My=!0,XS=i),OS(r,e)},t}function JL(r,e,t){t=Po(-1,t),t.tag=3;var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;t.payload=function(){return i(n)},t.callback=function(){OS(r,e)}}var a=r.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){OS(r,e),typeof i!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function IR(r,e,t){var i=r.pingCache;if(i===null){i=r.pingCache=new W5;var n=new Set;i.set(e,n)}else n=i.get(e),n===void 0&&(n=new Set,i.set(e,n));n.has(t)||(n.add(t),r=aH.bind(null,r,e,t),e.then(r,r))}function DR(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function LR(r,e,t,i,n){return r.mode&1?(r.flags|=65536,r.lanes=n,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Po(-1,1),e.tag=2,Il(t,e,1))),t.lanes|=1),r)}var X5=Jo.ReactCurrentOwner,Un=!1;function mn(r,e,t,i){e.child=r===null?AL(e,null,t,i):Ad(e,r.child,t,i)}function FR(r,e,t,i,n){t=t.render;var a=e.ref;return od(e,n),i=JM(r,e,t,i,a,n),t=YM(),r!==null&&!Un?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~n,zo(r,e,n)):(Mr&&t&&FM(e),e.flags|=1,mn(r,e,i,n),e.child)}function kR(r,e,t,i,n){if(r===null){var a=t.type;return typeof a=="function"&&!nE(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=a,YL(r,e,a,i,n)):(r=jv(t.type,null,i,e,e.mode,n),r.ref=e.ref,r.return=e,e.child=r)}if(a=r.child,!(r.lanes&n)){var s=a.memoizedProps;if(t=t.compare,t=t!==null?t:tm,t(s,i)&&r.ref===e.ref)return zo(r,e,n)}return e.flags|=1,r=Fl(a,i),r.ref=e.ref,r.return=e,e.child=r}function YL(r,e,t,i,n){if(r!==null){var a=r.memoizedProps;if(tm(a,i)&&r.ref===e.ref)if(Un=!1,e.pendingProps=i=a,(r.lanes&n)!==0)r.flags&131072&&(Un=!0);else return e.lanes=r.lanes,zo(r,e,n)}return NS(r,e,t,i,n)}function qL(r,e,t){var i=e.pendingProps,n=i.children,a=r!==null?r.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Wh,ia),ia|=t;else{if(!(t&1073741824))return r=a!==null?a.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,_r(Wh,ia),ia|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:t,_r(Wh,ia),ia|=i}else a!==null?(i=a.baseLanes|t,e.memoizedState=null):i=t,_r(Wh,ia),ia|=i;return mn(r,e,n,t),e.child}function KL(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function NS(r,e,t,i,n){var a=Hn(t)?_u:nn.current;return a=xd(e,a),od(e,n),t=JM(r,e,t,i,a,n),i=YM(),r!==null&&!Un?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~n,zo(r,e,n)):(Mr&&i&&FM(e),e.flags|=1,mn(r,e,t,n),e.child)}function OR(r,e,t,i,n){if(Hn(t)){var a=!0;my(e)}else a=!1;if(od(e,n),e.stateNode===null)Gv(r,e),WL(e,t,i),kS(e,t,i,n),i=!0;else if(r===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=Za(c):(c=Hn(t)?_u:nn.current,c=xd(e,c));var h=t.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==i||l!==c)&&BR(e,s,i,c),gl=!1;var f=e.memoizedState;s.state=f,xy(e,i,s,n),l=e.memoizedState,o!==i||f!==l||Gn.current||gl?(typeof h=="function"&&(FS(e,t,h,i),l=e.memoizedState),(o=gl||PR(e,t,o,i,f,l,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,wL(r,e),o=e.memoizedProps,c=e.type===e.elementType?o:ls(e.type,o),s.props=c,p=e.pendingProps,f=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=Za(l):(l=Hn(t)?_u:nn.current,l=xd(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==p||f!==l)&&BR(e,s,i,l),gl=!1,f=e.memoizedState,s.state=f,xy(e,i,s,n);var g=e.memoizedState;o!==p||f!==g||Gn.current||gl?(typeof m=="function"&&(FS(e,t,m,i),g=e.memoizedState),(c=gl||PR(e,t,c,i,f,g,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),s.props=i,s.state=g,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),i=!1)}return US(r,e,t,i,a,n)}function US(r,e,t,i,n,a){KL(r,e);var s=(e.flags&128)!==0;if(!i&&!s)return n&&AR(e,t,!1),zo(r,e,a);i=e.stateNode,X5.current=e;var o=s&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,r!==null&&s?(e.child=Ad(e,r.child,null,a),e.child=Ad(e,null,o,a)):mn(r,e,o,a),e.memoizedState=i.state,n&&AR(e,t,!0),e.child}function ZL(r){var e=r.stateNode;e.pendingContext?bR(r,e.pendingContext,e.pendingContext!==e.context):e.context&&bR(r,e.context,!1),VM(r,e.containerInfo)}function NR(r,e,t,i,n){return bd(),OM(n),e.flags|=256,mn(r,e,t,i),e.child}var zS={dehydrated:null,treeContext:null,retryLane:0};function GS(r){return{baseLanes:r,cachePool:null,transitions:null}}function QL(r,e,t){var i=e.pendingProps,n=Br.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=r!==null&&r.memoizedState===null?!1:(n&2)!==0),o?(a=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(n|=1),_r(Br,n&1),r===null)return DS(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,r=i.fallback,a?(i=e.mode,a=e.child,s={mode:"hidden",children:s},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Q1(s,i,0,null),r=au(r,i,t,null),a.return=e,r.return=e,a.sibling=r,e.child=a,e.child.memoizedState=GS(t),e.memoizedState=zS,r):ZM(e,s));if(n=r.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return J5(r,e,s,i,o,n,t);if(a){a=i.fallback,s=e.mode,n=r.child,o=n.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==n?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Fl(n,l),i.subtreeFlags=n.subtreeFlags&14680064),o!==null?a=Fl(o,a):(a=au(a,s,t,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,s=r.child.memoizedState,s=s===null?GS(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=r.childLanes&~t,e.memoizedState=zS,i}return a=r.child,r=a.sibling,i=Fl(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=i,e.memoizedState=null,i}function ZM(r,e){return e=Q1({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function g0(r,e,t,i){return i!==null&&OM(i),Ad(e,r.child,null,t),r=ZM(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function J5(r,e,t,i,n,a,s){if(t)return e.flags&256?(e.flags&=-257,i=Sb(Error(Oe(422))),g0(r,e,s,i)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(a=i.fallback,n=e.mode,i=Q1({mode:"visible",children:i.children},n,0,null),a=au(a,n,s,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&Ad(e,r.child,null,s),e.child.memoizedState=GS(s),e.memoizedState=zS,a);if(!(e.mode&1))return g0(r,e,s,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var o=i.dgst;return i=o,a=Error(Oe(419)),i=Sb(a,i,void 0),g0(r,e,s,i)}if(o=(s&r.childLanes)!==0,Un||o){if(i=wi,i!==null){switch(s&-s){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|s)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,Uo(r,n),ms(i,r,n,-1))}return iE(),i=Sb(Error(Oe(421))),g0(r,e,s,i)}return n.data==="$?"?(e.flags|=128,e.child=r.child,e=sH.bind(null,r),n._reactRetry=e,null):(r=a.treeContext,ca=Bl(n.nextSibling),pa=e,Mr=!0,hs=null,r!==null&&(za[Ga++]=wo,za[Ga++]=Mo,za[Ga++]=xu,wo=r.id,Mo=r.overflow,xu=e),e=ZM(e,i.children),e.flags|=4096,e)}function UR(r,e,t){r.lanes|=e;var i=r.alternate;i!==null&&(i.lanes|=e),LS(r.return,e,t)}function wb(r,e,t,i,n){var a=r.memoizedState;a===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:n}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=t,a.tailMode=n)}function $L(r,e,t){var i=e.pendingProps,n=i.revealOrder,a=i.tail;if(mn(r,e,i.children,t),i=Br.current,i&2)i=i&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&UR(r,t,e);else if(r.tag===19)UR(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}i&=1}if(_r(Br,i),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(t=e.child,n=null;t!==null;)r=t.alternate,r!==null&&by(r)===null&&(n=t),t=t.sibling;t=n,t===null?(n=e.child,e.child=null):(n=t.sibling,t.sibling=null),wb(e,!1,n,t,a);break;case"backwards":for(t=null,n=e.child,e.child=null;n!==null;){if(r=n.alternate,r!==null&&by(r)===null){e.child=n;break}r=n.sibling,n.sibling=t,t=n,n=r}wb(e,!0,t,null,a);break;case"together":wb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gv(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function zo(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),Au|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(Oe(153));if(e.child!==null){for(r=e.child,t=Fl(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Fl(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function Y5(r,e,t){switch(e.tag){case 3:ZL(e),bd();break;case 5:ML(e);break;case 1:Hn(e.type)&&my(e);break;case 4:VM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,n=e.memoizedProps.value;_r(yy,i._currentValue),i._currentValue=n;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(_r(Br,Br.current&1),e.flags|=128,null):t&e.child.childLanes?QL(r,e,t):(_r(Br,Br.current&1),r=zo(r,e,t),r!==null?r.sibling:null);_r(Br,Br.current&1);break;case 19:if(i=(t&e.childLanes)!==0,r.flags&128){if(i)return $L(r,e,t);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),_r(Br,Br.current),i)break;return null;case 22:case 23:return e.lanes=0,qL(r,e,t)}return zo(r,e,t)}var eF,HS,tF,rF;eF=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};HS=function(){};tF=function(r,e,t,i){var n=r.memoizedProps;if(n!==i){r=e.stateNode,Xc(Vs.current);var a=null;switch(t){case"input":n=uS(r,n),i=uS(r,i),a=[];break;case"select":n=Or({},n,{value:void 0}),i=Or({},i,{value:void 0}),a=[];break;case"textarea":n=pS(r,n),i=pS(r,i),a=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(r.onclick=py)}mS(t,i);var s;t=null;for(c in n)if(!i.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var o=n[c];for(s in o)o.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var l=i[c];if(o=n!=null?n[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(a||(a=[]),a.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xr("scroll",r),a||o===l||(a=[])):(a=a||[]).push(c,l))}t&&(a=a||[]).push("style",t);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};rF=function(r,e,t,i){t!==i&&(e.flags|=4)};function Mp(r,e){if(!Mr)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:i.sibling=null}}function Wi(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,i=0;if(e)for(var n=r.child;n!==null;)t|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=r,n=n.sibling;else for(n=r.child;n!==null;)t|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=r,n=n.sibling;return r.subtreeFlags|=i,r.childLanes=t,e}function q5(r,e,t){var i=e.pendingProps;switch(kM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(e),null;case 1:return Hn(e.type)&&fy(),Wi(e),null;case 3:return i=e.stateNode,Sd(),br(Gn),br(nn),WM(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(r===null||r.child===null)&&(f0(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(qS(hs),hs=null))),HS(r,e),Wi(e),null;case 5:jM(e);var n=Xc(sm.current);if(t=e.type,r!==null&&e.stateNode!=null)tF(r,e,t,i,n),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Oe(166));return Wi(e),null}if(r=Xc(Vs.current),f0(e)){i=e.stateNode,t=e.type;var a=e.memoizedProps;switch(i[Ns]=e,i[nm]=a,r=(e.mode&1)!==0,t){case"dialog":xr("cancel",i),xr("close",i);break;case"iframe":case"object":case"embed":xr("load",i);break;case"video":case"audio":for(n=0;n<ef.length;n++)xr(ef[n],i);break;case"source":xr("error",i);break;case"img":case"image":case"link":xr("error",i),xr("load",i);break;case"details":xr("toggle",i);break;case"input":Y2(i,a),xr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},xr("invalid",i);break;case"textarea":K2(i,a),xr("invalid",i)}mS(t,a),n=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?i.textContent!==o&&(a.suppressHydrationWarning!==!0&&p0(i.textContent,o,r),n=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&p0(i.textContent,o,r),n=["children",""+o]):Yf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&xr("scroll",i)}switch(t){case"input":a0(i),q2(i,a,!0);break;case"textarea":a0(i),Z2(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=py)}i=n,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=n.nodeType===9?n:n.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=PD(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof i.is=="string"?r=s.createElement(t,{is:i.is}):(r=s.createElement(t),t==="select"&&(s=r,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):r=s.createElementNS(r,t),r[Ns]=e,r[nm]=i,eF(r,e,!1,!1),e.stateNode=r;e:{switch(s=gS(t,i),t){case"dialog":xr("cancel",r),xr("close",r),n=i;break;case"iframe":case"object":case"embed":xr("load",r),n=i;break;case"video":case"audio":for(n=0;n<ef.length;n++)xr(ef[n],r);n=i;break;case"source":xr("error",r),n=i;break;case"img":case"image":case"link":xr("error",r),xr("load",r),n=i;break;case"details":xr("toggle",r),n=i;break;case"input":Y2(r,i),n=uS(r,i),xr("invalid",r);break;case"option":n=i;break;case"select":r._wrapperState={wasMultiple:!!i.multiple},n=Or({},i,{value:void 0}),xr("invalid",r);break;case"textarea":K2(r,i),n=pS(r,i),xr("invalid",r);break;default:n=i}mS(t,n),o=n;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?DD(r,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BD(r,l)):a==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&qf(r,l):typeof l=="number"&&qf(r,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&xr("scroll",r):l!=null&&bM(r,a,l,s))}switch(t){case"input":a0(r),q2(r,i,!1);break;case"textarea":a0(r),Z2(r);break;case"option":i.value!=null&&r.setAttribute("value",""+Gl(i.value));break;case"select":r.multiple=!!i.multiple,a=i.value,a!=null?id(r,!!i.multiple,a,!1):i.defaultValue!=null&&id(r,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(r.onclick=py)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wi(e),null;case 6:if(r&&e.stateNode!=null)rF(r,e,r.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Oe(166));if(t=Xc(sm.current),Xc(Vs.current),f0(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ns]=e,(a=i.nodeValue!==t)&&(r=pa,r!==null))switch(r.tag){case 3:p0(i.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&p0(i.nodeValue,t,(r.mode&1)!==0)}a&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ns]=e,e.stateNode=i}return Wi(e),null;case 13:if(br(Br),i=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Mr&&ca!==null&&e.mode&1&&!(e.flags&128))xL(),bd(),e.flags|=98560,a=!1;else if(a=f0(e),i!==null&&i.dehydrated!==null){if(r===null){if(!a)throw Error(Oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[Ns]=e}else bd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wi(e),a=!1}else hs!==null&&(qS(hs),hs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(r!==null&&r.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(r===null||Br.current&1?di===0&&(di=3):iE())),e.updateQueue!==null&&(e.flags|=4),Wi(e),null);case 4:return Sd(),HS(r,e),r===null&&rm(e.stateNode.containerInfo),Wi(e),null;case 10:return zM(e.type._context),Wi(e),null;case 17:return Hn(e.type)&&fy(),Wi(e),null;case 19:if(br(Br),a=e.memoizedState,a===null)return Wi(e),null;if(i=(e.flags&128)!==0,s=a.rendering,s===null)if(i)Mp(a,!1);else{if(di!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(s=by(r),s!==null){for(e.flags|=128,Mp(a,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)a=t,r=i,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return _r(Br,Br.current&1|2),e.child}r=r.sibling}a.tail!==null&&Yr()>Md&&(e.flags|=128,i=!0,Mp(a,!1),e.lanes=4194304)}else{if(!i)if(r=by(s),r!==null){if(e.flags|=128,i=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Mp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Mr)return Wi(e),null}else 2*Yr()-a.renderingStartTime>Md&&t!==1073741824&&(e.flags|=128,i=!0,Mp(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Yr(),e.sibling=null,t=Br.current,_r(Br,i?t&1|2:t&1),e):(Wi(e),null);case 22:case 23:return rE(),i=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ia&1073741824&&(Wi(e),e.subtreeFlags&6&&(e.flags|=8192)):Wi(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function K5(r,e){switch(kM(e),e.tag){case 1:return Hn(e.type)&&fy(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Sd(),br(Gn),br(nn),WM(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return jM(e),null;case 13:if(br(Br),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));bd()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return br(Br),null;case 4:return Sd(),null;case 10:return zM(e.type._context),null;case 22:case 23:return rE(),null;case 24:return null;default:return null}}var v0=!1,Zi=!1,Z5=typeof WeakSet=="function"?WeakSet:Set,st=null;function jh(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Gr(r,e,i)}else t.current=null}function iF(r,e,t){try{t()}catch(i){Gr(r,e,i)}}var zR=!1;function Q5(r,e){if(ES=uy,r=oL(),LM(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var n=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var s=0,o=-1,l=-1,c=0,h=0,p=r,f=null;t:for(;;){for(var m;p!==t||n!==0&&p.nodeType!==3||(o=s+n),p!==a||i!==0&&p.nodeType!==3||(l=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===r)break t;if(f===t&&++c===n&&(o=s),f===a&&++h===i&&(l=s),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(CS={focusedElem:r,selectionRange:t},uy=!1,st=e;st!==null;)if(e=st,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,st=r;else for(;st!==null;){e=st;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,_=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:ls(e.type,x),_);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(w){Gr(e,e.return,w)}if(r=e.sibling,r!==null){r.return=e.return,st=r;break}st=e.return}return g=zR,zR=!1,g}function yf(r,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&r)===r){var a=n.destroy;n.destroy=void 0,a!==void 0&&iF(e,t,a)}n=n.next}while(n!==i)}}function K1(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function VS(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function nF(r){var e=r.alternate;e!==null&&(r.alternate=null,nF(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Ns],delete e[nm],delete e[PS],delete e[L5],delete e[F5])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function aF(r){return r.tag===5||r.tag===3||r.tag===4}function GR(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||aF(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jS(r,e,t){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=py));else if(i!==4&&(r=r.child,r!==null))for(jS(r,e,t),r=r.sibling;r!==null;)jS(r,e,t),r=r.sibling}function WS(r,e,t){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(i!==4&&(r=r.child,r!==null))for(WS(r,e,t),r=r.sibling;r!==null;)WS(r,e,t),r=r.sibling}var Pi=null,us=!1;function rl(r,e,t){for(t=t.child;t!==null;)sF(r,e,t),t=t.sibling}function sF(r,e,t){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(H1,t)}catch{}switch(t.tag){case 5:Zi||jh(t,e);case 6:var i=Pi,n=us;Pi=null,rl(r,e,t),Pi=i,us=n,Pi!==null&&(us?(r=Pi,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Pi.removeChild(t.stateNode));break;case 18:Pi!==null&&(us?(r=Pi,t=t.stateNode,r.nodeType===8?vb(r.parentNode,t):r.nodeType===1&&vb(r,t),$f(r)):vb(Pi,t.stateNode));break;case 4:i=Pi,n=us,Pi=t.stateNode.containerInfo,us=!0,rl(r,e,t),Pi=i,us=n;break;case 0:case 11:case 14:case 15:if(!Zi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var a=n,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&iF(t,e,s),n=n.next}while(n!==i)}rl(r,e,t);break;case 1:if(!Zi&&(jh(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){Gr(t,e,o)}rl(r,e,t);break;case 21:rl(r,e,t);break;case 22:t.mode&1?(Zi=(i=Zi)||t.memoizedState!==null,rl(r,e,t),Zi=i):rl(r,e,t);break;default:rl(r,e,t)}}function HR(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new Z5),e.forEach(function(i){var n=oH.bind(null,r,i);t.has(i)||(t.add(i),i.then(n,n))})}}function is(r,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var n=t[i];try{var a=r,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Pi=o.stateNode,us=!1;break e;case 3:Pi=o.stateNode.containerInfo,us=!0;break e;case 4:Pi=o.stateNode.containerInfo,us=!0;break e}o=o.return}if(Pi===null)throw Error(Oe(160));sF(a,s,n),Pi=null,us=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){Gr(n,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oF(e,r),e=e.sibling}function oF(r,e){var t=r.alternate,i=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(is(e,r),Ds(r),i&4){try{yf(3,r,r.return),K1(3,r)}catch(x){Gr(r,r.return,x)}try{yf(5,r,r.return)}catch(x){Gr(r,r.return,x)}}break;case 1:is(e,r),Ds(r),i&512&&t!==null&&jh(t,t.return);break;case 5:if(is(e,r),Ds(r),i&512&&t!==null&&jh(t,t.return),r.flags&32){var n=r.stateNode;try{qf(n,"")}catch(x){Gr(r,r.return,x)}}if(i&4&&(n=r.stateNode,n!=null)){var a=r.memoizedProps,s=t!==null?t.memoizedProps:a,o=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&TD(n,a),gS(o,s);var c=gS(o,a);for(s=0;s<l.length;s+=2){var h=l[s],p=l[s+1];h==="style"?DD(n,p):h==="dangerouslySetInnerHTML"?BD(n,p):h==="children"?qf(n,p):bM(n,h,p,c)}switch(o){case"input":hS(n,a);break;case"textarea":RD(n,a);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?id(n,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?id(n,!!a.multiple,a.defaultValue,!0):id(n,!!a.multiple,a.multiple?[]:"",!1))}n[nm]=a}catch(x){Gr(r,r.return,x)}}break;case 6:if(is(e,r),Ds(r),i&4){if(r.stateNode===null)throw Error(Oe(162));n=r.stateNode,a=r.memoizedProps;try{n.nodeValue=a}catch(x){Gr(r,r.return,x)}}break;case 3:if(is(e,r),Ds(r),i&4&&t!==null&&t.memoizedState.isDehydrated)try{$f(e.containerInfo)}catch(x){Gr(r,r.return,x)}break;case 4:is(e,r),Ds(r);break;case 13:is(e,r),Ds(r),n=r.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(eE=Yr())),i&4&&HR(r);break;case 22:if(h=t!==null&&t.memoizedState!==null,r.mode&1?(Zi=(c=Zi)||h,is(e,r),Zi=c):is(e,r),Ds(r),i&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!h&&r.mode&1)for(st=r,h=r.child;h!==null;){for(p=st=h;st!==null;){switch(f=st,m=f.child,f.tag){case 0:case 11:case 14:case 15:yf(4,f,f.return);break;case 1:jh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Gr(i,t,x)}}break;case 5:jh(f,f.return);break;case 22:if(f.memoizedState!==null){jR(p);continue}}m!==null?(m.return=f,st=m):jR(p)}h=h.sibling}e:for(h=null,p=r;;){if(p.tag===5){if(h===null){h=p;try{n=p.stateNode,c?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,l=p.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ID("display",s))}catch(x){Gr(r,r.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){Gr(r,r.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===r)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:is(e,r),Ds(r),i&4&&HR(r);break;case 21:break;default:is(e,r),Ds(r)}}function Ds(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(aF(t)){var i=t;break e}t=t.return}throw Error(Oe(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(qf(n,""),i.flags&=-33);var a=GR(r);WS(r,a,n);break;case 3:case 4:var s=i.stateNode.containerInfo,o=GR(r);jS(r,o,s);break;default:throw Error(Oe(161))}}catch(l){Gr(r,r.return,l)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function $5(r,e,t){st=r,lF(r)}function lF(r,e,t){for(var i=(r.mode&1)!==0;st!==null;){var n=st,a=n.child;if(n.tag===22&&i){var s=n.memoizedState!==null||v0;if(!s){var o=n.alternate,l=o!==null&&o.memoizedState!==null||Zi;o=v0;var c=Zi;if(v0=s,(Zi=l)&&!c)for(st=n;st!==null;)s=st,l=s.child,s.tag===22&&s.memoizedState!==null?WR(n):l!==null?(l.return=s,st=l):WR(n);for(;a!==null;)st=a,lF(a),a=a.sibling;st=n,v0=o,Zi=c}VR(r)}else n.subtreeFlags&8772&&a!==null?(a.return=n,st=a):VR(r)}}function VR(r){for(;st!==null;){var e=st;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zi||K1(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Zi)if(t===null)i.componentDidMount();else{var n=e.elementType===e.type?t.memoizedProps:ls(e.type,t.memoizedProps);i.componentDidUpdate(n,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&CR(e,a,i);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}CR(e,s,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&$f(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Zi||e.flags&512&&VS(e)}catch(f){Gr(e,e.return,f)}}if(e===r){st=null;break}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}}function jR(r){for(;st!==null;){var e=st;if(e===r){st=null;break}var t=e.sibling;if(t!==null){t.return=e.return,st=t;break}st=e.return}}function WR(r){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{K1(4,e)}catch(l){Gr(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var n=e.return;try{i.componentDidMount()}catch(l){Gr(e,n,l)}}var a=e.return;try{VS(e)}catch(l){Gr(e,a,l)}break;case 5:var s=e.return;try{VS(e)}catch(l){Gr(e,s,l)}}}catch(l){Gr(e,e.return,l)}if(e===r){st=null;break}var o=e.sibling;if(o!==null){o.return=e.return,st=o;break}st=e.return}}var eH=Math.ceil,wy=Jo.ReactCurrentDispatcher,QM=Jo.ReactCurrentOwner,qa=Jo.ReactCurrentBatchConfig,er=0,wi=null,oi=null,Di=0,ia=0,Wh=Ql(0),di=0,um=null,Au=0,Z1=0,$M=0,_f=null,On=null,eE=0,Md=1/0,mo=null,My=!1,XS=null,Dl=null,y0=!1,Al=null,Ey=0,xf=0,JS=null,Hv=-1,Vv=0;function An(){return er&6?Yr():Hv!==-1?Hv:Hv=Yr()}function Ll(r){return r.mode&1?er&2&&Di!==0?Di&-Di:O5.transition!==null?(Vv===0&&(Vv=WD()),Vv):(r=cr,r!==0||(r=window.event,r=r===void 0?16:QD(r.type)),r):1}function ms(r,e,t,i){if(50<xf)throw xf=0,JS=null,Error(Oe(185));Gm(r,t,i),(!(er&2)||r!==wi)&&(r===wi&&(!(er&2)&&(Z1|=t),di===4&&_l(r,Di)),Vn(r,i),t===1&&er===0&&!(e.mode&1)&&(Md=Yr()+500,J1&&$l()))}function Vn(r,e){var t=r.callbackNode;OG(r,e);var i=cy(r,r===wi?Di:0);if(i===0)t!==null&&eR(t),r.callbackNode=null,r.callbackPriority=0;else if(e=i&-i,r.callbackPriority!==e){if(t!=null&&eR(t),e===1)r.tag===0?k5(XR.bind(null,r)):vL(XR.bind(null,r)),I5(function(){!(er&6)&&$l()}),t=null;else{switch(XD(i)){case 1:t=EM;break;case 4:t=VD;break;case 16:t=ly;break;case 536870912:t=jD;break;default:t=ly}t=gF(t,cF.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function cF(r,e){if(Hv=-1,Vv=0,er&6)throw Error(Oe(327));var t=r.callbackNode;if(ld()&&r.callbackNode!==t)return null;var i=cy(r,r===wi?Di:0);if(i===0)return null;if(i&30||i&r.expiredLanes||e)e=Cy(r,i);else{e=i;var n=er;er|=2;var a=hF();(wi!==r||Di!==e)&&(mo=null,Md=Yr()+500,nu(r,e));do try{iH();break}catch(o){uF(r,o)}while(1);UM(),wy.current=a,er=n,oi!==null?e=0:(wi=null,Di=0,e=di)}if(e!==0){if(e===2&&(n=bS(r),n!==0&&(i=n,e=YS(r,n))),e===1)throw t=um,nu(r,0),_l(r,i),Vn(r,Yr()),t;if(e===6)_l(r,i);else{if(n=r.current.alternate,!(i&30)&&!tH(n)&&(e=Cy(r,i),e===2&&(a=bS(r),a!==0&&(i=a,e=YS(r,a))),e===1))throw t=um,nu(r,0),_l(r,i),Vn(r,Yr()),t;switch(r.finishedWork=n,r.finishedLanes=i,e){case 0:case 1:throw Error(Oe(345));case 2:Dc(r,On,mo);break;case 3:if(_l(r,i),(i&130023424)===i&&(e=eE+500-Yr(),10<e)){if(cy(r,0)!==0)break;if(n=r.suspendedLanes,(n&i)!==i){An(),r.pingedLanes|=r.suspendedLanes&n;break}r.timeoutHandle=RS(Dc.bind(null,r,On,mo),e);break}Dc(r,On,mo);break;case 4:if(_l(r,i),(i&4194240)===i)break;for(e=r.eventTimes,n=-1;0<i;){var s=31-fs(i);a=1<<s,s=e[s],s>n&&(n=s),i&=~a}if(i=n,i=Yr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*eH(i/1960))-i,10<i){r.timeoutHandle=RS(Dc.bind(null,r,On,mo),i);break}Dc(r,On,mo);break;case 5:Dc(r,On,mo);break;default:throw Error(Oe(329))}}}return Vn(r,Yr()),r.callbackNode===t?cF.bind(null,r):null}function YS(r,e){var t=_f;return r.current.memoizedState.isDehydrated&&(nu(r,e).flags|=256),r=Cy(r,e),r!==2&&(e=On,On=t,e!==null&&qS(e)),r}function qS(r){On===null?On=r:On.push.apply(On,r)}function tH(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var n=t[i],a=n.getSnapshot;n=n.value;try{if(!_s(a(),n))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _l(r,e){for(e&=~$M,e&=~Z1,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-fs(e),i=1<<t;r[t]=-1,e&=~i}}function XR(r){if(er&6)throw Error(Oe(327));ld();var e=cy(r,0);if(!(e&1))return Vn(r,Yr()),null;var t=Cy(r,e);if(r.tag!==0&&t===2){var i=bS(r);i!==0&&(e=i,t=YS(r,i))}if(t===1)throw t=um,nu(r,0),_l(r,e),Vn(r,Yr()),t;if(t===6)throw Error(Oe(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Dc(r,On,mo),Vn(r,Yr()),null}function tE(r,e){var t=er;er|=1;try{return r(e)}finally{er=t,er===0&&(Md=Yr()+500,J1&&$l())}}function Su(r){Al!==null&&Al.tag===0&&!(er&6)&&ld();var e=er;er|=1;var t=qa.transition,i=cr;try{if(qa.transition=null,cr=1,r)return r()}finally{cr=i,qa.transition=t,er=e,!(er&6)&&$l()}}function rE(){ia=Wh.current,br(Wh)}function nu(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,B5(t)),oi!==null)for(t=oi.return;t!==null;){var i=t;switch(kM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fy();break;case 3:Sd(),br(Gn),br(nn),WM();break;case 5:jM(i);break;case 4:Sd();break;case 13:br(Br);break;case 19:br(Br);break;case 10:zM(i.type._context);break;case 22:case 23:rE()}t=t.return}if(wi=r,oi=r=Fl(r.current,null),Di=ia=e,di=0,um=null,$M=Z1=Au=0,On=_f=null,Wc!==null){for(e=0;e<Wc.length;e++)if(t=Wc[e],i=t.interleaved,i!==null){t.interleaved=null;var n=i.next,a=t.pending;if(a!==null){var s=a.next;a.next=n,i.next=s}t.pending=i}Wc=null}return r}function uF(r,e){do{var t=oi;try{if(UM(),Uv.current=Sy,Ay){for(var i=kr.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Ay=!1}if(bu=0,Si=ui=kr=null,vf=!1,om=0,QM.current=null,t===null||t.return===null){di=1,um=e,oi=null;break}e:{var a=r,s=t.return,o=t,l=e;if(e=Di,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=DR(s);if(m!==null){m.flags&=-257,LR(m,s,o,a,e),m.mode&1&&IR(a,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){IR(a,c,e),iE();break e}l=Error(Oe(426))}}else if(Mr&&o.mode&1){var _=DR(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),LR(_,s,o,a,e),OM(wd(l,o));break e}}a=l=wd(l,o),di!==4&&(di=2),_f===null?_f=[a]:_f.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=XL(a,l,e);ER(a,v);break e;case 1:o=l;var b=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Dl===null||!Dl.has(A)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=JL(a,o,e);ER(a,w);break e}}a=a.return}while(a!==null)}pF(t)}catch(T){e=T,oi===t&&t!==null&&(oi=t=t.return);continue}break}while(1)}function hF(){var r=wy.current;return wy.current=Sy,r===null?Sy:r}function iE(){(di===0||di===3||di===2)&&(di=4),wi===null||!(Au&268435455)&&!(Z1&268435455)||_l(wi,Di)}function Cy(r,e){var t=er;er|=2;var i=hF();(wi!==r||Di!==e)&&(mo=null,nu(r,e));do try{rH();break}catch(n){uF(r,n)}while(1);if(UM(),er=t,wy.current=i,oi!==null)throw Error(Oe(261));return wi=null,Di=0,di}function rH(){for(;oi!==null;)dF(oi)}function iH(){for(;oi!==null&&!TG();)dF(oi)}function dF(r){var e=mF(r.alternate,r,ia);r.memoizedProps=r.pendingProps,e===null?pF(r):oi=e,QM.current=null}function pF(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=K5(t,e),t!==null){t.flags&=32767,oi=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{di=6,oi=null;return}}else if(t=q5(t,e,ia),t!==null){oi=t;return}if(e=e.sibling,e!==null){oi=e;return}oi=e=r}while(e!==null);di===0&&(di=5)}function Dc(r,e,t){var i=cr,n=qa.transition;try{qa.transition=null,cr=1,nH(r,e,t,i)}finally{qa.transition=n,cr=i}return null}function nH(r,e,t,i){do ld();while(Al!==null);if(er&6)throw Error(Oe(327));t=r.finishedWork;var n=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(Oe(177));r.callbackNode=null,r.callbackPriority=0;var a=t.lanes|t.childLanes;if(NG(r,a),r===wi&&(oi=wi=null,Di=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||y0||(y0=!0,gF(ly,function(){return ld(),null})),a=(t.flags&15990)!==0,t.subtreeFlags&15990||a){a=qa.transition,qa.transition=null;var s=cr;cr=1;var o=er;er|=4,QM.current=null,Q5(r,t),oF(t,r),w5(CS),uy=!!ES,CS=ES=null,r.current=t,$5(t),RG(),er=o,cr=s,qa.transition=a}else r.current=t;if(y0&&(y0=!1,Al=r,Ey=n),a=r.pendingLanes,a===0&&(Dl=null),IG(t.stateNode),Vn(r,Yr()),e!==null)for(i=r.onRecoverableError,t=0;t<e.length;t++)n=e[t],i(n.value,{componentStack:n.stack,digest:n.digest});if(My)throw My=!1,r=XS,XS=null,r;return Ey&1&&r.tag!==0&&ld(),a=r.pendingLanes,a&1?r===JS?xf++:(xf=0,JS=r):xf=0,$l(),null}function ld(){if(Al!==null){var r=XD(Ey),e=qa.transition,t=cr;try{if(qa.transition=null,cr=16>r?16:r,Al===null)var i=!1;else{if(r=Al,Al=null,Ey=0,er&6)throw Error(Oe(331));var n=er;for(er|=4,st=r.current;st!==null;){var a=st,s=a.child;if(st.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(st=c;st!==null;){var h=st;switch(h.tag){case 0:case 11:case 15:yf(8,h,a)}var p=h.child;if(p!==null)p.return=h,st=p;else for(;st!==null;){h=st;var f=h.sibling,m=h.return;if(nF(h),h===c){st=null;break}if(f!==null){f.return=m,st=f;break}st=m}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}st=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,st=s;else e:for(;st!==null;){if(a=st,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yf(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,st=v;break e}st=a.return}}var b=r.current;for(st=b;st!==null;){s=st;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,st=A;else e:for(s=b;st!==null;){if(o=st,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:K1(9,o)}}catch(T){Gr(o,o.return,T)}if(o===s){st=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,st=w;break e}st=o.return}}if(er=n,$l(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(H1,r)}catch{}i=!0}return i}finally{cr=t,qa.transition=e}}return!1}function JR(r,e,t){e=wd(t,e),e=XL(r,e,1),r=Il(r,e,1),e=An(),r!==null&&(Gm(r,1,e),Vn(r,e))}function Gr(r,e,t){if(r.tag===3)JR(r,r,t);else for(;e!==null;){if(e.tag===3){JR(e,r,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dl===null||!Dl.has(i))){r=wd(t,r),r=JL(e,r,1),e=Il(e,r,1),r=An(),e!==null&&(Gm(e,1,r),Vn(e,r));break}}e=e.return}}function aH(r,e,t){var i=r.pingCache;i!==null&&i.delete(e),e=An(),r.pingedLanes|=r.suspendedLanes&t,wi===r&&(Di&t)===t&&(di===4||di===3&&(Di&130023424)===Di&&500>Yr()-eE?nu(r,0):$M|=t),Vn(r,e)}function fF(r,e){e===0&&(r.mode&1?(e=l0,l0<<=1,!(l0&130023424)&&(l0=4194304)):e=1);var t=An();r=Uo(r,e),r!==null&&(Gm(r,e,t),Vn(r,t))}function sH(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),fF(r,t)}function oH(r,e){var t=0;switch(r.tag){case 13:var i=r.stateNode,n=r.memoizedState;n!==null&&(t=n.retryLane);break;case 19:i=r.stateNode;break;default:throw Error(Oe(314))}i!==null&&i.delete(e),fF(r,t)}var mF;mF=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Gn.current)Un=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Un=!1,Y5(r,e,t);Un=!!(r.flags&131072)}else Un=!1,Mr&&e.flags&1048576&&yL(e,vy,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Gv(r,e),r=e.pendingProps;var n=xd(e,nn.current);od(e,t),n=JM(null,e,i,r,n,t);var a=YM();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hn(i)?(a=!0,my(e)):a=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,HM(e),n.updater=q1,e.stateNode=n,n._reactInternals=e,kS(e,i,r,t),e=US(null,e,i,!0,a,t)):(e.tag=0,Mr&&a&&FM(e),mn(null,e,n,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Gv(r,e),r=e.pendingProps,n=i._init,i=n(i._payload),e.type=i,n=e.tag=cH(i),r=ls(i,r),n){case 0:e=NS(null,e,i,r,t);break e;case 1:e=OR(null,e,i,r,t);break e;case 11:e=FR(null,e,i,r,t);break e;case 14:e=kR(null,e,i,ls(i.type,r),t);break e}throw Error(Oe(306,i,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ls(i,n),NS(r,e,i,n,t);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ls(i,n),OR(r,e,i,n,t);case 3:e:{if(ZL(e),r===null)throw Error(Oe(387));i=e.pendingProps,a=e.memoizedState,n=a.element,wL(r,e),xy(e,i,null,t);var s=e.memoizedState;if(i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){n=wd(Error(Oe(423)),e),e=NR(r,e,i,t,n);break e}else if(i!==n){n=wd(Error(Oe(424)),e),e=NR(r,e,i,t,n);break e}else for(ca=Bl(e.stateNode.containerInfo.firstChild),pa=e,Mr=!0,hs=null,t=AL(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bd(),i===n){e=zo(r,e,t);break e}mn(r,e,i,t)}e=e.child}return e;case 5:return ML(e),r===null&&DS(e),i=e.type,n=e.pendingProps,a=r!==null?r.memoizedProps:null,s=n.children,TS(i,n)?s=null:a!==null&&TS(i,a)&&(e.flags|=32),KL(r,e),mn(r,e,s,t),e.child;case 6:return r===null&&DS(e),null;case 13:return QL(r,e,t);case 4:return VM(e,e.stateNode.containerInfo),i=e.pendingProps,r===null?e.child=Ad(e,null,i,t):mn(r,e,i,t),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ls(i,n),FR(r,e,i,n,t);case 7:return mn(r,e,e.pendingProps,t),e.child;case 8:return mn(r,e,e.pendingProps.children,t),e.child;case 12:return mn(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,n=e.pendingProps,a=e.memoizedProps,s=n.value,_r(yy,i._currentValue),i._currentValue=s,a!==null)if(_s(a.value,s)){if(a.children===n.children&&!Gn.current){e=zo(r,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(a.tag===1){l=Po(-1,t&-t),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),LS(a.return,t,e),o.lanes|=t;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Oe(341));s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),LS(s,t,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}mn(r,e,n.children,t),e=e.child}return e;case 9:return n=e.type,i=e.pendingProps.children,od(e,t),n=Za(n),i=i(n),e.flags|=1,mn(r,e,i,t),e.child;case 14:return i=e.type,n=ls(i,e.pendingProps),n=ls(i.type,n),kR(r,e,i,n,t);case 15:return YL(r,e,e.type,e.pendingProps,t);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ls(i,n),Gv(r,e),e.tag=1,Hn(i)?(r=!0,my(e)):r=!1,od(e,t),WL(e,i,n),kS(e,i,n,t),US(null,e,i,!0,r,t);case 19:return $L(r,e,t);case 22:return qL(r,e,t)}throw Error(Oe(156,e.tag))};function gF(r,e){return HD(r,e)}function lH(r,e,t,i){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(r,e,t,i){return new lH(r,e,t,i)}function nE(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cH(r){if(typeof r=="function")return nE(r)?1:0;if(r!=null){if(r=r.$$typeof,r===SM)return 11;if(r===wM)return 14}return 2}function Fl(r,e){var t=r.alternate;return t===null?(t=Wa(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function jv(r,e,t,i,n,a){var s=2;if(i=r,typeof r=="function")nE(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case Fh:return au(t.children,n,a,e);case AM:s=8,n|=8;break;case sS:return r=Wa(12,t,e,n|2),r.elementType=sS,r.lanes=a,r;case oS:return r=Wa(13,t,e,n),r.elementType=oS,r.lanes=a,r;case lS:return r=Wa(19,t,e,n),r.elementType=lS,r.lanes=a,r;case MD:return Q1(t,n,a,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case SD:s=10;break e;case wD:s=9;break e;case SM:s=11;break e;case wM:s=14;break e;case ml:s=16,i=null;break e}throw Error(Oe(130,r==null?r:typeof r,""))}return e=Wa(s,t,e,n),e.elementType=r,e.type=i,e.lanes=a,e}function au(r,e,t,i){return r=Wa(7,r,i,e),r.lanes=t,r}function Q1(r,e,t,i){return r=Wa(22,r,i,e),r.elementType=MD,r.lanes=t,r.stateNode={isHidden:!1},r}function Mb(r,e,t){return r=Wa(6,r,null,e),r.lanes=t,r}function Eb(r,e,t){return e=Wa(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function uH(r,e,t,i,n){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sb(0),this.expirationTimes=sb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sb(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function aE(r,e,t,i,n,a,s,o,l){return r=new uH(r,e,t,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Wa(3,null,null,e),r.current=a,a.stateNode=r,a.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},HM(a),r}function hH(r,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lh,key:i==null?null:""+i,children:r,containerInfo:e,implementation:t}}function vF(r){if(!r)return Hl;r=r._reactInternals;e:{if(Nu(r)!==r||r.tag!==1)throw Error(Oe(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(r.tag===1){var t=r.type;if(Hn(t))return gL(r,t,e)}return e}function yF(r,e,t,i,n,a,s,o,l){return r=aE(t,i,!0,r,n,a,s,o,l),r.context=vF(null),t=r.current,i=An(),n=Ll(t),a=Po(i,n),a.callback=e??null,Il(t,a,n),r.current.lanes=n,Gm(r,n,i),Vn(r,i),r}function $1(r,e,t,i){var n=e.current,a=An(),s=Ll(n);return t=vF(t),e.context===null?e.context=t:e.pendingContext=t,e=Po(a,s),e.payload={element:r},i=i===void 0?null:i,i!==null&&(e.callback=i),r=Il(n,e,s),r!==null&&(ms(r,n,s,a),Nv(r,n,s)),s}function Ty(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function YR(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function sE(r,e){YR(r,e),(r=r.alternate)&&YR(r,e)}function dH(){return null}var _F=typeof reportError=="function"?reportError:function(r){console.error(r)};function oE(r){this._internalRoot=r}e_.prototype.render=oE.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Oe(409));$1(r,e,null,null)};e_.prototype.unmount=oE.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;Su(function(){$1(null,r,null,null)}),e[No]=null}};function e_(r){this._internalRoot=r}e_.prototype.unstable_scheduleHydration=function(r){if(r){var e=qD();r={blockedOn:null,target:r,priority:e};for(var t=0;t<yl.length&&e!==0&&e<yl[t].priority;t++);yl.splice(t,0,r),t===0&&ZD(r)}};function lE(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function t_(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function qR(){}function pH(r,e,t,i,n){if(n){if(typeof i=="function"){var a=i;i=function(){var c=Ty(s);a.call(c)}}var s=yF(e,i,r,0,null,!1,!1,"",qR);return r._reactRootContainer=s,r[No]=s.current,rm(r.nodeType===8?r.parentNode:r),Su(),s}for(;n=r.lastChild;)r.removeChild(n);if(typeof i=="function"){var o=i;i=function(){var c=Ty(l);o.call(c)}}var l=aE(r,0,!1,null,null,!1,!1,"",qR);return r._reactRootContainer=l,r[No]=l.current,rm(r.nodeType===8?r.parentNode:r),Su(function(){$1(e,l,t,i)}),l}function r_(r,e,t,i,n){var a=t._reactRootContainer;if(a){var s=a;if(typeof n=="function"){var o=n;n=function(){var l=Ty(s);o.call(l)}}$1(e,s,r,n)}else s=pH(t,e,r,n,i);return Ty(s)}JD=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=$p(e.pendingLanes);t!==0&&(CM(e,t|1),Vn(e,Yr()),!(er&6)&&(Md=Yr()+500,$l()))}break;case 13:Su(function(){var i=Uo(r,1);if(i!==null){var n=An();ms(i,r,1,n)}}),sE(r,1)}};TM=function(r){if(r.tag===13){var e=Uo(r,134217728);if(e!==null){var t=An();ms(e,r,134217728,t)}sE(r,134217728)}};YD=function(r){if(r.tag===13){var e=Ll(r),t=Uo(r,e);if(t!==null){var i=An();ms(t,r,e,i)}sE(r,e)}};qD=function(){return cr};KD=function(r,e){var t=cr;try{return cr=r,e()}finally{cr=t}};yS=function(r,e,t){switch(e){case"input":if(hS(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==r&&i.form===r.form){var n=X1(i);if(!n)throw Error(Oe(90));CD(i),hS(i,n)}}}break;case"textarea":RD(r,t);break;case"select":e=t.value,e!=null&&id(r,!!t.multiple,e,!1)}};kD=tE;OD=Su;var fH={usingClientEntryPoint:!1,Events:[Vm,Uh,X1,LD,FD,tE]},Ep={findFiberByHostInstance:jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mH={bundleType:Ep.bundleType,version:Ep.version,rendererPackageName:Ep.rendererPackageName,rendererConfig:Ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=zD(r),r===null?null:r.stateNode},findFiberByHostInstance:Ep.findFiberByHostInstance||dH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{H1=_0.inject(mH),Hs=_0}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fH;Aa.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lE(e))throw Error(Oe(200));return hH(r,e,null,t)};Aa.createRoot=function(r,e){if(!lE(r))throw Error(Oe(299));var t=!1,i="",n=_F;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=aE(r,1,!1,null,null,t,!1,i,n),r[No]=e.current,rm(r.nodeType===8?r.parentNode:r),new oE(e)};Aa.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Oe(188)):(r=Object.keys(r).join(","),Error(Oe(268,r)));return r=zD(e),r=r===null?null:r.stateNode,r};Aa.flushSync=function(r){return Su(r)};Aa.hydrate=function(r,e,t){if(!t_(e))throw Error(Oe(200));return r_(null,r,e,!0,t)};Aa.hydrateRoot=function(r,e,t){if(!lE(r))throw Error(Oe(405));var i=t!=null&&t.hydratedSources||null,n=!1,a="",s=_F;if(t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=yF(e,null,r,1,t??null,n,!1,a,s),r[No]=e.current,rm(r),i)for(r=0;r<i.length;r++)t=i[r],n=t._getVersion,n=n(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n);return new e_(e)};Aa.render=function(r,e,t){if(!t_(e))throw Error(Oe(200));return r_(null,r,e,!1,t)};Aa.unmountComponentAtNode=function(r){if(!t_(r))throw Error(Oe(40));return r._reactRootContainer?(Su(function(){r_(null,null,r,!1,function(){r._reactRootContainer=null,r[No]=null})}),!0):!1};Aa.unstable_batchedUpdates=tE;Aa.unstable_renderSubtreeIntoContainer=function(r,e,t,i){if(!t_(t))throw Error(Oe(200));if(r==null||r._reactInternals===void 0)throw Error(Oe(38));return r_(r,e,t,!1,i)};Aa.version="18.3.1-next-f1338f8080-20240426";function xF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xF)}catch(r){console.error(r)}}xF(),_D.exports=Aa;var gH=_D.exports,bF,KR=gH;bF=nS.createRoot=KR.createRoot,nS.hydrateRoot=KR.hydrateRoot;/**
* @remix-run/router v1.22.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function hm(){return hm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},hm.apply(this,arguments)}var Jc;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Jc||(Jc={}));const ZR="popstate";function vH(r){r===void 0&&(r={});function e(i,n){let{pathname:a,search:s,hash:o}=i.location;return KS("",{pathname:a,search:s,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(i,n){return typeof n=="string"?n:Ry(n)}return _H(e,t,null,r)}function gs(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yH(){return Math.random().toString(36).substr(2,8)}function QR(r,e){return{usr:r.state,key:r.key,idx:e}}function KS(r,e,t,i){return t===void 0&&(t=null),hm({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?i_(e):e,{state:t,key:e&&e.key||i||yH()})}function Ry(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function i_(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function _H(r,e,t,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:a=!1}=i,s=n.history,o=Jc.Pop,l=null,c=h();c==null&&(c=0,s.replaceState(hm({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function p(){o=Jc.Pop;let _=h(),v=_==null?null:_-c;c=_,l&&l({action:o,location:x.location,delta:v})}function f(_,v){o=Jc.Push;let b=KS(x.location,_,v);t&&t(b,_),c=h()+1;let A=QR(b,c),w=x.createHref(b);try{s.pushState(A,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(w)}a&&l&&l({action:o,location:x.location,delta:1})}function m(_,v){o=Jc.Replace;let b=KS(x.location,_,v);t&&t(b,_),c=h();let A=QR(b,c),w=x.createHref(b);s.replaceState(A,"",w),a&&l&&l({action:o,location:x.location,delta:0})}function g(_){let v=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof _=="string"?_:Ry(_);return b=b.replace(/ $/,"%20"),gs(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return o},get location(){return r(n,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(ZR,p),l=_,()=>{n.removeEventListener(ZR,p),l=null}},createHref(_){return e(n,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(_){return s.go(_)}};return x}var $R;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})($R||($R={}));function AF(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function xH(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:n=""}=typeof r=="string"?i_(r):r;return{pathname:t?t.startsWith("/")?t:bH(t,e):e,search:SH(i),hash:wH(n)}}function bH(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Cb(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AH(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function SF(r,e){let t=AH(r);return e?t.map((i,n)=>n===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function wF(r,e,t,i){i===void 0&&(i=!1);let n;typeof r=="string"?n=i_(r):(n=hm({},r),gs(!n.pathname||!n.pathname.includes("?"),Cb("?","pathname","search",n)),gs(!n.pathname||!n.pathname.includes("#"),Cb("#","pathname","hash",n)),gs(!n.search||!n.search.includes("#"),Cb("#","search","hash",n)));let a=r===""||n.pathname==="",s=a?"/":n.pathname,o;if(s==null)o=t;else{let p=e.length-1;if(!i&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),p-=1;n.pathname=f.join("/")}o=p>=0?e[p]:"/"}let l=xH(n,o),c=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const MF=r=>r.join("/").replace(/\/\/+/g,"/"),SH=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,wH=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,EF=["post","put","patch","delete"];new Set(EF);const MH=["get",...EF];new Set(MH);/**
* React Router v6.29.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Py(){return Py=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Py.apply(this,arguments)}const CF=W.createContext(null),Xd=W.createContext(null),cE=W.createContext(null),n_=W.createContext({outlet:null,matches:[],isDataRoute:!1});function EH(r,e){let{relative:t}=e===void 0?{}:e;a_()||gs(!1);let{basename:i,navigator:n}=W.useContext(Xd),{hash:a,pathname:s,search:o}=RF(r,{relative:t}),l=s;return i!=="/"&&(l=s==="/"?i:MF([i,s])),n.createHref({pathname:l,search:o,hash:a})}function a_(){return W.useContext(cE)!=null}function uE(){return a_()||gs(!1),W.useContext(cE).location}function TF(r){W.useContext(Xd).static||W.useLayoutEffect(r)}function CH(){let{isDataRoute:r}=W.useContext(n_);return r?IH():TH()}function TH(){a_()||gs(!1);let r=W.useContext(CF),{basename:e,future:t,navigator:i}=W.useContext(Xd),{matches:n}=W.useContext(n_),{pathname:a}=uE(),s=JSON.stringify(SF(n,t.v7_relativeSplatPath)),o=W.useRef(!1);return TF(()=>{o.current=!0}),W.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){i.go(l);return}let h=wF(l,JSON.parse(s),a,c.relative==="path");r==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:MF([e,h.pathname])),(c.replace?i.replace:i.push)(h,c.state,c)},[e,i,s,a,r])}function RF(r,e){let{relative:t}=e===void 0?{}:e,{future:i}=W.useContext(Xd),{matches:n}=W.useContext(n_),{pathname:a}=uE(),s=JSON.stringify(SF(n,i.v7_relativeSplatPath));return W.useMemo(()=>wF(r,JSON.parse(s),a,t==="path"),[r,s,a,t])}var PF=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(PF||{}),BF=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(BF||{});function RH(r){let e=W.useContext(CF);return e||gs(!1),e}function PH(r){let e=W.useContext(n_);return e||gs(!1),e}function BH(r){let e=PH(),t=e.matches[e.matches.length-1];return t.route.id||gs(!1),t.route.id}function IH(){let{router:r}=RH(PF.UseNavigateStable),e=BH(BF.UseNavigateStable),t=W.useRef(!1);return TF(()=>{t.current=!0}),W.useCallback(function(i,n){n===void 0&&(n={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Py({fromRouteId:e},n)))},[r,e])}function DH(r,e){r==null||r.v7_startTransition,(r==null?void 0:r.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function LH(r){let{basename:e="/",children:t=null,location:i,navigationType:n=Jc.Pop,navigator:a,static:s=!1,future:o}=r;a_()&&gs(!1);let l=e.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:a,static:s,future:Py({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof i=="string"&&(i=i_(i));let{pathname:h="/",search:p="",hash:f="",state:m=null,key:g="default"}=i,x=W.useMemo(()=>{let _=AF(h,l);return _==null?null:{location:{pathname:_,search:p,hash:f,state:m,key:g},navigationType:n}},[l,h,p,f,m,g,n]);return x==null?null:W.createElement(Xd.Provider,{value:c},W.createElement(cE.Provider,{children:t,value:x}))}new Promise(()=>{});/**
* React Router DOM v6.29.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function ZS(){return ZS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ZS.apply(this,arguments)}function FH(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,a;for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function kH(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OH(r,e){return r.button===0&&(!e||e==="_self")&&!kH(r)}const NH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UH="6";try{window.__reactRouterVersion=UH}catch{}const zH="startTransition",eP=aG[zH];function GH(r){let{basename:e,children:t,future:i,window:n}=r,a=W.useRef();a.current==null&&(a.current=vH({window:n,v5Compat:!0}));let s=a.current,[o,l]=W.useState({action:s.action,location:s.location}),{v7_startTransition:c}=i||{},h=W.useCallback(p=>{c&&eP?eP(()=>l(p)):l(p)},[l,c]);return W.useLayoutEffect(()=>s.listen(h),[s,h]),W.useEffect(()=>DH(i),[i]),W.createElement(LH,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,future:i})}const HH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jH=W.forwardRef(function(r,e){let{onClick:t,relative:i,reloadDocument:n,replace:a,state:s,target:o,to:l,preventScrollReset:c,viewTransition:h}=r,p=FH(r,NH),{basename:f}=W.useContext(Xd),m,g=!1;if(typeof l=="string"&&VH.test(l)&&(m=l,HH))try{let b=new URL(window.location.href),A=l.startsWith("//")?new URL(b.protocol+l):new URL(l),w=AF(A.pathname,f);A.origin===b.origin&&w!=null?l=w+A.search+A.hash:g=!0}catch{}let x=EH(l,{relative:i}),_=WH(l,{replace:a,state:s,target:o,preventScrollReset:c,relative:i,viewTransition:h});function v(b){t&&t(b),b.defaultPrevented||_(b)}return W.createElement("a",ZS({},p,{href:m||x,onClick:g||n?t:v,ref:e,target:o}))});var tP;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(tP||(tP={}));var rP;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(rP||(rP={}));function WH(r,e){let{target:t,replace:i,state:n,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=CH(),c=uE(),h=RF(r,{relative:s});return W.useCallback(p=>{if(OH(p,t)){p.preventDefault();let f=i!==void 0?i:Ry(c)===Ry(h);l(r,{replace:f,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,h,i,n,t,r,a,s,o])}/**
* @license
* Copyright 2010-2024 Three.js Authors
* SPDX-License-Identifier: MIT
*/const Jd="172",Lc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},IF=0,QS=1,DF=2,XH=3,LF=0,s_=1,bf=2,cs=3,Ks=0,Sn=1,ja=2,Bo=0,su=1,$S=2,ew=3,tw=4,FF=5,xl=100,kF=101,OF=102,NF=103,UF=104,zF=200,GF=201,HF=202,VF=203,By=204,Iy=205,jF=206,WF=207,XF=208,JF=209,YF=210,qF=211,KF=212,ZF=213,QF=214,Dy=0,Ly=1,Fy=2,wu=3,ky=4,Oy=5,Ny=6,Uy=7,Wm=0,$F=1,ek=2,js=0,tk=1,rk=2,ik=3,hE=4,nk=5,ak=6,sk=7,rw="attached",ok="detached",o_=300,Go=301,Vl=302,dm=303,pm=304,Yd=306,jl=1e3,ua=1001,Ed=1002,Mi=1003,l_=1004,JH=1004,Yc=1005,YH=1005,qr=1006,cd=1007,qH=1007,Xa=1008,KH=1008,xs=1009,dE=1010,pE=1011,Cd=1012,c_=1013,Ho=1014,zn=1015,qd=1016,u_=1017,h_=1018,Mu=1020,fE=35902,mE=1021,gE=1022,en=1023,vE=1024,yE=1025,ou=1026,Eu=1027,d_=1028,Xm=1029,_E=1030,p_=1031,ZH=1032,f_=1033,Af=33776,Sf=33777,wf=33778,Mf=33779,zy=35840,Gy=35841,Hy=35842,Vy=35843,jy=36196,Wy=37492,Xy=37496,Jy=37808,Yy=37809,qy=37810,Ky=37811,Zy=37812,Qy=37813,$y=37814,e1=37815,t1=37816,r1=37817,i1=37818,n1=37819,a1=37820,s1=37821,Ef=36492,o1=36494,l1=36495,xE=36283,c1=36284,u1=36285,h1=36286,lk=2200,ck=2201,uk=2202,Td=2300,Rd=2301,Wv=2302,qc=2400,Kc=2401,fm=2402,m_=2500,bE=2501,hk=0,AE=1,d1=2,dk=3200,pk=3201,QH=3202,$H=3203,ec=0,fk=1,bo="",kn="srgb",Cu="srgb-linear",mm="linear",lr="srgb",e9=0,kc=7680,t9=7681,r9=7682,i9=7683,n9=34055,a9=34056,s9=5386,o9=512,l9=513,c9=514,u9=515,h9=516,d9=517,p9=518,iw=519,mk=512,gk=513,vk=514,SE=515,yk=516,_k=517,xk=518,bk=519,gm=35044,lu=35048,f9=35040,m9=35045,g9=35049,v9=35041,y9=35046,_9=35050,x9=35042,b9="100",nw="300 es",ps=2e3,vm=2001;let $s=class{addEventListener(r,e){this._listeners===void 0&&(this._listeners={});const t=this._listeners;t[r]===void 0&&(t[r]=[]),t[r].indexOf(e)===-1&&t[r].push(e)}hasEventListener(r,e){if(this._listeners===void 0)return!1;const t=this._listeners;return t[r]!==void 0&&t[r].indexOf(e)!==-1}removeEventListener(r,e){if(this._listeners===void 0)return;const t=this._listeners[r];if(t!==void 0){const i=t.indexOf(e);i!==-1&&t.splice(i,1)}}dispatchEvent(r){if(this._listeners===void 0)return;const e=this._listeners[r.type];if(e!==void 0){r.target=this;const t=e.slice(0);for(let i=0,n=t.length;i<n;i++)t[i].call(this,r);r.target=null}}};const Xi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let iP=1234567;const cu=Math.PI/180,Pd=180/Math.PI;function fa(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Xi[r&255]+Xi[r>>8&255]+Xi[r>>16&255]+Xi[r>>24&255]+"-"+Xi[e&255]+Xi[e>>8&255]+"-"+Xi[e>>16&15|64]+Xi[e>>24&255]+"-"+Xi[t&63|128]+Xi[t>>8&255]+"-"+Xi[t>>16&255]+Xi[t>>24&255]+Xi[i&255]+Xi[i>>8&255]+Xi[i>>16&255]+Xi[i>>24&255]).toLowerCase()}function Tt(r,e,t){return Math.max(e,Math.min(t,r))}function wE(r,e){return(r%e+e)%e}function A9(r,e,t,i,n){return i+(r-e)*(n-i)/(t-e)}function S9(r,e,t){return r!==e?(t-r)/(e-r):0}function Cf(r,e,t){return(1-t)*r+t*e}function w9(r,e,t,i){return Cf(r,e,1-Math.exp(-t*i))}function M9(r,e=1){return e-Math.abs(wE(r,e*2)-e)}function E9(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function C9(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function T9(r,e){return r+Math.floor(Math.random()*(e-r+1))}function R9(r,e){return r+Math.random()*(e-r)}function P9(r){return r*(.5-Math.random())}function B9(r){r!==void 0&&(iP=r);let e=iP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function I9(r){return r*cu}function D9(r){return r*Pd}function L9(r){return(r&r-1)===0&&r!==0}function F9(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function k9(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function O9(r,e,t,i,n){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+i)/2),h=s((e+i)/2),p=a((e-i)/2),f=s((e-i)/2),m=a((i-e)/2),g=s((i-e)/2);switch(n){case"XYX":r.set(o*h,l*p,l*f,o*c);break;case"YZY":r.set(l*f,o*h,l*p,o*c);break;case"ZXZ":r.set(l*p,l*f,o*h,o*c);break;case"XZX":r.set(o*h,l*g,l*m,o*c);break;case"YXY":r.set(l*m,o*h,l*g,o*c);break;case"ZYZ":r.set(l*g,l*m,o*h,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function yn(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function Dt(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const Ak={DEG2RAD:cu,RAD2DEG:Pd,generateUUID:fa,clamp:Tt,euclideanModulo:wE,mapLinear:A9,inverseLerp:S9,lerp:Cf,damp:w9,pingpong:M9,smoothstep:E9,smootherstep:C9,randInt:T9,randFloat:R9,randFloatSpread:P9,seededRandom:B9,degToRad:I9,radToDeg:D9,isPowerOfTwo:L9,ceilPowerOfTwo:F9,floorPowerOfTwo:k9,setQuaternionFromProperEuler:O9,normalize:Dt,denormalize:yn};class _e{constructor(e=0,t=0){_e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Tt(this.x,e.x,t.x),this.y=Tt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Tt(this.x,e,t),this.y=Tt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Tt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Tt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),n=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*n+e.x,this.y=a*n+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bt{constructor(e,t,i,n,a,s,o,l,c){Bt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,n,a,s,o,l,c)}set(e,t,i,n,a,s,o,l,c){const h=this.elements;return h[0]=e,h[1]=n,h[2]=o,h[3]=t,h[4]=a,h[5]=l,h[6]=i,h[7]=s,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,a=this.elements,s=i[0],o=i[3],l=i[6],c=i[1],h=i[4],p=i[7],f=i[2],m=i[5],g=i[8],x=n[0],_=n[3],v=n[6],b=n[1],A=n[4],w=n[7],T=n[2],E=n[5],B=n[8];return a[0]=s*x+o*b+l*T,a[3]=s*_+o*A+l*E,a[6]=s*v+o*w+l*B,a[1]=c*x+h*b+p*T,a[4]=c*_+h*A+p*E,a[7]=c*v+h*w+p*B,a[2]=f*x+m*b+g*T,a[5]=f*_+m*A+g*E,a[8]=f*v+m*w+g*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],h=e[8];return t*s*h-t*o*c-i*a*h+i*o*l+n*a*c-n*s*l}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=h*s-o*c,f=o*l-h*a,m=c*a-s*l,g=t*p+i*f+n*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=p*x,e[1]=(n*c-h*i)*x,e[2]=(o*i-n*s)*x,e[3]=f*x,e[4]=(h*t-n*l)*x,e[5]=(n*a-o*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(s*t-i*a)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,n,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(i*l,i*c,-i*(l*s+c*o)+s+e,-n*c,n*l,-n*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Tb.makeScale(e,t)),this}rotate(e){return this.premultiply(Tb.makeRotation(-e)),this}translate(e,t){return this.premultiply(Tb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Tb=new Bt;function Sk(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const N9={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Xh(r,e){return new N9[r](e)}function ym(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function wk(){const r=ym("canvas");return r.style.display="block",r}const nP={};function Rh(r){r in nP||(nP[r]=!0,console.warn(r))}function U9(r,e,t){return new Promise(function(i,n){function a(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:n();break;case r.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function z9(r){const e=r.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function G9(r){const e=r.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const aP=new Bt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),sP=new Bt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function H9(){const r={enabled:!0,workingColorSpace:Cu,spaces:{},convert:function(n,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===lr&&(n.r=Io(n.r),n.g=Io(n.g),n.b=Io(n.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(n.applyMatrix3(this.spaces[a].toXYZ),n.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===lr&&(n.r=ud(n.r),n.g=ud(n.g),n.b=ud(n.b))),n},fromWorkingColorSpace:function(n,a){return this.convert(n,this.workingColorSpace,a)},toWorkingColorSpace:function(n,a){return this.convert(n,a,this.workingColorSpace)},getPrimaries:function(n){return this.spaces[n].primaries},getTransfer:function(n){return n===bo?mm:this.spaces[n].transfer},getLuminanceCoefficients:function(n,a=this.workingColorSpace){return n.fromArray(this.spaces[a].luminanceCoefficients)},define:function(n){Object.assign(this.spaces,n)},_getMatrix:function(n,a,s){return n.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(n){return this.spaces[n].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(n=this.workingColorSpace){return this.spaces[n].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return r.define({[Cu]:{primaries:e,whitePoint:i,transfer:mm,toXYZ:aP,fromXYZ:sP,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:kn},outputColorSpaceConfig:{drawingBufferColorSpace:kn}},[kn]:{primaries:e,whitePoint:i,transfer:lr,toXYZ:aP,fromXYZ:sP,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:kn}}}),r}const Zt=H9();function Io(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function ud(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let sh;class Mk{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{sh===void 0&&(sh=ym("canvas")),sh.width=e.width,sh.height=e.height;const i=sh.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=sh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ym("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height),a=n.data;for(let s=0;s<a.length;s++)a[s]=Io(a[s]/255)*255;return i.putImageData(n,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Io(t[i]/255)*255):t[i]=Io(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let V9=0;class Zc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:V9++}),this.uuid=fa(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let a;if(Array.isArray(n)){a=[];for(let s=0,o=n.length;s<o;s++)n[s].isDataTexture?a.push(Rb(n[s].image)):a.push(Rb(n[s]))}else a=Rb(n);i.url=a}return t||(e.images[this.uuid]=i),i}}function Rb(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?Mk.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let j9=0;class Tr extends $s{constructor(e=Tr.DEFAULT_IMAGE,t=Tr.DEFAULT_MAPPING,i=ua,n=ua,a=qr,s=Xa,o=en,l=xs,c=Tr.DEFAULT_ANISOTROPY,h=bo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:j9++}),this.uuid=fa(),this.name="",this.source=new Zc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=n,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==o_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case jl:e.x=e.x-Math.floor(e.x);break;case ua:e.x=e.x<0?0:1;break;case Ed:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case jl:e.y=e.y-Math.floor(e.y);break;case ua:e.y=e.y<0?0:1;break;case Ed:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Tr.DEFAULT_IMAGE=null;Tr.DEFAULT_MAPPING=o_;Tr.DEFAULT_ANISOTROPY=1;class $t{constructor(e=0,t=0,i=0,n=1){$t.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*n+s[12]*a,this.y=s[1]*t+s[5]*i+s[9]*n+s[13]*a,this.z=s[2]*t+s[6]*i+s[10]*n+s[14]*a,this.w=s[3]*t+s[7]*i+s[11]*n+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,n,a;const s=e.elements,o=s[0],l=s[4],c=s[8],h=s[1],p=s[5],f=s[9],m=s[2],g=s[6],x=s[10];if(Math.abs(l-h)<.01&&Math.abs(c-m)<.01&&Math.abs(f-g)<.01){if(Math.abs(l+h)<.1&&Math.abs(c+m)<.1&&Math.abs(f+g)<.1&&Math.abs(o+p+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(o+1)/2,b=(p+1)/2,A=(x+1)/2,w=(l+h)/4,T=(c+m)/4,E=(f+g)/4;return v>b&&v>A?v<.01?(i=0,n=.707106781,a=.707106781):(i=Math.sqrt(v),n=w/i,a=T/i):b>A?b<.01?(i=.707106781,n=0,a=.707106781):(n=Math.sqrt(b),i=w/n,a=E/n):A<.01?(i=.707106781,n=.707106781,a=0):(a=Math.sqrt(A),i=T/a,n=E/a),this.set(i,n,a,t),this}let _=Math.sqrt((g-f)*(g-f)+(c-m)*(c-m)+(h-l)*(h-l));return Math.abs(_)<.001&&(_=1),this.x=(g-f)/_,this.y=(c-m)/_,this.z=(h-l)/_,this.w=Math.acos((o+p+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Tt(this.x,e.x,t.x),this.y=Tt(this.y,e.y,t.y),this.z=Tt(this.z,e.z,t.z),this.w=Tt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Tt(this.x,e,t),this.y=Tt(this.y,e,t),this.z=Tt(this.z,e,t),this.w=Tt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Tt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class g_ extends $s{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $t(0,0,e,t),this.scissorTest=!1,this.viewport=new $t(0,0,e,t);const n={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:qr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new Tr(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let n=0,a=this.textures.length;n<a;n++)this.textures[n].image.width=e,this.textures[n].image.height=t,this.textures[n].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,n=e.textures.length;i<n;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new Zc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Zs extends g_{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Jm extends Tr{constructor(e=null,t=1,i=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Mi,this.minFilter=Mi,this.wrapR=ua,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class W9 extends Zs{constructor(e=1,t=1,i=1,n={}){super(e,t,n),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Jm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class v_ extends Tr{constructor(e=null,t=1,i=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Mi,this.minFilter=Mi,this.wrapR=ua,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class X9 extends Zs{constructor(e=1,t=1,i=1,n={}){super(e,t,n),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new v_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ei{constructor(e=0,t=0,i=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=n}static slerpFlat(e,t,i,n,a,s,o){let l=i[n+0],c=i[n+1],h=i[n+2],p=i[n+3];const f=a[s+0],m=a[s+1],g=a[s+2],x=a[s+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=p;return}if(o===1){e[t+0]=f,e[t+1]=m,e[t+2]=g,e[t+3]=x;return}if(p!==x||l!==f||c!==m||h!==g){let _=1-o;const v=l*f+c*m+h*g+p*x,b=v>=0?1:-1,A=1-v*v;if(A>Number.EPSILON){const T=Math.sqrt(A),E=Math.atan2(T,v*b);_=Math.sin(_*E)/T,o=Math.sin(o*E)/T}const w=o*b;if(l=l*_+f*w,c=c*_+m*w,h=h*_+g*w,p=p*_+x*w,_===1-o){const T=1/Math.sqrt(l*l+c*c+h*h+p*p);l*=T,c*=T,h*=T,p*=T}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,i,n,a,s){const o=i[n],l=i[n+1],c=i[n+2],h=i[n+3],p=a[s],f=a[s+1],m=a[s+2],g=a[s+3];return e[t]=o*g+h*p+l*m-c*f,e[t+1]=l*g+h*f+c*p-o*m,e[t+2]=c*g+h*m+o*f-l*p,e[t+3]=h*g-o*p-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,n=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(i/2),h=o(n/2),p=o(a/2),f=l(i/2),m=l(n/2),g=l(a/2);switch(s){case"XYZ":this._x=f*h*p+c*m*g,this._y=c*m*p-f*h*g,this._z=c*h*g+f*m*p,this._w=c*h*p-f*m*g;break;case"YXZ":this._x=f*h*p+c*m*g,this._y=c*m*p-f*h*g,this._z=c*h*g-f*m*p,this._w=c*h*p+f*m*g;break;case"ZXY":this._x=f*h*p-c*m*g,this._y=c*m*p+f*h*g,this._z=c*h*g+f*m*p,this._w=c*h*p-f*m*g;break;case"ZYX":this._x=f*h*p-c*m*g,this._y=c*m*p+f*h*g,this._z=c*h*g-f*m*p,this._w=c*h*p+f*m*g;break;case"YZX":this._x=f*h*p+c*m*g,this._y=c*m*p+f*h*g,this._z=c*h*g-f*m*p,this._w=c*h*p-f*m*g;break;case"XZY":this._x=f*h*p-c*m*g,this._y=c*m*p-f*h*g,this._z=c*h*g+f*m*p,this._w=c*h*p+f*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],n=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],h=t[6],p=t[10],f=i+o+p;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(h-l)*m,this._y=(a-c)*m,this._z=(s-n)*m}else if(i>o&&i>p){const m=2*Math.sqrt(1+i-o-p);this._w=(h-l)/m,this._x=.25*m,this._y=(n+s)/m,this._z=(a+c)/m}else if(o>p){const m=2*Math.sqrt(1+o-i-p);this._w=(a-c)/m,this._x=(n+s)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+p-i-o);this._w=(s-n)/m,this._x=(a+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const n=Math.min(1,t/i);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,n=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,h=t._w;return this._x=i*h+s*o+n*c-a*l,this._y=n*h+s*l+a*o-i*c,this._z=a*h+s*c+i*l-n*o,this._w=s*h-i*o-n*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,n=this._y,a=this._z,s=this._w;let o=s*e._w+i*e._x+n*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=i,this._y=n,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const m=1-t;return this._w=m*s+t*this._w,this._x=m*i+t*this._x,this._y=m*n+t*this._y,this._z=m*a+t*this._z,this.normalize(),this}const c=Math.sqrt(l),h=Math.atan2(c,o),p=Math.sin((1-t)*h)/c,f=Math.sin(t*h)/c;return this._w=s*p+this._w*f,this._x=i*p+this._x*f,this._y=n*p+this._y*f,this._z=a*p+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),n=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(n*Math.sin(e),n*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(oP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(oP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,n=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*n,this.y=a[1]*t+a[4]*i+a[7]*n,this.z=a[2]*t+a[5]*i+a[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,a=e.elements,s=1/(a[3]*t+a[7]*i+a[11]*n+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*n+a[12])*s,this.y=(a[1]*t+a[5]*i+a[9]*n+a[13])*s,this.z=(a[2]*t+a[6]*i+a[10]*n+a[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,n=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*n-o*i),h=2*(o*t-a*n),p=2*(a*i-s*t);return this.x=t+l*c+s*p-o*h,this.y=i+l*h+o*c-a*p,this.z=n+l*p+a*h-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,n=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*n,this.y=a[1]*t+a[5]*i+a[9]*n,this.z=a[2]*t+a[6]*i+a[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Tt(this.x,e.x,t.x),this.y=Tt(this.y,e.y,t.y),this.z=Tt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Tt(this.x,e,t),this.y=Tt(this.y,e,t),this.z=Tt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Tt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,n=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=n*l-a*o,this.y=a*s-i*l,this.z=i*o-n*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Pb.copy(this).projectOnVector(e),this.sub(Pb)}reflect(e){return this.sub(Pb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Tt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Pb=new N,oP=new Ei;class tn{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ns.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ns.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ns.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,ns):ns.fromBufferAttribute(a,s),ns.applyMatrix4(e.matrixWorld),this.expandByPoint(ns);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),x0.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),x0.copy(i.boundingBox)),x0.applyMatrix4(e.matrixWorld),this.union(x0)}const n=e.children;for(let a=0,s=n.length;a<s;a++)this.expandByObject(n[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ns),ns.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cp),b0.subVectors(this.max,Cp),oh.subVectors(e.a,Cp),lh.subVectors(e.b,Cp),ch.subVectors(e.c,Cp),il.subVectors(lh,oh),nl.subVectors(ch,lh),fc.subVectors(oh,ch);let t=[0,-il.z,il.y,0,-nl.z,nl.y,0,-fc.z,fc.y,il.z,0,-il.x,nl.z,0,-nl.x,fc.z,0,-fc.x,-il.y,il.x,0,-nl.y,nl.x,0,-fc.y,fc.x,0];return!Bb(t,oh,lh,ch,b0)||(t=[1,0,0,0,1,0,0,0,1],!Bb(t,oh,lh,ch,b0))?!1:(A0.crossVectors(il,nl),t=[A0.x,A0.y,A0.z],Bb(t,oh,lh,ch,b0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ns).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ns).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(lo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),lo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),lo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),lo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),lo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),lo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),lo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),lo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(lo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const lo=[new N,new N,new N,new N,new N,new N,new N,new N],ns=new N,x0=new tn,oh=new N,lh=new N,ch=new N,il=new N,nl=new N,fc=new N,Cp=new N,b0=new N,A0=new N,mc=new N;function Bb(r,e,t,i,n){for(let a=0,s=r.length-3;a<=s;a+=3){mc.fromArray(r,a);const o=n.x*Math.abs(mc.x)+n.y*Math.abs(mc.y)+n.z*Math.abs(mc.z),l=e.dot(mc),c=t.dot(mc),h=i.dot(mc);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>o)return!1}return!0}const J9=new tn,Tp=new N,Ib=new N;class Li{constructor(e=new N,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):J9.setFromPoints(e).getCenter(i);let n=0;for(let a=0,s=e.length;a<s;a++)n=Math.max(n,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Tp.subVectors(e,this.center);const t=Tp.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),n=(i-this.radius)*.5;this.center.addScaledVector(Tp,n/i),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Ib.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Tp.copy(e.center).add(Ib)),this.expandByPoint(Tp.copy(e.center).sub(Ib))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const co=new N,Db=new N,S0=new N,al=new N,Lb=new N,w0=new N,Fb=new N;class Uu{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,co)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=co.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(co.copy(this.origin).addScaledVector(this.direction,t),co.distanceToSquared(e))}distanceSqToSegment(e,t,i,n){Db.copy(e).add(t).multiplyScalar(.5),S0.copy(t).sub(e).normalize(),al.copy(this.origin).sub(Db);const a=e.distanceTo(t)*.5,s=-this.direction.dot(S0),o=al.dot(this.direction),l=-al.dot(S0),c=al.lengthSq(),h=Math.abs(1-s*s);let p,f,m,g;if(h>0)if(p=s*l-o,f=s*o-l,g=a*h,p>=0)if(f>=-g)if(f<=g){const x=1/h;p*=x,f*=x,m=p*(p+s*f+2*o)+f*(s*p+f+2*l)+c}else f=a,p=Math.max(0,-(s*f+o)),m=-p*p+f*(f+2*l)+c;else f=-a,p=Math.max(0,-(s*f+o)),m=-p*p+f*(f+2*l)+c;else f<=-g?(p=Math.max(0,-(-s*a+o)),f=p>0?-a:Math.min(Math.max(-a,-l),a),m=-p*p+f*(f+2*l)+c):f<=g?(p=0,f=Math.min(Math.max(-a,-l),a),m=f*(f+2*l)+c):(p=Math.max(0,-(s*a+o)),f=p>0?a:Math.min(Math.max(-a,-l),a),m=-p*p+f*(f+2*l)+c);else f=s>0?-a:a,p=Math.max(0,-(s*f+o)),m=-p*p+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,p),n&&n.copy(Db).addScaledVector(S0,f),m}intersectSphere(e,t){co.subVectors(e.center,this.origin);const i=co.dot(this.direction),n=co.dot(co)-i*i,a=e.radius*e.radius;if(n>a)return null;const s=Math.sqrt(a-n),o=i-s,l=i+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,n,a,s,o,l;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,n=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,n=(e.min.x-f.x)*c),h>=0?(a=(e.min.y-f.y)*h,s=(e.max.y-f.y)*h):(a=(e.max.y-f.y)*h,s=(e.min.y-f.y)*h),i>s||a>n||((a>i||isNaN(i))&&(i=a),(s<n||isNaN(n))&&(n=s),p>=0?(o=(e.min.z-f.z)*p,l=(e.max.z-f.z)*p):(o=(e.max.z-f.z)*p,l=(e.min.z-f.z)*p),i>l||o>n)||((o>i||i!==i)&&(i=o),(l<n||n!==n)&&(n=l),n<0)?null:this.at(i>=0?i:n,t)}intersectsBox(e){return this.intersectBox(e,co)!==null}intersectTriangle(e,t,i,n,a){Lb.subVectors(t,e),w0.subVectors(i,e),Fb.crossVectors(Lb,w0);let s=this.direction.dot(Fb),o;if(s>0){if(n)return null;o=1}else if(s<0)o=-1,s=-s;else return null;al.subVectors(this.origin,e);const l=o*this.direction.dot(w0.crossVectors(al,w0));if(l<0)return null;const c=o*this.direction.dot(Lb.cross(al));if(c<0||l+c>s)return null;const h=-o*al.dot(Fb);return h<0?null:this.at(h/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vt{constructor(e,t,i,n,a,s,o,l,c,h,p,f,m,g,x,_){vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,n,a,s,o,l,c,h,p,f,m,g,x,_)}set(e,t,i,n,a,s,o,l,c,h,p,f,m,g,x,_){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=n,v[1]=a,v[5]=s,v[9]=o,v[13]=l,v[2]=c,v[6]=h,v[10]=p,v[14]=f,v[3]=m,v[7]=g,v[11]=x,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,n=1/uh.setFromMatrixColumn(e,0).length(),a=1/uh.setFromMatrixColumn(e,1).length(),s=1/uh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,n=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),l=Math.cos(n),c=Math.sin(n),h=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const f=s*h,m=s*p,g=o*h,x=o*p;t[0]=l*h,t[4]=-l*p,t[8]=c,t[1]=m+g*c,t[5]=f-x*c,t[9]=-o*l,t[2]=x-f*c,t[6]=g+m*c,t[10]=s*l}else if(e.order==="YXZ"){const f=l*h,m=l*p,g=c*h,x=c*p;t[0]=f+x*o,t[4]=g*o-m,t[8]=s*c,t[1]=s*p,t[5]=s*h,t[9]=-o,t[2]=m*o-g,t[6]=x+f*o,t[10]=s*l}else if(e.order==="ZXY"){const f=l*h,m=l*p,g=c*h,x=c*p;t[0]=f-x*o,t[4]=-s*p,t[8]=g+m*o,t[1]=m+g*o,t[5]=s*h,t[9]=x-f*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const f=s*h,m=s*p,g=o*h,x=o*p;t[0]=l*h,t[4]=g*c-m,t[8]=f*c+x,t[1]=l*p,t[5]=x*c+f,t[9]=m*c-g,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const f=s*l,m=s*c,g=o*l,x=o*c;t[0]=l*h,t[4]=x-f*p,t[8]=g*p+m,t[1]=p,t[5]=s*h,t[9]=-o*h,t[2]=-c*h,t[6]=m*p+g,t[10]=f-x*p}else if(e.order==="XZY"){const f=s*l,m=s*c,g=o*l,x=o*c;t[0]=l*h,t[4]=-p,t[8]=c*h,t[1]=f*p+x,t[5]=s*h,t[9]=m*p-g,t[2]=g*p-m,t[6]=o*h,t[10]=x*p+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Y9,e,q9)}lookAt(e,t,i){const n=this.elements;return ea.subVectors(e,t),ea.lengthSq()===0&&(ea.z=1),ea.normalize(),sl.crossVectors(i,ea),sl.lengthSq()===0&&(Math.abs(i.z)===1?ea.x+=1e-4:ea.z+=1e-4,ea.normalize(),sl.crossVectors(i,ea)),sl.normalize(),M0.crossVectors(ea,sl),n[0]=sl.x,n[4]=M0.x,n[8]=ea.x,n[1]=sl.y,n[5]=M0.y,n[9]=ea.y,n[2]=sl.z,n[6]=M0.z,n[10]=ea.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,a=this.elements,s=i[0],o=i[4],l=i[8],c=i[12],h=i[1],p=i[5],f=i[9],m=i[13],g=i[2],x=i[6],_=i[10],v=i[14],b=i[3],A=i[7],w=i[11],T=i[15],E=n[0],B=n[4],I=n[8],C=n[12],R=n[1],D=n[5],V=n[9],j=n[13],Z=n[2],Q=n[6],X=n[10],ie=n[14],O=n[3],F=n[7],q=n[11],pe=n[15];return a[0]=s*E+o*R+l*Z+c*O,a[4]=s*B+o*D+l*Q+c*F,a[8]=s*I+o*V+l*X+c*q,a[12]=s*C+o*j+l*ie+c*pe,a[1]=h*E+p*R+f*Z+m*O,a[5]=h*B+p*D+f*Q+m*F,a[9]=h*I+p*V+f*X+m*q,a[13]=h*C+p*j+f*ie+m*pe,a[2]=g*E+x*R+_*Z+v*O,a[6]=g*B+x*D+_*Q+v*F,a[10]=g*I+x*V+_*X+v*q,a[14]=g*C+x*j+_*ie+v*pe,a[3]=b*E+A*R+w*Z+T*O,a[7]=b*B+A*D+w*Q+T*F,a[11]=b*I+A*V+w*X+T*q,a[15]=b*C+A*j+w*ie+T*pe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],n=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],h=e[2],p=e[6],f=e[10],m=e[14],g=e[3],x=e[7],_=e[11],v=e[15];return g*(+a*l*p-n*c*p-a*o*f+i*c*f+n*o*m-i*l*m)+x*(+t*l*m-t*c*f+a*s*f-n*s*m+n*c*h-a*l*h)+_*(+t*c*p-t*o*m-a*s*p+i*s*m+a*o*h-i*c*h)+v*(-n*o*h-t*l*p+t*o*f+n*s*p-i*s*f+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=e[9],f=e[10],m=e[11],g=e[12],x=e[13],_=e[14],v=e[15],b=p*_*c-x*f*c+x*l*m-o*_*m-p*l*v+o*f*v,A=g*f*c-h*_*c-g*l*m+s*_*m+h*l*v-s*f*v,w=h*x*c-g*p*c+g*o*m-s*x*m-h*o*v+s*p*v,T=g*p*l-h*x*l-g*o*f+s*x*f+h*o*_-s*p*_,E=t*b+i*A+n*w+a*T;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/E;return e[0]=b*B,e[1]=(x*f*a-p*_*a-x*n*m+i*_*m+p*n*v-i*f*v)*B,e[2]=(o*_*a-x*l*a+x*n*c-i*_*c-o*n*v+i*l*v)*B,e[3]=(p*l*a-o*f*a-p*n*c+i*f*c+o*n*m-i*l*m)*B,e[4]=A*B,e[5]=(h*_*a-g*f*a+g*n*m-t*_*m-h*n*v+t*f*v)*B,e[6]=(g*l*a-s*_*a-g*n*c+t*_*c+s*n*v-t*l*v)*B,e[7]=(s*f*a-h*l*a+h*n*c-t*f*c-s*n*m+t*l*m)*B,e[8]=w*B,e[9]=(g*p*a-h*x*a-g*i*m+t*x*m+h*i*v-t*p*v)*B,e[10]=(s*x*a-g*o*a+g*i*c-t*x*c-s*i*v+t*o*v)*B,e[11]=(h*o*a-s*p*a-h*i*c+t*p*c+s*i*m-t*o*m)*B,e[12]=T*B,e[13]=(h*x*n-g*p*n+g*i*f-t*x*f-h*i*_+t*p*_)*B,e[14]=(g*o*n-s*x*n-g*i*l+t*x*l+s*i*_-t*o*_)*B,e[15]=(s*p*n-h*o*n+h*i*l-t*p*l-s*i*f+t*o*f)*B,this}scale(e){const t=this.elements,i=e.x,n=e.y,a=e.z;return t[0]*=i,t[4]*=n,t[8]*=a,t[1]*=i,t[5]*=n,t[9]*=a,t[2]*=i,t[6]*=n,t[10]*=a,t[3]*=i,t[7]*=n,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),n=Math.sin(t),a=1-i,s=e.x,o=e.y,l=e.z,c=a*s,h=a*o;return this.set(c*s+i,c*o-n*l,c*l+n*o,0,c*o+n*l,h*o+i,h*l-n*s,0,c*l-n*o,h*l+n*s,a*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,n,a,s){return this.set(1,i,a,0,e,1,s,0,t,n,1,0,0,0,0,1),this}compose(e,t,i){const n=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,h=s+s,p=o+o,f=a*c,m=a*h,g=a*p,x=s*h,_=s*p,v=o*p,b=l*c,A=l*h,w=l*p,T=i.x,E=i.y,B=i.z;return n[0]=(1-(x+v))*T,n[1]=(m+w)*T,n[2]=(g-A)*T,n[3]=0,n[4]=(m-w)*E,n[5]=(1-(f+v))*E,n[6]=(_+b)*E,n[7]=0,n[8]=(g+A)*B,n[9]=(_-b)*B,n[10]=(1-(f+x))*B,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,i){const n=this.elements;let a=uh.set(n[0],n[1],n[2]).length();const s=uh.set(n[4],n[5],n[6]).length(),o=uh.set(n[8],n[9],n[10]).length();this.determinant()<0&&(a=-a),e.x=n[12],e.y=n[13],e.z=n[14],as.copy(this);const l=1/a,c=1/s,h=1/o;return as.elements[0]*=l,as.elements[1]*=l,as.elements[2]*=l,as.elements[4]*=c,as.elements[5]*=c,as.elements[6]*=c,as.elements[8]*=h,as.elements[9]*=h,as.elements[10]*=h,t.setFromRotationMatrix(as),i.x=a,i.y=s,i.z=o,this}makePerspective(e,t,i,n,a,s,o=ps){const l=this.elements,c=2*a/(t-e),h=2*a/(i-n),p=(t+e)/(t-e),f=(i+n)/(i-n);let m,g;if(o===ps)m=-(s+a)/(s-a),g=-2*s*a/(s-a);else if(o===vm)m=-s/(s-a),g=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=h,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,n,a,s,o=ps){const l=this.elements,c=1/(t-e),h=1/(i-n),p=1/(s-a),f=(t+e)*c,m=(i+n)*h;let g,x;if(o===ps)g=(s+a)*p,x=-2*p;else if(o===vm)g=a*p,x=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const uh=new N,as=new vt,Y9=new N(0,0,0),q9=new N(1,1,1),sl=new N,M0=new N,ea=new N,lP=new vt,cP=new Ei;class va{constructor(e=0,t=0,i=0,n=va.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,n=this._order){return this._x=e,this._y=t,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const n=e.elements,a=n[0],s=n[4],o=n[8],l=n[1],c=n[5],h=n[9],p=n[2],f=n[6],m=n[10];switch(t){case"XYZ":this._y=Math.asin(Tt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Tt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(Tt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-p,m),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Tt(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Tt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-Tt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return lP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(lP,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return cP.setFromEuler(this),this.setFromQuaternion(cP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}va.DEFAULT_ORDER="XYZ";class uu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let K9=0;const uP=new N,hh=new Ei,uo=new vt,E0=new N,Rp=new N,Z9=new N,Q9=new Ei,hP=new N(1,0,0),dP=new N(0,1,0),pP=new N(0,0,1),fP={type:"added"},$9={type:"removed"},dh={type:"childadded",child:null},kb={type:"childremoved",child:null};class Yt extends $s{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:K9++}),this.uuid=fa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yt.DEFAULT_UP.clone();const e=new N,t=new va,i=new Ei,n=new N(1,1,1);function a(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new vt},normalMatrix:{value:new Bt}}),this.matrix=new vt,this.matrixWorld=new vt,this.matrixAutoUpdate=Yt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Yt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new uu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return hh.setFromAxisAngle(e,t),this.quaternion.multiply(hh),this}rotateOnWorldAxis(e,t){return hh.setFromAxisAngle(e,t),this.quaternion.premultiply(hh),this}rotateX(e){return this.rotateOnAxis(hP,e)}rotateY(e){return this.rotateOnAxis(dP,e)}rotateZ(e){return this.rotateOnAxis(pP,e)}translateOnAxis(e,t){return uP.copy(e).applyQuaternion(this.quaternion),this.position.add(uP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(hP,e)}translateY(e){return this.translateOnAxis(dP,e)}translateZ(e){return this.translateOnAxis(pP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(uo.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?E0.copy(e):E0.set(e,t,i);const n=this.parent;this.updateWorldMatrix(!0,!1),Rp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?uo.lookAt(Rp,E0,this.up):uo.lookAt(E0,Rp,this.up),this.quaternion.setFromRotationMatrix(uo),n&&(uo.extractRotation(n.matrixWorld),hh.setFromRotationMatrix(uo),this.quaternion.premultiply(hh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(fP),dh.child=e,this.dispatchEvent(dh),dh.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent($9),kb.child=e,this.dispatchEvent(kb),kb.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),uo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),uo.multiply(e.parent.matrixWorld)),e.applyMatrix4(uo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(fP),dh.child=e,this.dispatchEvent(dh),dh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,n=this.children.length;i<n;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const n=this.children;for(let a=0,s=n.length;a<s;a++)n[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rp,e,Z9),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rp,Q9,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const n=this.children;for(let a=0,s=n.length;a<s;a++)n[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(n.type="BatchedMesh",n.perObjectFrustumCulled=this.perObjectFrustumCulled,n.sortObjects=this.sortObjects,n.drawRanges=this._drawRanges,n.reservedRanges=this._reservedRanges,n.visibility=this._visibility,n.active=this._active,n.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),n.maxInstanceCount=this._maxInstanceCount,n.maxVertexCount=this._maxVertexCount,n.maxIndexCount=this._maxIndexCount,n.geometryInitialized=this._geometryInitialized,n.geometryCount=this._geometryCount,n.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(n.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(n.boundingSphere={center:n.boundingSphere.center.toArray(),radius:n.boundingSphere.radius}),this.boundingBox!==null&&(n.boundingBox={min:n.boundingBox.min.toArray(),max:n.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const p=l[c];a(e.shapes,p)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));n.material=o}else n.material=a(e.materials,this.material);if(this.children.length>0){n.children=[];for(let o=0;o<this.children.length;o++)n.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];n.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),h=s(e.images),p=s(e.shapes),f=s(e.skeletons),m=s(e.animations),g=s(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),h.length>0&&(i.images=h),p.length>0&&(i.shapes=p),f.length>0&&(i.skeletons=f),m.length>0&&(i.animations=m),g.length>0&&(i.nodes=g)}return i.object=n,i;function s(o){const l=[];for(const c in o){const h=o[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const n=e.children[i];this.add(n.clone())}return this}}Yt.DEFAULT_UP=new N(0,1,0);Yt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Yt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ss=new N,ho=new N,Ob=new N,po=new N,ph=new N,fh=new N,mP=new N,Nb=new N,Ub=new N,zb=new N,Gb=new $t,Hb=new $t,Vb=new $t;class Nn{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,n){n.subVectors(i,t),ss.subVectors(e,t),n.cross(ss);const a=n.lengthSq();return a>0?n.multiplyScalar(1/Math.sqrt(a)):n.set(0,0,0)}static getBarycoord(e,t,i,n,a){ss.subVectors(n,t),ho.subVectors(i,t),Ob.subVectors(e,t);const s=ss.dot(ss),o=ss.dot(ho),l=ss.dot(Ob),c=ho.dot(ho),h=ho.dot(Ob),p=s*c-o*o;if(p===0)return a.set(0,0,0),null;const f=1/p,m=(c*l-o*h)*f,g=(s*h-o*l)*f;return a.set(1-m-g,g,m)}static containsPoint(e,t,i,n){return this.getBarycoord(e,t,i,n,po)===null?!1:po.x>=0&&po.y>=0&&po.x+po.y<=1}static getInterpolation(e,t,i,n,a,s,o,l){return this.getBarycoord(e,t,i,n,po)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,po.x),l.addScaledVector(s,po.y),l.addScaledVector(o,po.z),l)}static getInterpolatedAttribute(e,t,i,n,a,s){return Gb.setScalar(0),Hb.setScalar(0),Vb.setScalar(0),Gb.fromBufferAttribute(e,t),Hb.fromBufferAttribute(e,i),Vb.fromBufferAttribute(e,n),s.setScalar(0),s.addScaledVector(Gb,a.x),s.addScaledVector(Hb,a.y),s.addScaledVector(Vb,a.z),s}static isFrontFacing(e,t,i,n){return ss.subVectors(i,t),ho.subVectors(e,t),ss.cross(ho).dot(n)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,i,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ss.subVectors(this.c,this.b),ho.subVectors(this.a,this.b),ss.cross(ho).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Nn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Nn.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,n,a){return Nn.getInterpolation(e,this.a,this.b,this.c,t,i,n,a)}containsPoint(e){return Nn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Nn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,n=this.b,a=this.c;let s,o;ph.subVectors(n,i),fh.subVectors(a,i),Nb.subVectors(e,i);const l=ph.dot(Nb),c=fh.dot(Nb);if(l<=0&&c<=0)return t.copy(i);Ub.subVectors(e,n);const h=ph.dot(Ub),p=fh.dot(Ub);if(h>=0&&p<=h)return t.copy(n);const f=l*p-h*c;if(f<=0&&l>=0&&h<=0)return s=l/(l-h),t.copy(i).addScaledVector(ph,s);zb.subVectors(e,a);const m=ph.dot(zb),g=fh.dot(zb);if(g>=0&&m<=g)return t.copy(a);const x=m*c-l*g;if(x<=0&&c>=0&&g<=0)return o=c/(c-g),t.copy(i).addScaledVector(fh,o);const _=h*g-m*p;if(_<=0&&p-h>=0&&m-g>=0)return mP.subVectors(a,n),o=(p-h)/(p-h+(m-g)),t.copy(n).addScaledVector(mP,o);const v=1/(_+x+f);return s=x*v,o=f*v,t.copy(i).addScaledVector(ph,s).addScaledVector(fh,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ek={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ol={h:0,s:0,l:0},C0={h:0,s:0,l:0};function jb(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class Qe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const n=e;n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=kn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Zt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,n=Zt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Zt.toWorkingColorSpace(this,n),this}setHSL(e,t,i,n=Zt.workingColorSpace){if(e=wE(e,1),t=Tt(t,0,1),i=Tt(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,s=2*i-a;this.r=jb(s,a,e+1/3),this.g=jb(s,a,e),this.b=jb(s,a,e-1/3)}return Zt.toWorkingColorSpace(this,n),this}setStyle(e,t=kn){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=n[1],o=n[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=n[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=kn){const i=Ek[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Io(e.r),this.g=Io(e.g),this.b=Io(e.b),this}copyLinearToSRGB(e){return this.r=ud(e.r),this.g=ud(e.g),this.b=ud(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=kn){return Zt.fromWorkingColorSpace(Ji.copy(this),e),Math.round(Tt(Ji.r*255,0,255))*65536+Math.round(Tt(Ji.g*255,0,255))*256+Math.round(Tt(Ji.b*255,0,255))}getHexString(e=kn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Zt.workingColorSpace){Zt.fromWorkingColorSpace(Ji.copy(this),t);const i=Ji.r,n=Ji.g,a=Ji.b,s=Math.max(i,n,a),o=Math.min(i,n,a);let l,c;const h=(o+s)/2;if(o===s)l=0,c=0;else{const p=s-o;switch(c=h<=.5?p/(s+o):p/(2-s-o),s){case i:l=(n-a)/p+(n<a?6:0);break;case n:l=(a-i)/p+2;break;case a:l=(i-n)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=Zt.workingColorSpace){return Zt.fromWorkingColorSpace(Ji.copy(this),t),e.r=Ji.r,e.g=Ji.g,e.b=Ji.b,e}getStyle(e=kn){Zt.fromWorkingColorSpace(Ji.copy(this),e);const t=Ji.r,i=Ji.g,n=Ji.b;return e!==kn?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(n*255)})`}offsetHSL(e,t,i){return this.getHSL(ol),this.setHSL(ol.h+e,ol.s+t,ol.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ol),e.getHSL(C0);const i=Cf(ol.h,C0.h,t),n=Cf(ol.s,C0.s,t),a=Cf(ol.l,C0.l,t);return this.setHSL(i,n,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,n=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*n,this.g=a[1]*t+a[4]*i+a[7]*n,this.b=a[2]*t+a[5]*i+a[8]*n,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ji=new Qe;Qe.NAMES=Ek;let e6=0;class pi extends $s{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:e6++}),this.uuid=fa(),this.name="",this.type="Material",this.blending=su,this.side=Ks,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=By,this.blendDst=Iy,this.blendEquation=xl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Qe(0,0,0),this.blendAlpha=0,this.depthFunc=wu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=kc,this.stencilZFail=kc,this.stencilZPass=kc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const n=this[t];if(n===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==su&&(i.blending=this.blending),this.side!==Ks&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==By&&(i.blendSrc=this.blendSrc),this.blendDst!==Iy&&(i.blendDst=this.blendDst),this.blendEquation!==xl&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==wu&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==iw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==kc&&(i.stencilFail=this.stencilFail),this.stencilZFail!==kc&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==kc&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function n(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=n(e.textures),s=n(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const n=t.length;i=new Array(n);for(let a=0;a!==n;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class ha extends pi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=Wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ao=t6();function t6(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),i=new Uint32Array(512),n=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,n[l]=24,n[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,n[l]=-c-1,n[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,n[l]=13,n[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,n[l]=24,n[l|256]=24):(i[l]=31744,i[l|256]=64512,n[l]=13,n[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,a[l]=c|h}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:n,mantissaTable:a,exponentTable:s,offsetTable:o}}function Ln(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=Tt(r,-65504,65504),Ao.floatView[0]=r;const e=Ao.uint32View[0],t=e>>23&511;return Ao.baseTable[t]+((e&8388607)>>Ao.shiftTable[t])}function tf(r){const e=r>>10;return Ao.uint32View[0]=Ao.mantissaTable[Ao.offsetTable[e]+(r&1023)]+Ao.exponentTable[e],Ao.floatView[0]}const r6={toHalfFloat:Ln,fromHalfFloat:tf},ri=new N,T0=new _e;class tr{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=gm,this.updateRanges=[],this.gpuType=zn,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,a=this.itemSize;n<a;n++)this.array[e+n]=t.array[i+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)T0.fromBufferAttribute(this,t),T0.applyMatrix3(e),this.setXY(t,T0.x,T0.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ri.fromBufferAttribute(this,t),ri.applyMatrix3(e),this.setXYZ(t,ri.x,ri.y,ri.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ri.fromBufferAttribute(this,t),ri.applyMatrix4(e),this.setXYZ(t,ri.x,ri.y,ri.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ri.fromBufferAttribute(this,t),ri.applyNormalMatrix(e),this.setXYZ(t,ri.x,ri.y,ri.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ri.fromBufferAttribute(this,t),ri.transformDirection(e),this.setXYZ(t,ri.x,ri.y,ri.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=yn(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Dt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,n){return e*=this.itemSize,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array),n=Dt(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this}setXYZW(e,t,i,n,a){return e*=this.itemSize,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array),n=Dt(n,this.array),a=Dt(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==gm&&(e.usage=this.usage),e}}class i6 extends tr{constructor(e,t,i){super(new Int8Array(e),t,i)}}class n6 extends tr{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class a6 extends tr{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class s6 extends tr{constructor(e,t,i){super(new Int16Array(e),t,i)}}class ME extends tr{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class o6 extends tr{constructor(e,t,i){super(new Int32Array(e),t,i)}}class EE extends tr{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class l6 extends tr{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=tf(this.array[e*this.itemSize]);return this.normalized&&(t=yn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize]=Ln(t),this}getY(e){let t=tf(this.array[e*this.itemSize+1]);return this.normalized&&(t=yn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize+1]=Ln(t),this}getZ(e){let t=tf(this.array[e*this.itemSize+2]);return this.normalized&&(t=yn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize+2]=Ln(t),this}getW(e){let t=tf(this.array[e*this.itemSize+3]);return this.normalized&&(t=yn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Dt(t,this.array)),this.array[e*this.itemSize+3]=Ln(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array)),this.array[e+0]=Ln(t),this.array[e+1]=Ln(i),this}setXYZ(e,t,i,n){return e*=this.itemSize,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array),n=Dt(n,this.array)),this.array[e+0]=Ln(t),this.array[e+1]=Ln(i),this.array[e+2]=Ln(n),this}setXYZW(e,t,i,n,a){return e*=this.itemSize,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array),n=Dt(n,this.array),a=Dt(a,this.array)),this.array[e+0]=Ln(t),this.array[e+1]=Ln(i),this.array[e+2]=Ln(n),this.array[e+3]=Ln(a),this}}class ht extends tr{constructor(e,t,i){super(new Float32Array(e),t,i)}}let c6=0;const La=new vt,Wb=new Yt,mh=new N,ta=new tn,Pp=new tn,xi=new N;class It extends $s{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:c6++}),this.uuid=fa(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Sk(e)?EE:ME)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Bt().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return La.makeRotationFromQuaternion(e),this.applyMatrix4(La),this}rotateX(e){return La.makeRotationX(e),this.applyMatrix4(La),this}rotateY(e){return La.makeRotationY(e),this.applyMatrix4(La),this}rotateZ(e){return La.makeRotationZ(e),this.applyMatrix4(La),this}translate(e,t,i){return La.makeTranslation(e,t,i),this.applyMatrix4(La),this}scale(e,t,i){return La.makeScale(e,t,i),this.applyMatrix4(La),this}lookAt(e){return Wb.lookAt(e),Wb.updateMatrix(),this.applyMatrix4(Wb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(mh).negate(),this.translate(mh.x,mh.y,mh.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let n=0,a=e.length;n<a;n++){const s=e[n];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new ht(i,3))}else{const i=Math.min(e.length,t.count);for(let n=0;n<i;n++){const a=e[n];t.setXYZ(n,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,n=t.length;i<n;i++){const a=t[i];ta.setFromBufferAttribute(a),this.morphTargetsRelative?(xi.addVectors(this.boundingBox.min,ta.min),this.boundingBox.expandByPoint(xi),xi.addVectors(this.boundingBox.max,ta.max),this.boundingBox.expandByPoint(xi)):(this.boundingBox.expandByPoint(ta.min),this.boundingBox.expandByPoint(ta.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Li);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new N,1/0);return}if(e){const i=this.boundingSphere.center;if(ta.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];Pp.setFromBufferAttribute(o),this.morphTargetsRelative?(xi.addVectors(ta.min,Pp.min),ta.expandByPoint(xi),xi.addVectors(ta.max,Pp.max),ta.expandByPoint(xi)):(ta.expandByPoint(Pp.min),ta.expandByPoint(Pp.max))}ta.getCenter(i);let n=0;for(let a=0,s=e.count;a<s;a++)xi.fromBufferAttribute(e,a),n=Math.max(n,i.distanceToSquared(xi));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,h=o.count;c<h;c++)xi.fromBufferAttribute(o,c),l&&(mh.fromBufferAttribute(e,c),xi.add(mh)),n=Math.max(n,i.distanceToSquared(xi))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,n=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new tr(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let I=0;I<i.count;I++)o[I]=new N,l[I]=new N;const c=new N,h=new N,p=new N,f=new _e,m=new _e,g=new _e,x=new N,_=new N;function v(I,C,R){c.fromBufferAttribute(i,I),h.fromBufferAttribute(i,C),p.fromBufferAttribute(i,R),f.fromBufferAttribute(a,I),m.fromBufferAttribute(a,C),g.fromBufferAttribute(a,R),h.sub(c),p.sub(c),m.sub(f),g.sub(f);const D=1/(m.x*g.y-g.x*m.y);isFinite(D)&&(x.copy(h).multiplyScalar(g.y).addScaledVector(p,-m.y).multiplyScalar(D),_.copy(p).multiplyScalar(m.x).addScaledVector(h,-g.x).multiplyScalar(D),o[I].add(x),o[C].add(x),o[R].add(x),l[I].add(_),l[C].add(_),l[R].add(_))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let I=0,C=b.length;I<C;++I){const R=b[I],D=R.start,V=R.count;for(let j=D,Z=D+V;j<Z;j+=3)v(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const A=new N,w=new N,T=new N,E=new N;function B(I){T.fromBufferAttribute(n,I),E.copy(T);const C=o[I];A.copy(C),A.sub(T.multiplyScalar(T.dot(C))).normalize(),w.crossVectors(E,C);const R=w.dot(l[I])<0?-1:1;s.setXYZW(I,A.x,A.y,A.z,R)}for(let I=0,C=b.length;I<C;++I){const R=b[I],D=R.start,V=R.count;for(let j=D,Z=D+V;j<Z;j+=3)B(e.getX(j+0)),B(e.getX(j+1)),B(e.getX(j+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new tr(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let f=0,m=i.count;f<m;f++)i.setXYZ(f,0,0,0);const n=new N,a=new N,s=new N,o=new N,l=new N,c=new N,h=new N,p=new N;if(e)for(let f=0,m=e.count;f<m;f+=3){const g=e.getX(f+0),x=e.getX(f+1),_=e.getX(f+2);n.fromBufferAttribute(t,g),a.fromBufferAttribute(t,x),s.fromBufferAttribute(t,_),h.subVectors(s,a),p.subVectors(n,a),h.cross(p),o.fromBufferAttribute(i,g),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,_),o.add(h),l.add(h),c.add(h),i.setXYZ(g,o.x,o.y,o.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let f=0,m=t.count;f<m;f+=3)n.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),h.subVectors(s,a),p.subVectors(n,a),h.cross(p),i.setXYZ(f+0,h.x,h.y,h.z),i.setXYZ(f+1,h.x,h.y,h.z),i.setXYZ(f+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)xi.fromBufferAttribute(e,t),xi.normalize(),e.setXYZ(t,xi.x,xi.y,xi.z)}toNonIndexed(){function e(o,l){const c=o.array,h=o.itemSize,p=o.normalized,f=new c.constructor(l.length*h);let m=0,g=0;for(let x=0,_=l.length;x<_;x++){o.isInterleavedBufferAttribute?m=l[x]*o.data.stride+o.offset:m=l[x]*h;for(let v=0;v<h;v++)f[g++]=c[m++]}return new tr(f,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new It,i=this.index.array,n=this.attributes;for(const o in n){const l=n[o],c=e(l,i);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let h=0,p=c.length;h<p;h++){const f=c[h],m=e(f,i);l.push(m)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const n={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let p=0,f=c.length;p<f;p++){const m=c[p];h.push(m.toJSON(e.data))}h.length>0&&(n[l]=h,a=!0)}a&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const n=e.attributes;for(const c in n){const h=n[c];this.setAttribute(c,h.clone(t))}const a=e.morphAttributes;for(const c in a){const h=[],p=a[c];for(let f=0,m=p.length;f<m;f++)h.push(p[f].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,h=s.length;c<h;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gP=new vt,gc=new Uu,R0=new Li,vP=new N,P0=new N,B0=new N,I0=new N,Xb=new N,D0=new N,yP=new N,L0=new N;class Kr extends Yt{constructor(e=new It,t=new ha){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,a=i.length;n<a;n++){const s=i[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=n}}}}getVertexPosition(e,t){const i=this.geometry,n=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(n,e);const o=this.morphTargetInfluences;if(a&&o){D0.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const h=o[l],p=a[l];h!==0&&(Xb.fromBufferAttribute(p,e),s?D0.addScaledVector(Xb,h):D0.addScaledVector(Xb.sub(t),h))}t.add(D0)}return t}raycast(e,t){const i=this.geometry,n=this.material,a=this.matrixWorld;n!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),R0.copy(i.boundingSphere),R0.applyMatrix4(a),gc.copy(e.ray).recast(e.near),!(R0.containsPoint(gc.origin)===!1&&(gc.intersectSphere(R0,vP)===null||gc.origin.distanceToSquared(vP)>(e.far-e.near)**2))&&(gP.copy(a).invert(),gc.copy(e.ray).applyMatrix4(gP),!(i.boundingBox!==null&&gc.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,gc)))}_computeIntersections(e,t,i){let n;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,h=a.attributes.uv1,p=a.attributes.normal,f=a.groups,m=a.drawRange;if(o!==null)if(Array.isArray(s))for(let g=0,x=f.length;g<x;g++){const _=f[g],v=s[_.materialIndex],b=Math.max(_.start,m.start),A=Math.min(o.count,Math.min(_.start+_.count,m.start+m.count));for(let w=b,T=A;w<T;w+=3){const E=o.getX(w),B=o.getX(w+1),I=o.getX(w+2);n=F0(this,v,e,i,c,h,p,E,B,I),n&&(n.faceIndex=Math.floor(w/3),n.face.materialIndex=_.materialIndex,t.push(n))}}else{const g=Math.max(0,m.start),x=Math.min(o.count,m.start+m.count);for(let _=g,v=x;_<v;_+=3){const b=o.getX(_),A=o.getX(_+1),w=o.getX(_+2);n=F0(this,s,e,i,c,h,p,b,A,w),n&&(n.faceIndex=Math.floor(_/3),t.push(n))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,x=f.length;g<x;g++){const _=f[g],v=s[_.materialIndex],b=Math.max(_.start,m.start),A=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let w=b,T=A;w<T;w+=3){const E=w,B=w+1,I=w+2;n=F0(this,v,e,i,c,h,p,E,B,I),n&&(n.faceIndex=Math.floor(w/3),n.face.materialIndex=_.materialIndex,t.push(n))}}else{const g=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let _=g,v=x;_<v;_+=3){const b=_,A=_+1,w=_+2;n=F0(this,s,e,i,c,h,p,b,A,w),n&&(n.faceIndex=Math.floor(_/3),t.push(n))}}}}function u6(r,e,t,i,n,a,s,o){let l;if(e.side===Sn?l=i.intersectTriangle(s,a,n,!0,o):l=i.intersectTriangle(n,a,s,e.side===Ks,o),l===null)return null;L0.copy(o),L0.applyMatrix4(r.matrixWorld);const c=t.ray.origin.distanceTo(L0);return c<t.near||c>t.far?null:{distance:c,point:L0.clone(),object:r}}function F0(r,e,t,i,n,a,s,o,l,c){r.getVertexPosition(o,P0),r.getVertexPosition(l,B0),r.getVertexPosition(c,I0);const h=u6(r,e,t,i,P0,B0,I0,yP);if(h){const p=new N;Nn.getBarycoord(yP,P0,B0,I0,p),n&&(h.uv=Nn.getInterpolatedAttribute(n,o,l,c,p,new _e)),a&&(h.uv1=Nn.getInterpolatedAttribute(a,o,l,c,p,new _e)),s&&(h.normal=Nn.getInterpolatedAttribute(s,o,l,c,p,new N),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new N,materialIndex:0};Nn.getNormal(P0,B0,I0,f.normal),h.face=f,h.barycoord=p}return h}class zu extends It{constructor(e=1,t=1,i=1,n=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:a,depthSegments:s};const o=this;n=Math.floor(n),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],h=[],p=[];let f=0,m=0;g("z","y","x",-1,-1,i,t,e,s,a,0),g("z","y","x",1,-1,i,t,-e,s,a,1),g("x","z","y",1,1,e,i,t,n,s,2),g("x","z","y",1,-1,e,i,-t,n,s,3),g("x","y","z",1,-1,e,t,i,n,a,4),g("x","y","z",-1,-1,e,t,-i,n,a,5),this.setIndex(l),this.setAttribute("position",new ht(c,3)),this.setAttribute("normal",new ht(h,3)),this.setAttribute("uv",new ht(p,2));function g(x,_,v,b,A,w,T,E,B,I,C){const R=w/B,D=T/I,V=w/2,j=T/2,Z=E/2,Q=B+1,X=I+1;let ie=0,O=0;const F=new N;for(let q=0;q<X;q++){const pe=q*D-j;for(let we=0;we<Q;we++){const Le=we*R-V;F[x]=Le*b,F[_]=pe*A,F[v]=Z,c.push(F.x,F.y,F.z),F[x]=0,F[_]=0,F[v]=E>0?1:-1,h.push(F.x,F.y,F.z),p.push(we/B),p.push(1-q/I),ie+=1}}for(let q=0;q<I;q++)for(let pe=0;pe<B;pe++){const we=f+pe+Q*q,Le=f+pe+Q*(q+1),se=f+(pe+1)+Q*(q+1),ye=f+(pe+1)+Q*q;l.push(we,Le,ye),l.push(Le,se,ye),O+=6}o.addGroup(m,O,C),m+=O,f+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bd(r){const e={};for(const t in r){e[t]={};for(const i in r[t]){const n=r[t][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=n.clone():Array.isArray(n)?e[t][i]=n.slice():e[t][i]=n}}return e}function dn(r){const e={};for(let t=0;t<r.length;t++){const i=Bd(r[t]);for(const n in i)e[n]=i[n]}return e}function h6(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function Ck(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Zt.workingColorSpace}const Tk={clone:Bd,merge:dn};var d6=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,p6=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class bs extends pi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=d6,this.fragmentShader=p6,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bd(e.uniforms),this.uniformsGroups=h6(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const a=this.uniforms[n].value;a&&a.isTexture?t.uniforms[n]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[n]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[n]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[n]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[n]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[n]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[n]={type:"m4",value:a.toArray()}:t.uniforms[n]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Ym extends Yt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vt,this.projectionMatrix=new vt,this.projectionMatrixInverse=new vt,this.coordinateSystem=ps}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ll=new N,_P=new _e,xP=new _e;class Er extends Ym{constructor(e=50,t=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Pd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(cu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Pd*2*Math.atan(Math.tan(cu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ll.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ll.x,ll.y).multiplyScalar(-e/ll.z),ll.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ll.x,ll.y).multiplyScalar(-e/ll.z)}getViewSize(e,t){return this.getViewBounds(e,_P,xP),t.subVectors(xP,_P)}setViewOffset(e,t,i,n,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(cu*.5*this.fov)/this.zoom,i=2*t,n=this.aspect*i,a=-.5*n;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*n/l,t-=s.offsetY*i/c,n*=s.width/l,i*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+n,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const gh=-90,vh=1;class CE extends Yt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const n=new Er(gh,vh,e,t);n.layers=this.layers,this.add(n);const a=new Er(gh,vh,e,t);a.layers=this.layers,this.add(a);const s=new Er(gh,vh,e,t);s.layers=this.layers,this.add(s);const o=new Er(gh,vh,e,t);o.layers=this.layers,this.add(o);const l=new Er(gh,vh,e,t);l.layers=this.layers,this.add(l);const c=new Er(gh,vh,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,n,a,s,o,l]=t;for(const c of t)this.remove(c);if(e===ps)i.up.set(0,1,0),i.lookAt(1,0,0),n.up.set(0,1,0),n.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===vm)i.up.set(0,-1,0),i.lookAt(-1,0,0),n.up.set(0,-1,0),n.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:n}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,h]=this.children,p=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,n),e.render(t,a),e.setRenderTarget(i,1,n),e.render(t,s),e.setRenderTarget(i,2,n),e.render(t,o),e.setRenderTarget(i,3,n),e.render(t,l),e.setRenderTarget(i,4,n),e.render(t,c),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,n),e.render(t,h),e.setRenderTarget(p,f,m),e.xr.enabled=g,i.texture.needsPMREMUpdate=!0}}class qm extends Tr{constructor(e,t,i,n,a,s,o,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:Go,super(e,t,i,n,a,s,o,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class TE extends Zs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},n=[i,i,i,i,i,i];this.texture=new qm(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:qr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new zu(5,5,5),a=new bs({name:"CubemapFromEquirect",uniforms:Bd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Sn,blending:Bo});a.uniforms.tEquirect.value=t;const s=new Kr(n,a),o=t.minFilter;return t.minFilter===Xa&&(t.minFilter=qr),new CE(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,i,n){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,n);e.setRenderTarget(a)}}class y_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Qe(e),this.density=t}clone(){return new y_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class __{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Qe(e),this.near=t,this.far=i}clone(){return new __(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class RE extends Yt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new va,this.environmentIntensity=1,this.environmentRotation=new va,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Km{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=gm,this.updateRanges=[],this.version=0,this.uuid=fa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let n=0,a=this.stride;n<a;n++)this.array[e+n]=t.array[i+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const cn=new N;class Wl{constructor(e,t,i,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)cn.fromBufferAttribute(this,t),cn.applyMatrix4(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)cn.fromBufferAttribute(this,t),cn.applyNormalMatrix(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)cn.fromBufferAttribute(this,t),cn.transformDirection(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=yn(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Dt(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Dt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Dt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Dt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Dt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yn(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array),n=Dt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this}setXYZW(e,t,i,n,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dt(t,this.array),i=Dt(i,this.array),n=Dt(n,this.array),a=Dt(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[n+a])}return new tr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[n+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class PE extends pi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let yh;const Bp=new N,_h=new N,xh=new N,bh=new _e,Ip=new _e,Rk=new vt,k0=new N,Dp=new N,O0=new N,bP=new _e,Jb=new _e,AP=new _e;class Pk extends Yt{constructor(e=new PE){if(super(),this.isSprite=!0,this.type="Sprite",yh===void 0){yh=new It;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Km(t,5);yh.setIndex([0,1,2,0,2,3]),yh.setAttribute("position",new Wl(i,3,0,!1)),yh.setAttribute("uv",new Wl(i,2,3,!1))}this.geometry=yh,this.material=e,this.center=new _e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_h.setFromMatrixScale(this.matrixWorld),Rk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_h.multiplyScalar(-xh.z);const i=this.material.rotation;let n,a;i!==0&&(a=Math.cos(i),n=Math.sin(i));const s=this.center;N0(k0.set(-.5,-.5,0),xh,s,_h,n,a),N0(Dp.set(.5,-.5,0),xh,s,_h,n,a),N0(O0.set(.5,.5,0),xh,s,_h,n,a),bP.set(0,0),Jb.set(1,0),AP.set(1,1);let o=e.ray.intersectTriangle(k0,Dp,O0,!1,Bp);if(o===null&&(N0(Dp.set(-.5,.5,0),xh,s,_h,n,a),Jb.set(0,1),o=e.ray.intersectTriangle(k0,O0,Dp,!1,Bp),o===null))return;const l=e.ray.origin.distanceTo(Bp);l<e.near||l>e.far||t.push({distance:l,point:Bp.clone(),uv:Nn.getInterpolation(Bp,k0,Dp,O0,bP,Jb,AP,new _e),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function N0(r,e,t,i,n,a){bh.subVectors(r,t).addScalar(.5).multiply(i),n!==void 0?(Ip.x=a*bh.x-n*bh.y,Ip.y=n*bh.x+a*bh.y):Ip.copy(bh),r.copy(e),r.x+=Ip.x,r.y+=Ip.y,r.applyMatrix4(Rk)}const U0=new N,SP=new N;class Bk extends Yt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,n=t.length;i<n;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const n=this.levels;let a;for(a=0;a<n.length&&!(t<n[a].distance);a++);return n.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const n=t.splice(i,1);return this.remove(n[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,n;for(i=1,n=t.length;i<n;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){U0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(U0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){U0.setFromMatrixPosition(e.matrixWorld),SP.setFromMatrixPosition(this.matrixWorld);const i=U0.distanceTo(SP)/e.zoom;t[0].object.visible=!0;let n,a;for(n=1,a=t.length;n<a;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),i>=s)t[n-1].object.visible=!1,t[n].object.visible=!0;else break}for(this._currentLevel=n-1;n<a;n++)t[n].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let n=0,a=i.length;n<a;n++){const s=i[n];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const wP=new N,MP=new $t,EP=new $t,f6=new N,CP=new vt,z0=new N,Yb=new Li,TP=new vt,qb=new Uu;class BE extends Kr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=rw,this.bindMatrix=new vt,this.bindMatrixInverse=new vt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new tn),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,z0),this.boundingBox.expandByPoint(z0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Li),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,z0),this.boundingSphere.expandByPoint(z0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,n=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Yb.copy(this.boundingSphere),Yb.applyMatrix4(n),e.ray.intersectsSphere(Yb)!==!1&&(TP.copy(n).invert(),qb.copy(e.ray).applyMatrix4(TP),!(this.boundingBox!==null&&qb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,qb)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $t,t=this.geometry.attributes.skinWeight;for(let i=0,n=t.count;i<n;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===rw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ok?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,n=this.geometry;MP.fromBufferAttribute(n.attributes.skinIndex,e),EP.fromBufferAttribute(n.attributes.skinWeight,e),wP.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=EP.getComponent(a);if(s!==0){const o=MP.getComponent(a);CP.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(f6.copy(wP).applyMatrix4(CP),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class x_ extends Yt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ws extends Tr{constructor(e=null,t=1,i=1,n,a,s,o,l,c=Mi,h=Mi,p,f){super(null,s,o,l,c,h,n,a,p,f),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const RP=new vt,m6=new vt;class Zm{constructor(e=[],t=[]){this.uuid=fa(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new vt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,n=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:m6;RP.multiplyMatrices(o,t[a]),RP.toArray(i,a*16)}n!==null&&(n.needsUpdate=!0)}clone(){return new Zm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ws(t,e,e,en,zn);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,n=e.bones.length;i<n;i++){const a=e.bones[i];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new x_),this.bones.push(s),this.boneInverses.push(new vt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let n=0,a=t.length;n<a;n++){const s=t[n];e.bones.push(s.uuid);const o=i[n];e.boneInverses.push(o.toArray())}return e}}class Tu extends tr{constructor(e,t,i,n=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ah=new vt,PP=new vt,G0=[],BP=new tn,g6=new vt,Lp=new Kr,Fp=new Li;class IE extends Kr{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Tu(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let n=0;n<i;n++)this.setMatrixAt(n,g6)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new tn),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Ah),BP.copy(e.boundingBox).applyMatrix4(Ah),this.boundingBox.union(BP)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Li),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Ah),Fp.copy(e.boundingSphere).applyMatrix4(Ah),this.boundingSphere.union(Fp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,n=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let o=0;o<i.length;o++)i[o]=n[s+o]}raycast(e,t){const i=this.matrixWorld,n=this.count;if(Lp.geometry=this.geometry,Lp.material=this.material,Lp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Fp.copy(this.boundingSphere),Fp.applyMatrix4(i),e.ray.intersectsSphere(Fp)!==!1))for(let a=0;a<n;a++){this.getMatrixAt(a,Ah),PP.multiplyMatrices(i,Ah),Lp.matrixWorld=PP,Lp.raycast(e,G0);for(let s=0,o=G0.length;s<o;s++){const l=G0[s];l.instanceId=a,l.object=this,t.push(l)}G0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Tu(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,n=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ws(new Float32Array(n*this.count),n,this.count,d_,zn));const a=this.morphTexture.source.data.data;let s=0;for(let c=0;c<i.length;c++)s+=i[c];const o=this.geometry.morphTargetsRelative?1:1-s,l=n*e;a[l]=o,a.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Kb=new N,v6=new N,y6=new Bt;class _o{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const n=Kb.subVectors(i,t).cross(v6.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Kb),n=this.normal.dot(i);if(n===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||y6.getNormalMatrix(e),n=this.coplanarPoint(Kb).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vc=new Li,H0=new N;class Qm{constructor(e=new _o,t=new _o,i=new _o,n=new _o,a=new _o,s=new _o){this.planes=[e,t,i,n,a,s]}set(e,t,i,n,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(n),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=ps){const i=this.planes,n=e.elements,a=n[0],s=n[1],o=n[2],l=n[3],c=n[4],h=n[5],p=n[6],f=n[7],m=n[8],g=n[9],x=n[10],_=n[11],v=n[12],b=n[13],A=n[14],w=n[15];if(i[0].setComponents(l-a,f-c,_-m,w-v).normalize(),i[1].setComponents(l+a,f+c,_+m,w+v).normalize(),i[2].setComponents(l+s,f+h,_+g,w+b).normalize(),i[3].setComponents(l-s,f-h,_-g,w-b).normalize(),i[4].setComponents(l-o,f-p,_-x,w-A).normalize(),t===ps)i[5].setComponents(l+o,f+p,_+x,w+A).normalize();else if(t===vm)i[5].setComponents(o,p,x,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),vc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vc)}intersectsSprite(e){return vc.center.set(0,0,0),vc.radius=.7071067811865476,vc.applyMatrix4(e.matrixWorld),this.intersectsSphere(vc)}intersectsSphere(e){const t=this.planes,i=e.center,n=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<n)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const n=t[i];if(H0.x=n.normal.x>0?e.max.x:e.min.x,H0.y=n.normal.y>0?e.max.y:e.min.y,H0.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(H0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Zb(r,e){return r-e}function _6(r,e){return r.z-e.z}function x6(r,e){return e.z-r.z}class b6{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,n){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=n}reset(){this.list.length=0,this.index=0}}const Dn=new vt,A6=new Qe(1,1,1),Qb=new Qm,V0=new tn,yc=new Li,kp=new N,IP=new N,S6=new N,$b=new b6,Yi=new Kr,j0=[];function w6(r,e,t=0){const i=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const n=r.count;for(let a=0;a<n;a++)for(let s=0;s<i;s++)e.setComponent(a+t,s,r.getComponent(a,s))}else e.array.set(r.array,t*i);e.needsUpdate=!0}function _c(r,e){if(r.constructor!==e.constructor){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++)e[i]=r[i]}else{const t=Math.min(r.length,e.length);e.set(new r.constructor(r.buffer,0,t))}}class Ik extends Kr{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,i=t*2,n){super(new It,n),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Ws(t,e,e,en,zn);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Ws(t,e,e,Xm,Ho);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Ws(t,e,e,en,zn);i.colorSpace=Zt.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,n=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:c}=s,h=new o.constructor(i*l),p=new tr(h,l,c);t.setAttribute(a,p)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(n):new Uint16Array(n);t.setIndex(new tr(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const n=e.getAttribute(i),a=t.getAttribute(i);if(n.itemSize!==a.itemSize||n.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tn);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,n=t.length;i<n;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Dn),this.getBoundingBoxAt(a,V0).applyMatrix4(Dn),e.union(V0)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Li);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,n=t.length;i<n;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Dn),this.getBoundingSphereAt(a,yc).applyMatrix4(Dn),e.union(yc)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Zb),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=t):(i=this._instanceInfo.length,this._instanceInfo.push(t));const n=this._matricesTexture;Dn.identity().toArray(n.image.data,i*16),n.needsUpdate=!0;const a=this._colorsTexture;return a&&(A6.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const n={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;n.vertexStart=this._nextVertexStart,n.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(n.indexStart=this._nextIndexStart,n.reservedIndexCount=i===-1?s.count:i),n.indexStart!==-1&&n.indexStart+n.reservedIndexCount>this._maxIndexCount||n.vertexStart+n.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let o;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Zb),o=this._availableGeometryIds.shift(),a[o]=n):(o=this._geometryCount,this._geometryCount++,a.push(n)),this.setGeometryAt(o,e),this._nextIndexStart=n.indexStart+n.reservedIndexCount,this._nextVertexStart=n.vertexStart+n.reservedVertexCount,o}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,n=i.getIndex()!==null,a=i.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(n&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const h in i.attributes){const p=t.getAttribute(h),f=i.getAttribute(h);w6(p,f,l);const m=p.itemSize;for(let g=p.count,x=c;g<x;g++){const _=l+g;for(let v=0;v<m;v++)f.setComponent(_,v,0)}f.needsUpdate=!0,f.addUpdateRange(l*m,c*m)}if(n){const h=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let f=0;f<s.count;f++)a.setX(h+f,l+s.getX(f));for(let f=s.count,m=p;f<m;f++)a.setX(h+f,l);a.needsUpdate=!0,a.addUpdateRange(h,o.reservedIndexCount)}return o.start=n?o.indexStart:o.vertexStart,o.count=n?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let n=0,a=i.length;n<a;n++)i[n].geometryIndex===e&&this.deleteInstance(n);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,n=i.map((s,o)=>o).sort((s,o)=>i[s].vertexStart-i[o].vertexStart),a=this.geometry;for(let s=0,o=i.length;s<o;s++){const l=n[s],c=i[l];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==t){const{indexStart:h,vertexStart:p,reservedIndexCount:f}=c,m=a.index,g=m.array,x=e-p;for(let _=h;_<h+f;_++)g[_]=g[_]+x;m.array.copyWithin(t,h,h+f),m.addUpdateRange(t,f),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:h,reservedVertexCount:p}=c,f=a.attributes;for(const m in f){const g=f[m],{array:x,itemSize:_}=g;x.copyWithin(e*_,h*_,(h+p)*_),g.addUpdateRange(e*_,p*_)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,n=this._geometryInfo[e];if(n.boundingBox===null){const a=new tn,s=i.index,o=i.attributes.position;for(let l=n.start,c=n.start+n.count;l<c;l++){let h=l;s&&(h=s.getX(h)),a.expandByPoint(kp.fromBufferAttribute(o,h))}n.boundingBox=a}return t.copy(n.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,n=this._geometryInfo[e];if(n.boundingSphere===null){const a=new Li;this.getBoundingBoxAt(e,V0),V0.getCenter(a.center);const s=i.index,o=i.attributes.position;let l=0;for(let c=n.start,h=n.start+n.count;c<h;c++){let p=c;s&&(p=s.getX(p)),kp.fromBufferAttribute(o,p),l=Math.max(l,a.center.distanceToSquared(kp))}a.radius=Math.sqrt(l),n.boundingSphere=a}return t.copy(n.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,n=this._matricesTexture.image.data;return t.toArray(n,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(Zb);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const n=new Int32Array(e),a=new Int32Array(e);_c(this._multiDrawCounts,n),_c(this._multiDrawStarts,a),this._multiDrawCounts=n,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),_c(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),_c(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),_c(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...i.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(s=>s.indexStart+s.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const n=this.geometry;n.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new It,this._initializeGeometry(n));const a=this.geometry;n.index&&_c(n.index.array,a.index.array);for(const s in n.attributes)_c(n.attributes[s].array,a.attributes[s].array)}raycast(e,t){const i=this._instanceInfo,n=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Yi.material=this.material,Yi.geometry.index=s.index,Yi.geometry.attributes=s.attributes,Yi.geometry.boundingBox===null&&(Yi.geometry.boundingBox=new tn),Yi.geometry.boundingSphere===null&&(Yi.geometry.boundingSphere=new Li);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,h=n[c];Yi.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(o,Yi.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Yi.geometry.boundingBox),this.getBoundingSphereAt(c,Yi.geometry.boundingSphere),Yi.raycast(e,j0);for(let p=0,f=j0.length;p<f;p++){const m=j0[p];m.object=this,m.batchId=o,t.push(m)}j0.length=0}Yi.material=null,Yi.geometry.index=null,Yi.geometry.attributes={},Yi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,n,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=n.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,h=this._multiDrawCounts,p=this._geometryInfo,f=this.perObjectFrustumCulled,m=this._indirectTexture,g=m.image.data;f&&(Dn.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Qb.setFromProjectionMatrix(Dn,e.coordinateSystem));let x=0;if(this.sortObjects){Dn.copy(this.matrixWorld).invert(),kp.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Dn),IP.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Dn);for(let b=0,A=l.length;b<A;b++)if(l[b].visible&&l[b].active){const w=l[b].geometryIndex;this.getMatrixAt(b,Dn),this.getBoundingSphereAt(w,yc).applyMatrix4(Dn);let T=!1;if(f&&(T=!Qb.intersectsSphere(yc)),!T){const E=p[w],B=S6.subVectors(yc.center,kp).dot(IP);$b.push(E.start,E.count,B,b)}}const _=$b.list,v=this.customSort;v===null?_.sort(a.transparent?x6:_6):v.call(this,_,i);for(let b=0,A=_.length;b<A;b++){const w=_[b];c[x]=w.start*o,h[x]=w.count,g[x]=w.index,x++}$b.reset()}else for(let _=0,v=l.length;_<v;_++)if(l[_].visible&&l[_].active){const b=l[_].geometryIndex;let A=!1;if(f&&(this.getMatrixAt(_,Dn),this.getBoundingSphereAt(b,yc).applyMatrix4(Dn),A=!Qb.intersectsSphere(yc)),!A){const w=p[b];c[x]=w.start*o,h[x]=w.count,g[x]=_,x++}}m.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,t,i,n,a,s){this.onBeforeRender(e,null,n,a,s)}}class an extends pi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Qe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const p1=new N,f1=new N,DP=new vt,Op=new Uu,W0=new Li,eA=new N,LP=new N;class Vo extends Yt{constructor(e=new It,t=new an){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let n=1,a=t.count;n<a;n++)p1.fromBufferAttribute(t,n-1),f1.fromBufferAttribute(t,n),i[n]=i[n-1],i[n]+=p1.distanceTo(f1);e.setAttribute("lineDistance",new ht(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),W0.copy(i.boundingSphere),W0.applyMatrix4(n),W0.radius+=a,e.ray.intersectsSphere(W0)===!1)return;DP.copy(n).invert(),Op.copy(e.ray).applyMatrix4(DP);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,h=i.index,p=i.attributes.position;if(h!==null){const f=Math.max(0,s.start),m=Math.min(h.count,s.start+s.count);for(let g=f,x=m-1;g<x;g+=c){const _=h.getX(g),v=h.getX(g+1),b=X0(this,e,Op,l,_,v);b&&t.push(b)}if(this.isLineLoop){const g=h.getX(m-1),x=h.getX(f),_=X0(this,e,Op,l,g,x);_&&t.push(_)}}else{const f=Math.max(0,s.start),m=Math.min(p.count,s.start+s.count);for(let g=f,x=m-1;g<x;g+=c){const _=X0(this,e,Op,l,g,g+1);_&&t.push(_)}if(this.isLineLoop){const g=X0(this,e,Op,l,m-1,f);g&&t.push(g)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,a=i.length;n<a;n++){const s=i[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=n}}}}}function X0(r,e,t,i,n,a){const s=r.geometry.attributes.position;if(p1.fromBufferAttribute(s,n),f1.fromBufferAttribute(s,a),t.distanceSqToSegment(p1,f1,eA,LP)>i)return;eA.applyMatrix4(r.matrixWorld);const o=e.ray.origin.distanceTo(eA);if(!(o<e.near||o>e.far))return{distance:o,point:LP.clone().applyMatrix4(r.matrixWorld),index:n,face:null,faceIndex:null,barycoord:null,object:r}}const FP=new N,kP=new N;class As extends Vo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let n=0,a=t.count;n<a;n+=2)FP.fromBufferAttribute(t,n),kP.fromBufferAttribute(t,n+1),i[n]=n===0?0:i[n-1],i[n+1]=i[n]+FP.distanceTo(kP);e.setAttribute("lineDistance",new ht(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class DE extends Vo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class $m extends pi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const OP=new vt,aw=new Uu,J0=new Li,Y0=new N;let LE=class extends Yt{constructor(r=new It,e=new $m){super(),this.isPoints=!0,this.type="Points",this.geometry=r,this.material=e,this.updateMorphTargets()}copy(r,e){return super.copy(r,e),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}raycast(r,e){const t=this.geometry,i=this.matrixWorld,n=r.params.Points.threshold,a=t.drawRange;if(t.boundingSphere===null&&t.computeBoundingSphere(),J0.copy(t.boundingSphere),J0.applyMatrix4(i),J0.radius+=n,r.ray.intersectsSphere(J0)===!1)return;OP.copy(i).invert(),aw.copy(r.ray).applyMatrix4(OP);const s=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,l=t.index,c=t.attributes.position;if(l!==null){const h=Math.max(0,a.start),p=Math.min(l.count,a.start+a.count);for(let f=h,m=p;f<m;f++){const g=l.getX(f);Y0.fromBufferAttribute(c,g),NP(Y0,g,o,i,r,e,this)}}else{const h=Math.max(0,a.start),p=Math.min(c.count,a.start+a.count);for(let f=h,m=p;f<m;f++)Y0.fromBufferAttribute(c,f),NP(Y0,f,o,i,r,e,this)}}updateMorphTargets(){const r=this.geometry.morphAttributes,e=Object.keys(r);if(e.length>0){const t=r[e[0]];if(t!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,n=t.length;i<n;i++){const a=t[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}};function NP(r,e,t,i,n,a,s){const o=aw.distanceSqToPoint(r);if(o<t){const l=new N;aw.closestPointToPoint(r,l),l.applyMatrix4(i);const c=n.ray.origin.distanceTo(l);if(c<n.near||c>n.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class Eo extends Yt{constructor(){super(),this.isGroup=!0,this.type="Group"}}class M6 extends Tr{constructor(e,t,i,n,a,s,o,l,c){super(e,t,i,n,a,s,o,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:qr,this.magFilter=a!==void 0?a:qr,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class E6 extends Tr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Mi,this.minFilter=Mi,this.generateMipmaps=!1,this.needsUpdate=!0}}class b_ extends Tr{constructor(e,t,i,n,a,s,o,l,c,h,p,f){super(null,s,o,l,c,h,n,a,p,f),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class C6 extends b_{constructor(e,t,i,n,a,s){super(e,t,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=n,this.wrapR=ua,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class T6 extends b_{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Go),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class R6 extends Tr{constructor(e,t,i,n,a,s,o,l,c){super(e,t,i,n,a,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class FE extends Tr{constructor(e,t,i,n,a,s,o,l,c,h=ou){if(h!==ou&&h!==Eu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===ou&&(i=Ho),i===void 0&&h===Eu&&(i=Mu),super(null,n,a,s,o,l,h,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Mi,this.minFilter=l!==void 0?l:Mi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Ss{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,n=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(n),t.push(a),n=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let n=0;const a=i.length;let s;t?s=t:s=e*i[a-1];let o=0,l=a-1,c;for(;o<=l;)if(n=Math.floor(o+(l-o)/2),c=i[n]-s,c<0)o=n+1;else if(c>0)l=n-1;else{l=n;break}if(n=l,i[n]===s)return n/(a-1);const h=i[n],p=i[n+1]-h,f=(s-h)/p;return(n+f)/(a-1)}getTangent(e,t){let i=e-1e-4,n=e+1e-4;i<0&&(i=0),n>1&&(n=1);const a=this.getPoint(i),s=this.getPoint(n),o=t||(a.isVector2?new _e:new N);return o.copy(s).sub(a).normalize(),o}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new N,n=[],a=[],s=[],o=new N,l=new vt;for(let m=0;m<=e;m++){const g=m/e;n[m]=this.getTangentAt(g,new N)}a[0]=new N,s[0]=new N;let c=Number.MAX_VALUE;const h=Math.abs(n[0].x),p=Math.abs(n[0].y),f=Math.abs(n[0].z);h<=c&&(c=h,i.set(1,0,0)),p<=c&&(c=p,i.set(0,1,0)),f<=c&&i.set(0,0,1),o.crossVectors(n[0],i).normalize(),a[0].crossVectors(n[0],o),s[0].crossVectors(n[0],a[0]);for(let m=1;m<=e;m++){if(a[m]=a[m-1].clone(),s[m]=s[m-1].clone(),o.crossVectors(n[m-1],n[m]),o.length()>Number.EPSILON){o.normalize();const g=Math.acos(Tt(n[m-1].dot(n[m]),-1,1));a[m].applyMatrix4(l.makeRotationAxis(o,g))}s[m].crossVectors(n[m],a[m])}if(t===!0){let m=Math.acos(Tt(a[0].dot(a[e]),-1,1));m/=e,n[0].dot(o.crossVectors(a[0],a[e]))>0&&(m=-m);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(n[g],m*g)),s[g].crossVectors(n[g],a[g])}return{tangents:n,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class A_ extends Ss{constructor(e=0,t=0,i=1,n=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=n,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new _e){const i=t,n=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=n;for(;a>n;)a-=n;a<Number.EPSILON&&(s?a=0:a=n),this.aClockwise===!0&&!s&&(a===n?a=-n:a=a-n);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*h-m*p+this.aX,c=f*p+m*h+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Dk extends A_{constructor(e,t,i,n,a,s){super(e,t,i,i,n,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function kE(){let r=0,e=0,t=0,i=0;function n(a,s,o,l){r=a,e=o,t=-3*a+3*s-2*o-l,i=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){n(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,h,p){let f=(s-a)/c-(o-a)/(c+h)+(o-s)/h,m=(o-s)/h-(l-s)/(h+p)+(l-o)/p;f*=h,m*=h,n(s,o,f,m)},calc:function(a){const s=a*a,o=s*a;return r+e*a+t*s+i*o}}}const q0=new N,tA=new kE,rA=new kE,iA=new kE;class Lk extends Ss{constructor(e=[],t=!1,i="centripetal",n=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=n}getPoint(e,t=new N){const i=t,n=this.points,a=n.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,h;this.closed||o>0?c=n[(o-1)%a]:(q0.subVectors(n[0],n[1]).add(n[0]),c=q0);const p=n[o%a],f=n[(o+1)%a];if(this.closed||o+2<a?h=n[(o+2)%a]:(q0.subVectors(n[a-1],n[a-2]).add(n[a-1]),h=q0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m),_=Math.pow(f.distanceToSquared(h),m);x<1e-4&&(x=1),g<1e-4&&(g=x),_<1e-4&&(_=x),tA.initNonuniformCatmullRom(c.x,p.x,f.x,h.x,g,x,_),rA.initNonuniformCatmullRom(c.y,p.y,f.y,h.y,g,x,_),iA.initNonuniformCatmullRom(c.z,p.z,f.z,h.z,g,x,_)}else this.curveType==="catmullrom"&&(tA.initCatmullRom(c.x,p.x,f.x,h.x,this.tension),rA.initCatmullRom(c.y,p.y,f.y,h.y,this.tension),iA.initCatmullRom(c.z,p.z,f.z,h.z,this.tension));return i.set(tA.calc(l),rA.calc(l),iA.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(new N().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function UP(r,e,t,i,n){const a=(i-e)*.5,s=(n-t)*.5,o=r*r,l=r*o;return(2*t-2*i+a+s)*l+(-3*t+3*i-2*a-s)*o+a*r+t}function P6(r,e){const t=1-r;return t*t*e}function B6(r,e){return 2*(1-r)*r*e}function I6(r,e){return r*r*e}function Tf(r,e,t,i){return P6(r,e)+B6(r,t)+I6(r,i)}function D6(r,e){const t=1-r;return t*t*t*e}function L6(r,e){const t=1-r;return 3*t*t*r*e}function F6(r,e){return 3*(1-r)*r*r*e}function k6(r,e){return r*r*r*e}function Rf(r,e,t,i,n){return D6(r,e)+L6(r,t)+F6(r,i)+k6(r,n)}class OE extends Ss{constructor(e=new _e,t=new _e,i=new _e,n=new _e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=n}getPoint(e,t=new _e){const i=t,n=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(Rf(e,n.x,a.x,s.x,o.x),Rf(e,n.y,a.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Fk extends Ss{constructor(e=new N,t=new N,i=new N,n=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=n}getPoint(e,t=new N){const i=t,n=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(Rf(e,n.x,a.x,s.x,o.x),Rf(e,n.y,a.y,s.y,o.y),Rf(e,n.z,a.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class NE extends Ss{constructor(e=new _e,t=new _e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _e){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kk extends Ss{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new N){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UE extends Ss{constructor(e=new _e,t=new _e,i=new _e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new _e){const i=t,n=this.v0,a=this.v1,s=this.v2;return i.set(Tf(e,n.x,a.x,s.x),Tf(e,n.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zE extends Ss{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,n=this.v0,a=this.v1,s=this.v2;return i.set(Tf(e,n.x,a.x,s.x),Tf(e,n.y,a.y,s.y),Tf(e,n.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GE extends Ss{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _e){const i=t,n=this.points,a=(n.length-1)*e,s=Math.floor(a),o=a-s,l=n[s===0?s:s-1],c=n[s],h=n[s>n.length-2?n.length-1:s+1],p=n[s>n.length-3?n.length-1:s+2];return i.set(UP(o,l.x,c.x,h.x,p.x),UP(o,l.y,c.y,h.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(new _e().fromArray(n))}return this}}var m1=Object.freeze({__proto__:null,ArcCurve:Dk,CatmullRomCurve3:Lk,CubicBezierCurve:OE,CubicBezierCurve3:Fk,EllipseCurve:A_,LineCurve:NE,LineCurve3:kk,QuadraticBezierCurve:UE,QuadraticBezierCurve3:zE,SplineCurve:GE});class Ok extends Ss{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new m1[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),n=this.getCurveLengths();let a=0;for(;a<n.length;){if(n[a]>=i){const s=n[a]-i,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,n=this.curves.length;i<n;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let n=0,a=this.curves;n<a.length;n++){const s=a[n],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const h=l[c];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const n=e.curves[t];this.curves.push(new m1[n.type]().fromJSON(n))}return this}}class _m extends Ok{constructor(e){super(),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new NE(this.currentPoint.clone(),new _e(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,n){const a=new UE(this.currentPoint.clone(),new _e(e,t),new _e(i,n));return this.curves.push(a),this.currentPoint.set(i,n),this}bezierCurveTo(e,t,i,n,a,s){const o=new OE(this.currentPoint.clone(),new _e(e,t),new _e(i,n),new _e(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new GE(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,n,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,n,a,s),this}absarc(e,t,i,n,a,s){return this.absellipse(e,t,i,i,n,a,s),this}ellipse(e,t,i,n,a,s,o,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,i,n,a,s,o,l),this}absellipse(e,t,i,n,a,s,o,l){const c=new A_(e,t,i,n,a,s,o,l);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class eg extends It{constructor(e=[new _e(0,-.5),new _e(.5,0),new _e(0,.5)],t=12,i=0,n=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},t=Math.floor(t),n=Tt(n,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],h=1/t,p=new N,f=new _e,m=new N,g=new N,x=new N;let _=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:_=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,m.x=v*1,m.y=-_,m.z=v*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:_=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,m.x=v*1,m.y=-_,m.z=v*0,g.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(g)}for(let b=0;b<=t;b++){const A=i+b*h*n,w=Math.sin(A),T=Math.cos(A);for(let E=0;E<=e.length-1;E++){p.x=e[E].x*w,p.y=e[E].y,p.z=e[E].x*T,s.push(p.x,p.y,p.z),f.x=b/t,f.y=E/(e.length-1),o.push(f.x,f.y);const B=l[3*E+0]*w,I=l[3*E+1],C=l[3*E+0]*T;c.push(B,I,C)}}for(let b=0;b<t;b++)for(let A=0;A<e.length-1;A++){const w=A+b*e.length,T=w,E=w+e.length,B=w+e.length+1,I=w+1;a.push(T,E,I),a.push(B,I,E)}this.setIndex(a),this.setAttribute("position",new ht(s,3)),this.setAttribute("uv",new ht(o,2)),this.setAttribute("normal",new ht(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eg(e.points,e.segments,e.phiStart,e.phiLength)}}class S_ extends eg{constructor(e=1,t=1,i=4,n=8){const a=new _m;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(i),n),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:n}}static fromJSON(e){return new S_(e.radius,e.length,e.capSegments,e.radialSegments)}}class w_ extends It{constructor(e=1,t=32,i=0,n=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},t=Math.max(3,t);const a=[],s=[],o=[],l=[],c=new N,h=new _e;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let p=0,f=3;p<=t;p++,f+=3){const m=i+p/t*n;c.x=e*Math.cos(m),c.y=e*Math.sin(m),s.push(c.x,c.y,c.z),o.push(0,0,1),h.x=(s[f]/e+1)/2,h.y=(s[f+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=t;p++)a.push(p,p+1,0);this.setIndex(a),this.setAttribute("position",new ht(s,3)),this.setAttribute("normal",new ht(o,3)),this.setAttribute("uv",new ht(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new w_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Kd extends It{constructor(e=1,t=1,i=1,n=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;n=Math.floor(n),a=Math.floor(a);const h=[],p=[],f=[],m=[];let g=0;const x=[],_=i/2;let v=0;b(),s===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(h),this.setAttribute("position",new ht(p,3)),this.setAttribute("normal",new ht(f,3)),this.setAttribute("uv",new ht(m,2));function b(){const w=new N,T=new N;let E=0;const B=(t-e)/i;for(let I=0;I<=a;I++){const C=[],R=I/a,D=R*(t-e)+e;for(let V=0;V<=n;V++){const j=V/n,Z=j*l+o,Q=Math.sin(Z),X=Math.cos(Z);T.x=D*Q,T.y=-R*i+_,T.z=D*X,p.push(T.x,T.y,T.z),w.set(Q,B,X).normalize(),f.push(w.x,w.y,w.z),m.push(j,1-R),C.push(g++)}x.push(C)}for(let I=0;I<n;I++)for(let C=0;C<a;C++){const R=x[C][I],D=x[C+1][I],V=x[C+1][I+1],j=x[C][I+1];(e>0||C!==0)&&(h.push(R,D,j),E+=3),(t>0||C!==a-1)&&(h.push(D,V,j),E+=3)}c.addGroup(v,E,0),v+=E}function A(w){const T=g,E=new _e,B=new N;let I=0;const C=w===!0?e:t,R=w===!0?1:-1;for(let V=1;V<=n;V++)p.push(0,_*R,0),f.push(0,R,0),m.push(.5,.5),g++;const D=g;for(let V=0;V<=n;V++){const j=V/n*l+o,Z=Math.cos(j),Q=Math.sin(j);B.x=C*Q,B.y=_*R,B.z=C*Z,p.push(B.x,B.y,B.z),f.push(0,R,0),E.x=Z*.5+.5,E.y=Q*.5*R+.5,m.push(E.x,E.y),g++}for(let V=0;V<n;V++){const j=T+V,Z=D+V;w===!0?h.push(Z,Z+1,j):h.push(Z+1,Z,j),I+=3}c.addGroup(v,I,w===!0?1:2),v+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class M_ extends Kd{constructor(e=1,t=1,i=32,n=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,i,n,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new M_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tc extends It{constructor(e=[],t=[],i=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n};const a=[],s=[];o(n),c(i),h(),this.setAttribute("position",new ht(a,3)),this.setAttribute("normal",new ht(a.slice(),3)),this.setAttribute("uv",new ht(s,2)),n===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const A=new N,w=new N,T=new N;for(let E=0;E<t.length;E+=3)m(t[E+0],A),m(t[E+1],w),m(t[E+2],T),l(A,w,T,b)}function l(b,A,w,T){const E=T+1,B=[];for(let I=0;I<=E;I++){B[I]=[];const C=b.clone().lerp(w,I/E),R=A.clone().lerp(w,I/E),D=E-I;for(let V=0;V<=D;V++)V===0&&I===E?B[I][V]=C:B[I][V]=C.clone().lerp(R,V/D)}for(let I=0;I<E;I++)for(let C=0;C<2*(E-I)-1;C++){const R=Math.floor(C/2);C%2===0?(f(B[I][R+1]),f(B[I+1][R]),f(B[I][R])):(f(B[I][R+1]),f(B[I+1][R+1]),f(B[I+1][R]))}}function c(b){const A=new N;for(let w=0;w<a.length;w+=3)A.x=a[w+0],A.y=a[w+1],A.z=a[w+2],A.normalize().multiplyScalar(b),a[w+0]=A.x,a[w+1]=A.y,a[w+2]=A.z}function h(){const b=new N;for(let A=0;A<a.length;A+=3){b.x=a[A+0],b.y=a[A+1],b.z=a[A+2];const w=_(b)/2/Math.PI+.5,T=v(b)/Math.PI+.5;s.push(w,1-T)}g(),p()}function p(){for(let b=0;b<s.length;b+=6){const A=s[b+0],w=s[b+2],T=s[b+4],E=Math.max(A,w,T),B=Math.min(A,w,T);E>.9&&B<.1&&(A<.2&&(s[b+0]+=1),w<.2&&(s[b+2]+=1),T<.2&&(s[b+4]+=1))}}function f(b){a.push(b.x,b.y,b.z)}function m(b,A){const w=b*3;A.x=e[w+0],A.y=e[w+1],A.z=e[w+2]}function g(){const b=new N,A=new N,w=new N,T=new N,E=new _e,B=new _e,I=new _e;for(let C=0,R=0;C<a.length;C+=9,R+=6){b.set(a[C+0],a[C+1],a[C+2]),A.set(a[C+3],a[C+4],a[C+5]),w.set(a[C+6],a[C+7],a[C+8]),E.set(s[R+0],s[R+1]),B.set(s[R+2],s[R+3]),I.set(s[R+4],s[R+5]),T.copy(b).add(A).add(w).divideScalar(3);const D=_(T);x(E,R+0,b,D),x(B,R+2,A,D),x(I,R+4,w,D)}}function x(b,A,w,T){T<0&&b.x===1&&(s[A]=b.x-1),w.x===0&&w.z===0&&(s[A]=T/2/Math.PI+.5)}function _(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tc(e.vertices,e.indices,e.radius,e.details)}}class E_ extends tc{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,n=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new E_(e.radius,e.detail)}}const K0=new N,Z0=new N,nA=new N,Q0=new Nn;class Nk extends It{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),n=Math.cos(cu*t),a=e.getIndex(),s=e.getAttribute("position"),o=a?a.count:s.count,l=[0,0,0],c=["a","b","c"],h=new Array(3),p={},f=[];for(let m=0;m<o;m+=3){a?(l[0]=a.getX(m),l[1]=a.getX(m+1),l[2]=a.getX(m+2)):(l[0]=m,l[1]=m+1,l[2]=m+2);const{a:g,b:x,c:_}=Q0;if(g.fromBufferAttribute(s,l[0]),x.fromBufferAttribute(s,l[1]),_.fromBufferAttribute(s,l[2]),Q0.getNormal(nA),h[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let v=0;v<3;v++){const b=(v+1)%3,A=h[v],w=h[b],T=Q0[c[v]],E=Q0[c[b]],B=`${A}_${w}`,I=`${w}_${A}`;I in p&&p[I]?(nA.dot(p[I].normal)<=n&&(f.push(T.x,T.y,T.z),f.push(E.x,E.y,E.z)),p[I]=null):B in p||(p[B]={index0:l[v],index1:l[b],normal:nA.clone()})}}for(const m in p)if(p[m]){const{index0:g,index1:x}=p[m];K0.fromBufferAttribute(s,g),Z0.fromBufferAttribute(s,x),f.push(K0.x,K0.y,K0.z),f.push(Z0.x,Z0.y,Z0.z)}this.setAttribute("position",new ht(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class hu extends _m{constructor(e){super(e),this.uuid=fa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,n=this.holes.length;i<n;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const n=e.holes[t];this.holes.push(new _m().fromJSON(n))}return this}}const O6={triangulate:function(r,e,t=2){const i=e&&e.length,n=i?e[0]*t:r.length;let a=Uk(r,0,n,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c,h,p,f,m;if(i&&(a=H6(r,e,a,t)),r.length>80*t){o=c=r[0],l=h=r[1];for(let g=t;g<n;g+=t)p=r[g],f=r[g+1],p<o&&(o=p),f<l&&(l=f),p>c&&(c=p),f>h&&(h=f);m=Math.max(c-o,h-l),m=m!==0?32767/m:0}return xm(a,s,t,o,l,m,0),s}};function Uk(r,e,t,i,n){let a,s;if(n===$6(r,e,t,i)>0)for(a=e;a<t;a+=i)s=zP(a,r[a],r[a+1],s);else for(a=t-i;a>=e;a-=i)s=zP(a,r[a],r[a+1],s);return s&&C_(s,s.next)&&(Am(s),s=s.next),s}function Ru(r,e){if(!r)return r;e||(e=r);let t=r,i;do if(i=!1,!t.steiner&&(C_(t,t.next)||Dr(t.prev,t,t.next)===0)){if(Am(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function xm(r,e,t,i,n,a,s){if(!r)return;!s&&a&&J6(r,i,n,a);let o=r,l,c;for(;r.prev!==r.next;){if(l=r.prev,c=r.next,a?U6(r,i,n,a):N6(r)){e.push(l.i/t|0),e.push(r.i/t|0),e.push(c.i/t|0),Am(r),r=c.next,o=c.next;continue}if(r=c,r===o){s?s===1?(r=z6(Ru(r),e,t),xm(r,e,t,i,n,a,2)):s===2&&G6(r,e,t,i,n,a):xm(Ru(r),e,t,i,n,a,1);break}}}function N6(r){const e=r.prev,t=r,i=r.next;if(Dr(e,t,i)>=0)return!1;const n=e.x,a=t.x,s=i.x,o=e.y,l=t.y,c=i.y,h=n<a?n<s?n:s:a<s?a:s,p=o<l?o<c?o:c:l<c?l:c,f=n>a?n>s?n:s:a>s?a:s,m=o>l?o>c?o:c:l>c?l:c;let g=i.next;for(;g!==e;){if(g.x>=h&&g.x<=f&&g.y>=p&&g.y<=m&&Jh(n,o,a,l,s,c,g.x,g.y)&&Dr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function U6(r,e,t,i){const n=r.prev,a=r,s=r.next;if(Dr(n,a,s)>=0)return!1;const o=n.x,l=a.x,c=s.x,h=n.y,p=a.y,f=s.y,m=o<l?o<c?o:c:l<c?l:c,g=h<p?h<f?h:f:p<f?p:f,x=o>l?o>c?o:c:l>c?l:c,_=h>p?h>f?h:f:p>f?p:f,v=sw(m,g,e,t,i),b=sw(x,_,e,t,i);let A=r.prevZ,w=r.nextZ;for(;A&&A.z>=v&&w&&w.z<=b;){if(A.x>=m&&A.x<=x&&A.y>=g&&A.y<=_&&A!==n&&A!==s&&Jh(o,h,l,p,c,f,A.x,A.y)&&Dr(A.prev,A,A.next)>=0||(A=A.prevZ,w.x>=m&&w.x<=x&&w.y>=g&&w.y<=_&&w!==n&&w!==s&&Jh(o,h,l,p,c,f,w.x,w.y)&&Dr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;A&&A.z>=v;){if(A.x>=m&&A.x<=x&&A.y>=g&&A.y<=_&&A!==n&&A!==s&&Jh(o,h,l,p,c,f,A.x,A.y)&&Dr(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;w&&w.z<=b;){if(w.x>=m&&w.x<=x&&w.y>=g&&w.y<=_&&w!==n&&w!==s&&Jh(o,h,l,p,c,f,w.x,w.y)&&Dr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function z6(r,e,t){let i=r;do{const n=i.prev,a=i.next.next;!C_(n,a)&&zk(n,i,i.next,a)&&bm(n,a)&&bm(a,n)&&(e.push(n.i/t|0),e.push(i.i/t|0),e.push(a.i/t|0),Am(i),Am(i.next),i=r=a),i=i.next}while(i!==r);return Ru(i)}function G6(r,e,t,i,n,a){let s=r;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&K6(s,o)){let l=Gk(s,o);s=Ru(s,s.next),l=Ru(l,l.next),xm(s,e,t,i,n,a,0),xm(l,e,t,i,n,a,0);return}o=o.next}s=s.next}while(s!==r)}function H6(r,e,t,i){const n=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;a++)o=e[a]*i,l=a<s-1?e[a+1]*i:r.length,c=Uk(r,o,l,i,!1),c===c.next&&(c.steiner=!0),n.push(q6(c));for(n.sort(V6),a=0;a<n.length;a++)t=j6(n[a],t);return t}function V6(r,e){return r.x-e.x}function j6(r,e){const t=W6(r,e);if(!t)return e;const i=Gk(t,r);return Ru(i,i.next),Ru(t,t.next)}function W6(r,e){let t=e,i=-1/0,n;const a=r.x,s=r.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const f=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=a&&f>i&&(i=f,n=t.x<t.next.x?t:t.next,f===a))return n}t=t.next}while(t!==e);if(!n)return null;const o=n,l=n.x,c=n.y;let h=1/0,p;t=n;do a>=t.x&&t.x>=l&&a!==t.x&&Jh(s<c?a:i,s,l,c,s<c?i:a,s,t.x,t.y)&&(p=Math.abs(s-t.y)/(a-t.x),bm(t,r)&&(p<h||p===h&&(t.x>n.x||t.x===n.x&&X6(n,t)))&&(n=t,h=p)),t=t.next;while(t!==o);return n}function X6(r,e){return Dr(r.prev,r,e.prev)<0&&Dr(e.next,r,r.next)<0}function J6(r,e,t,i){let n=r;do n.z===0&&(n.z=sw(n.x,n.y,e,t,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==r);n.prevZ.nextZ=null,n.prevZ=null,Y6(n)}function Y6(r){let e,t,i,n,a,s,o,l,c=1;do{for(t=r,r=null,a=null,s=0;t;){for(s++,i=t,o=0,e=0;e<c&&(o++,i=i.nextZ,!!i);e++);for(l=c;o>0||l>0&&i;)o!==0&&(l===0||!i||t.z<=i.z)?(n=t,t=t.nextZ,o--):(n=i,i=i.nextZ,l--),a?a.nextZ=n:r=n,n.prevZ=a,a=n;t=i}a.nextZ=null,c*=2}while(s>1);return r}function sw(r,e,t,i,n){return r=(r-t)*n|0,e=(e-i)*n|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function q6(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Jh(r,e,t,i,n,a,s,o){return(n-s)*(e-o)>=(r-s)*(a-o)&&(r-s)*(i-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(n-s)*(i-o)}function K6(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!Z6(r,e)&&(bm(r,e)&&bm(e,r)&&Q6(r,e)&&(Dr(r.prev,r,e.prev)||Dr(r,e.prev,e))||C_(r,e)&&Dr(r.prev,r,r.next)>0&&Dr(e.prev,e,e.next)>0)}function Dr(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function C_(r,e){return r.x===e.x&&r.y===e.y}function zk(r,e,t,i){const n=ev(Dr(r,e,t)),a=ev(Dr(r,e,i)),s=ev(Dr(t,i,r)),o=ev(Dr(t,i,e));return!!(n!==a&&s!==o||n===0&&$0(r,t,e)||a===0&&$0(r,i,e)||s===0&&$0(t,r,i)||o===0&&$0(t,e,i))}function $0(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function ev(r){return r>0?1:r<0?-1:0}function Z6(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&zk(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function bm(r,e){return Dr(r.prev,r,r.next)<0?Dr(r,e,r.next)>=0&&Dr(r,r.prev,e)>=0:Dr(r,e,r.prev)<0||Dr(r,r.next,e)<0}function Q6(r,e){let t=r,i=!1;const n=(r.x+e.x)/2,a=(r.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&n<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==r);return i}function Gk(r,e){const t=new ow(r.i,r.x,r.y),i=new ow(e.i,e.x,e.y),n=r.next,a=e.prev;return r.next=e,e.prev=r,t.next=n,n.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function zP(r,e,t,i){const n=new ow(r,e,t);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function Am(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function ow(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $6(r,e,t,i){let n=0;for(let a=e,s=t-i;a<t;a+=i)n+=(r[s]-r[a])*(r[a+1]+r[s+1]),s=a;return n}class Xs{static area(e){const t=e.length;let i=0;for(let n=t-1,a=0;a<t;n=a++)i+=e[n].x*e[a].y-e[a].x*e[n].y;return i*.5}static isClockWise(e){return Xs.area(e)<0}static triangulateShape(e,t){const i=[],n=[],a=[];GP(e),HP(i,e);let s=e.length;t.forEach(GP);for(let l=0;l<t.length;l++)n.push(s),s+=t[l].length,HP(i,t[l]);const o=O6.triangulate(i,n);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function GP(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function HP(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class T_ extends It{constructor(e=new hu([new _e(.5,.5),new _e(-.5,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,n=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new ht(n,3)),this.setAttribute("uv",new ht(a,2)),this.computeVertexNormals();function s(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:eV;let A,w=!1,T,E,B,I;v&&(A=v.getSpacedPoints(h),w=!0,f=!1,T=v.computeFrenetFrames(h,!1),E=new N,B=new N,I=new N),f||(_=0,m=0,g=0,x=0);const C=o.extractPoints(c);let R=C.shape;const D=C.holes;if(!Xs.isClockWise(R)){R=R.reverse();for(let ue=0,oe=D.length;ue<oe;ue++){const xe=D[ue];Xs.isClockWise(xe)&&(D[ue]=xe.reverse())}}const V=Xs.triangulateShape(R,D),j=R;for(let ue=0,oe=D.length;ue<oe;ue++){const xe=D[ue];R=R.concat(xe)}function Z(ue,oe,xe){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),ue.clone().addScaledVector(oe,xe)}const Q=R.length,X=V.length;function ie(ue,oe,xe){let z,ke,Y;const Ue=ue.x-oe.x,Fe=ue.y-oe.y,ut=xe.x-ue.x,Te=xe.y-ue.y,U=Ue*Ue+Fe*Fe,L=Ue*Te-Fe*ut;if(Math.abs(L)>Number.EPSILON){const ee=Math.sqrt(U),me=Math.sqrt(ut*ut+Te*Te),Ae=oe.x-Fe/ee,de=oe.y+Ue/ee,Ve=xe.x-Te/me,ze=xe.y+ut/me,We=((Ve-Ae)*Te-(ze-de)*ut)/(Ue*Te-Fe*ut);z=Ae+Ue*We-ue.x,ke=de+Fe*We-ue.y;const wt=z*z+ke*ke;if(wt<=2)return new _e(z,ke);Y=Math.sqrt(wt/2)}else{let ee=!1;Ue>Number.EPSILON?ut>Number.EPSILON&&(ee=!0):Ue<-Number.EPSILON?ut<-Number.EPSILON&&(ee=!0):Math.sign(Fe)===Math.sign(Te)&&(ee=!0),ee?(z=-Fe,ke=Ue,Y=Math.sqrt(U)):(z=Ue,ke=Fe,Y=Math.sqrt(U/2))}return new _e(z/Y,ke/Y)}const O=[];for(let ue=0,oe=j.length,xe=oe-1,z=ue+1;ue<oe;ue++,xe++,z++)xe===oe&&(xe=0),z===oe&&(z=0),O[ue]=ie(j[ue],j[xe],j[z]);const F=[];let q,pe=O.concat();for(let ue=0,oe=D.length;ue<oe;ue++){const xe=D[ue];q=[];for(let z=0,ke=xe.length,Y=ke-1,Ue=z+1;z<ke;z++,Y++,Ue++)Y===ke&&(Y=0),Ue===ke&&(Ue=0),q[z]=ie(xe[z],xe[Y],xe[Ue]);F.push(q),pe=pe.concat(q)}for(let ue=0;ue<_;ue++){const oe=ue/_,xe=m*Math.cos(oe*Math.PI/2),z=g*Math.sin(oe*Math.PI/2)+x;for(let ke=0,Y=j.length;ke<Y;ke++){const Ue=Z(j[ke],O[ke],z);Se(Ue.x,Ue.y,-xe)}for(let ke=0,Y=D.length;ke<Y;ke++){const Ue=D[ke];q=F[ke];for(let Fe=0,ut=Ue.length;Fe<ut;Fe++){const Te=Z(Ue[Fe],q[Fe],z);Se(Te.x,Te.y,-xe)}}}const we=g+x;for(let ue=0;ue<Q;ue++){const oe=f?Z(R[ue],pe[ue],we):R[ue];w?(B.copy(T.normals[0]).multiplyScalar(oe.x),E.copy(T.binormals[0]).multiplyScalar(oe.y),I.copy(A[0]).add(B).add(E),Se(I.x,I.y,I.z)):Se(oe.x,oe.y,0)}for(let ue=1;ue<=h;ue++)for(let oe=0;oe<Q;oe++){const xe=f?Z(R[oe],pe[oe],we):R[oe];w?(B.copy(T.normals[ue]).multiplyScalar(xe.x),E.copy(T.binormals[ue]).multiplyScalar(xe.y),I.copy(A[ue]).add(B).add(E),Se(I.x,I.y,I.z)):Se(xe.x,xe.y,p/h*ue)}for(let ue=_-1;ue>=0;ue--){const oe=ue/_,xe=m*Math.cos(oe*Math.PI/2),z=g*Math.sin(oe*Math.PI/2)+x;for(let ke=0,Y=j.length;ke<Y;ke++){const Ue=Z(j[ke],O[ke],z);Se(Ue.x,Ue.y,p+xe)}for(let ke=0,Y=D.length;ke<Y;ke++){const Ue=D[ke];q=F[ke];for(let Fe=0,ut=Ue.length;Fe<ut;Fe++){const Te=Z(Ue[Fe],q[Fe],z);w?Se(Te.x,Te.y+A[h-1].y,A[h-1].x+xe):Se(Te.x,Te.y,p+xe)}}}Le(),se();function Le(){const ue=n.length/3;if(f){let oe=0,xe=Q*oe;for(let z=0;z<X;z++){const ke=V[z];Ee(ke[2]+xe,ke[1]+xe,ke[0]+xe)}oe=h+_*2,xe=Q*oe;for(let z=0;z<X;z++){const ke=V[z];Ee(ke[0]+xe,ke[1]+xe,ke[2]+xe)}}else{for(let oe=0;oe<X;oe++){const xe=V[oe];Ee(xe[2],xe[1],xe[0])}for(let oe=0;oe<X;oe++){const xe=V[oe];Ee(xe[0]+Q*h,xe[1]+Q*h,xe[2]+Q*h)}}i.addGroup(ue,n.length/3-ue,0)}function se(){const ue=n.length/3;let oe=0;ye(j,oe),oe+=j.length;for(let xe=0,z=D.length;xe<z;xe++){const ke=D[xe];ye(ke,oe),oe+=ke.length}i.addGroup(ue,n.length/3-ue,1)}function ye(ue,oe){let xe=ue.length;for(;--xe>=0;){const z=xe;let ke=xe-1;ke<0&&(ke=ue.length-1);for(let Y=0,Ue=h+_*2;Y<Ue;Y++){const Fe=Q*Y,ut=Q*(Y+1),Te=oe+z+Fe,U=oe+ke+Fe,L=oe+ke+ut,ee=oe+z+ut;je(Te,U,L,ee)}}}function Se(ue,oe,xe){l.push(ue),l.push(oe),l.push(xe)}function Ee(ue,oe,xe){it(ue),it(oe),it(xe);const z=n.length/3,ke=b.generateTopUV(i,n,z-3,z-2,z-1);Ne(ke[0]),Ne(ke[1]),Ne(ke[2])}function je(ue,oe,xe,z){it(ue),it(oe),it(z),it(oe),it(xe),it(z);const ke=n.length/3,Y=b.generateSideWallUV(i,n,ke-6,ke-3,ke-2,ke-1);Ne(Y[0]),Ne(Y[1]),Ne(Y[3]),Ne(Y[1]),Ne(Y[2]),Ne(Y[3])}function it(ue){n.push(l[ue*3+0]),n.push(l[ue*3+1]),n.push(l[ue*3+2])}function Ne(ue){a.push(ue.x),a.push(ue.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return tV(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];i.push(o)}const n=e.options.extrudePath;return n!==void 0&&(e.options.extrudePath=new m1[n.type]().fromJSON(n)),new T_(i,e.options)}}const eV={generateTopUV:function(r,e,t,i,n){const a=e[t*3],s=e[t*3+1],o=e[i*3],l=e[i*3+1],c=e[n*3],h=e[n*3+1];return[new _e(a,s),new _e(o,l),new _e(c,h)]},generateSideWallUV:function(r,e,t,i,n,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[i*3],h=e[i*3+1],p=e[i*3+2],f=e[n*3],m=e[n*3+1],g=e[n*3+2],x=e[a*3],_=e[a*3+1],v=e[a*3+2];return Math.abs(o-h)<Math.abs(s-c)?[new _e(s,1-l),new _e(c,1-p),new _e(f,1-g),new _e(x,1-v)]:[new _e(o,1-l),new _e(h,1-p),new _e(m,1-g),new _e(_,1-v)]}};function tV(r,e,t){if(t.shapes=[],Array.isArray(r))for(let i=0,n=r.length;i<n;i++){const a=r[i];t.shapes.push(a.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class R_ extends tc{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(n,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new R_(e.radius,e.detail)}}class tg extends tc{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,n,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tg(e.radius,e.detail)}}class Zd extends It{constructor(e=1,t=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};const a=e/2,s=t/2,o=Math.floor(i),l=Math.floor(n),c=o+1,h=l+1,p=e/o,f=t/l,m=[],g=[],x=[],_=[];for(let v=0;v<h;v++){const b=v*f-s;for(let A=0;A<c;A++){const w=A*p-a;g.push(w,-b,0),x.push(0,0,1),_.push(A/o),_.push(1-v/l)}}for(let v=0;v<l;v++)for(let b=0;b<o;b++){const A=b+c*v,w=b+c*(v+1),T=b+1+c*(v+1),E=b+1+c*v;m.push(A,w,E),m.push(w,T,E)}this.setIndex(m),this.setAttribute("position",new ht(g,3)),this.setAttribute("normal",new ht(x,3)),this.setAttribute("uv",new ht(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.width,e.height,e.widthSegments,e.heightSegments)}}class P_ extends It{constructor(e=.5,t=1,i=32,n=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:a,thetaLength:s},i=Math.max(3,i),n=Math.max(1,n);const o=[],l=[],c=[],h=[];let p=e;const f=(t-e)/n,m=new N,g=new _e;for(let x=0;x<=n;x++){for(let _=0;_<=i;_++){const v=a+_/i*s;m.x=p*Math.cos(v),m.y=p*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y)}p+=f}for(let x=0;x<n;x++){const _=x*(i+1);for(let v=0;v<i;v++){const b=v+_,A=b,w=b+i+1,T=b+i+2,E=b+1;o.push(A,w,E),o.push(w,T,E)}}this.setIndex(o),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class B_ extends It{constructor(e=new hu([new _e(0,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],n=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(o,l,h),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new ht(n,3)),this.setAttribute("normal",new ht(a,3)),this.setAttribute("uv",new ht(s,2));function c(h){const p=n.length/3,f=h.extractPoints(t);let m=f.shape;const g=f.holes;Xs.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,v=g.length;_<v;_++){const b=g[_];Xs.isClockWise(b)===!0&&(g[_]=b.reverse())}const x=Xs.triangulateShape(m,g);for(let _=0,v=g.length;_<v;_++){const b=g[_];m=m.concat(b)}for(let _=0,v=m.length;_<v;_++){const b=m[_];n.push(b.x,b.y,0),a.push(0,0,1),s.push(b.x,b.y)}for(let _=0,v=x.length;_<v;_++){const b=x[_],A=b[0]+p,w=b[1]+p,T=b[2]+p;i.push(A,w,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return rV(t,e)}static fromJSON(e,t){const i=[];for(let n=0,a=e.shapes.length;n<a;n++){const s=t[e.shapes[n]];i.push(s)}return new B_(i,e.curveSegments)}}function rV(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,i=r.length;t<i;t++){const n=r[t];e.shapes.push(n.uuid)}else e.shapes.push(r.uuid);return e}class rg extends It{constructor(e=1,t=32,i=16,n=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(s+o,Math.PI);let c=0;const h=[],p=new N,f=new N,m=[],g=[],x=[],_=[];for(let v=0;v<=i;v++){const b=[],A=v/i;let w=0;v===0&&s===0?w=.5/t:v===i&&l===Math.PI&&(w=-.5/t);for(let T=0;T<=t;T++){const E=T/t;p.x=-e*Math.cos(n+E*a)*Math.sin(s+A*o),p.y=e*Math.cos(s+A*o),p.z=e*Math.sin(n+E*a)*Math.sin(s+A*o),g.push(p.x,p.y,p.z),f.copy(p).normalize(),x.push(f.x,f.y,f.z),_.push(E+w,1-A),b.push(c++)}h.push(b)}for(let v=0;v<i;v++)for(let b=0;b<t;b++){const A=h[v][b+1],w=h[v][b],T=h[v+1][b],E=h[v+1][b+1];(v!==0||s>0)&&m.push(A,w,E),(v!==i-1||l<Math.PI)&&m.push(w,T,E)}this.setIndex(m),this.setAttribute("position",new ht(g,3)),this.setAttribute("normal",new ht(x,3)),this.setAttribute("uv",new ht(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class I_ extends tc{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,n,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new I_(e.radius,e.detail)}}class D_ extends It{constructor(e=1,t=.4,i=12,n=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:a},i=Math.floor(i),n=Math.floor(n);const s=[],o=[],l=[],c=[],h=new N,p=new N,f=new N;for(let m=0;m<=i;m++)for(let g=0;g<=n;g++){const x=g/n*a,_=m/i*Math.PI*2;p.x=(e+t*Math.cos(_))*Math.cos(x),p.y=(e+t*Math.cos(_))*Math.sin(x),p.z=t*Math.sin(_),o.push(p.x,p.y,p.z),h.x=e*Math.cos(x),h.y=e*Math.sin(x),f.subVectors(p,h).normalize(),l.push(f.x,f.y,f.z),c.push(g/n),c.push(m/i)}for(let m=1;m<=i;m++)for(let g=1;g<=n;g++){const x=(n+1)*m+g-1,_=(n+1)*(m-1)+g-1,v=(n+1)*(m-1)+g,b=(n+1)*m+g;s.push(x,_,b),s.push(_,v,b)}this.setIndex(s),this.setAttribute("position",new ht(o,3)),this.setAttribute("normal",new ht(l,3)),this.setAttribute("uv",new ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new D_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class L_ extends It{constructor(e=1,t=.4,i=64,n=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:a,q:s},i=Math.floor(i),n=Math.floor(n);const o=[],l=[],c=[],h=[],p=new N,f=new N,m=new N,g=new N,x=new N,_=new N,v=new N;for(let A=0;A<=i;++A){const w=A/i*a*Math.PI*2;b(w,a,s,e,m),b(w+.01,a,s,e,g),_.subVectors(g,m),v.addVectors(g,m),x.crossVectors(_,v),v.crossVectors(x,_),x.normalize(),v.normalize();for(let T=0;T<=n;++T){const E=T/n*Math.PI*2,B=-t*Math.cos(E),I=t*Math.sin(E);p.x=m.x+(B*v.x+I*x.x),p.y=m.y+(B*v.y+I*x.y),p.z=m.z+(B*v.z+I*x.z),l.push(p.x,p.y,p.z),f.subVectors(p,m).normalize(),c.push(f.x,f.y,f.z),h.push(A/i),h.push(T/n)}}for(let A=1;A<=i;A++)for(let w=1;w<=n;w++){const T=(n+1)*(A-1)+(w-1),E=(n+1)*A+(w-1),B=(n+1)*A+w,I=(n+1)*(A-1)+w;o.push(T,E,I),o.push(E,B,I)}this.setIndex(o),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(h,2));function b(A,w,T,E,B){const I=Math.cos(A),C=Math.sin(A),R=T/w*A,D=Math.cos(R);B.x=E*(2+D)*.5*I,B.y=E*(2+D)*C*.5,B.z=E*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new L_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class F_ extends It{constructor(e=new zE(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),t=64,i=1,n=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:n,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new N,l=new N,c=new _e;let h=new N;const p=[],f=[],m=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new ht(p,3)),this.setAttribute("normal",new ht(f,3)),this.setAttribute("uv",new ht(m,2));function x(){for(let A=0;A<t;A++)_(A);_(a===!1?t:0),b(),v()}function _(A){h=e.getPointAt(A/t,h);const w=s.normals[A],T=s.binormals[A];for(let E=0;E<=n;E++){const B=E/n*Math.PI*2,I=Math.sin(B),C=-Math.cos(B);l.x=C*w.x+I*T.x,l.y=C*w.y+I*T.y,l.z=C*w.z+I*T.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=h.x+i*l.x,o.y=h.y+i*l.y,o.z=h.z+i*l.z,p.push(o.x,o.y,o.z)}}function v(){for(let A=1;A<=t;A++)for(let w=1;w<=n;w++){const T=(n+1)*(A-1)+(w-1),E=(n+1)*A+(w-1),B=(n+1)*A+w,I=(n+1)*(A-1)+w;g.push(T,E,I),g.push(E,B,I)}}function b(){for(let A=0;A<=t;A++)for(let w=0;w<=n;w++)c.x=A/t,c.y=w/n,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new F_(new m1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Hk extends It{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,n=new N,a=new N;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const p=l[c],f=p.start,m=p.count;for(let g=f,x=f+m;g<x;g+=3)for(let _=0;_<3;_++){const v=o.getX(g+_),b=o.getX(g+(_+1)%3);n.fromBufferAttribute(s,v),a.fromBufferAttribute(s,b),VP(n,a,i)===!0&&(t.push(n.x,n.y,n.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const h=3*o+c,p=3*o+(c+1)%3;n.fromBufferAttribute(s,h),a.fromBufferAttribute(s,p),VP(n,a,i)===!0&&(t.push(n.x,n.y,n.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function VP(r,e,t){const i=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,n=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(i)===!0||t.has(n)===!0?!1:(t.add(i),t.add(n),!0)}var jP=Object.freeze({__proto__:null,BoxGeometry:zu,CapsuleGeometry:S_,CircleGeometry:w_,ConeGeometry:M_,CylinderGeometry:Kd,DodecahedronGeometry:E_,EdgesGeometry:Nk,ExtrudeGeometry:T_,IcosahedronGeometry:R_,LatheGeometry:eg,OctahedronGeometry:tg,PlaneGeometry:Zd,PolyhedronGeometry:tc,RingGeometry:P_,ShapeGeometry:B_,SphereGeometry:rg,TetrahedronGeometry:I_,TorusGeometry:D_,TorusKnotGeometry:L_,TubeGeometry:F_,WireframeGeometry:Hk});class Vk extends pi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Qe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class jk extends bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ig extends pi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $a extends ig{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Tt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Qe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Qe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Qe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Wk extends pi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Qe(16777215),this.specular=new Qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=Wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xk extends pi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Jk extends pi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Yk extends pi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=Wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HE extends pi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=dk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class VE extends pi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class qk extends pi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Kk extends an{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qc(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function Zk(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Qk(r){function e(n,a){return r[n]-r[a]}const t=r.length,i=new Array(t);for(let n=0;n!==t;++n)i[n]=n;return i.sort(e),i}function lw(r,e,t){const i=r.length,n=new r.constructor(i);for(let a=0,s=0;s!==i;++a){const o=t[a]*e;for(let l=0;l!==e;++l)n[s++]=r[o+l]}return n}function jE(r,e,t,i){let n=1,a=r[0];for(;a!==void 0&&a[i]===void 0;)a=r[n++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=r[n++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=r[n++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),t.push(s)),a=r[n++];while(a!==void 0)}function iV(r,e,t,i,n=30){const a=r.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],h=c.getValueSize(),p=[],f=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*n;if(!(g<t||g>=i)){p.push(c.times[m]);for(let x=0;x<h;++x)f.push(c.values[m*h+x])}}p.length!==0&&(c.times=Qc(p,c.times.constructor),c.values=Qc(f,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function nV(r,e=0,t=r,i=30){i<=0&&(i=30);const n=t.tracks.length,a=e/i;for(let s=0;s<n;++s){const o=t.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=r.tracks.find(function(v){return v.name===o.name&&v.ValueTypeName===l});if(c===void 0)continue;let h=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const g=o.times.length-1;let x;if(a<=o.times[0]){const v=h,b=p-h;x=o.values.slice(v,b)}else if(a>=o.times[g]){const v=g*p+h,b=v+p-h;x=o.values.slice(v,b)}else{const v=o.createInterpolant(),b=h,A=p-h;v.evaluate(a),x=v.resultBuffer.slice(b,A)}l==="quaternion"&&new Ei().fromArray(x).normalize().conjugate().toArray(x);const _=c.times.length;for(let v=0;v<_;++v){const b=v*m+f;if(l==="quaternion")Ei.multiplyQuaternionsFlat(c.values,b,x,0,c.values,b);else{const A=m-f*2;for(let w=0;w<A;++w)c.values[b+w]-=x[w]}}}return r.blendMode=bE,r}const aV={convertArray:Qc,isTypedArray:Zk,getKeyframeOrder:Qk,sortedArray:lw,flattenJSON:jE,subclip:iV,makeClipAdditive:nV};class Qd{constructor(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,n=t[i],a=t[i-1];e:{t:{let s;r:{i:if(!(e<n)){for(let o=i+2;;){if(n===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=n,n=t[++i],e<n)break t}s=t.length;break r}if(!(e>=a)){const o=t[1];e<o&&(i=2,a=o);for(let l=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(n=a,a=t[--i-1],e>=a)break t}s=i,i=0;break r}break e}for(;i<s;){const o=i+s>>>1;e<t[o]?s=o:i=o+1}if(n=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,n)}return this.interpolate_(i,a,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,a=e*n;for(let s=0;s!==n;++s)t[s]=i[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $k extends Qd{constructor(e,t,i,n){super(e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:qc,endingEnd:qc}}intervalChanged_(e,t,i){const n=this.parameterPositions;let a=e-2,s=e+1,o=n[a],l=n[s];if(o===void 0)switch(this.getSettings_().endingStart){case Kc:a=e,o=2*t-i;break;case fm:a=n.length-2,o=t+n[a]-n[a+1];break;default:a=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Kc:s=e,l=2*i-t;break;case fm:s=1,l=i+n[1]-n[0];break;default:s=e-1,l=t}const c=(i-t)*.5,h=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-i),this._offsetPrev=a*h,this._offsetNext=s*h}interpolate_(e,t,i,n){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,h=this._offsetPrev,p=this._offsetNext,f=this._weightPrev,m=this._weightNext,g=(i-t)/(n-t),x=g*g,_=x*g,v=-f*_+2*f*x-f*g,b=(1+f)*_+(-1.5-2*f)*x+(-.5+f)*g+1,A=(-1-m)*_+(1.5+m)*x+.5*g,w=m*_-m*x;for(let T=0;T!==o;++T)a[T]=v*s[h+T]+b*s[c+T]+A*s[l+T]+w*s[p+T];return a}}class WE extends Qd{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,h=(i-t)/(n-t),p=1-h;for(let f=0;f!==o;++f)a[f]=s[c+f]*p+s[l+f]*h;return a}}class eO extends Qd{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e){return this.copySampleValue_(e-1)}}class ws{constructor(e,t,i,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qc(t,this.TimeBufferType),this.values=Qc(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Qc(e.times,Array),values:Qc(e.values,Array)};const n=e.getInterpolation();n!==e.DefaultInterpolation&&(i.interpolation=n)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new eO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $k(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Td:t=this.InterpolantFactoryMethodDiscrete;break;case Rd:t=this.InterpolantFactoryMethodLinear;break;case Wv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Td;case this.InterpolantFactoryMethodLinear:return Rd;case this.InterpolantFactoryMethodSmooth:return Wv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]*=e}return this}trim(e,t){const i=this.times,n=i.length;let a=0,s=n-1;for(;a!==n&&i[a]<e;)++a;for(;s!==-1&&i[s]>t;)--s;if(++s,a!==0||s!==n){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,n=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(n!==void 0&&Zk(n))for(let o=0,l=n.length;o!==l;++o){const c=n[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),n=this.getInterpolation()===Wv,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],h=e[o+1];if(c!==h&&(o!==1||c!==e[0]))if(n)l=!0;else{const p=o*i,f=p-i,m=p+i;for(let g=0;g!==i;++g){const x=t[p+g];if(x!==t[f+g]||x!==t[m+g]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const p=o*i,f=s*i;for(let m=0;m!==i;++m)t[f+m]=t[p+m]}++s}}if(a>0){e[s]=e[a];for(let o=a*i,l=s*i,c=0;c!==i;++c)t[l+c]=t[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,n=new i(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}ws.prototype.TimeBufferType=Float32Array;ws.prototype.ValueBufferType=Float32Array;ws.prototype.DefaultInterpolation=Rd;class Gu extends ws{constructor(e,t,i){super(e,t,i)}}Gu.prototype.ValueTypeName="bool";Gu.prototype.ValueBufferType=Array;Gu.prototype.DefaultInterpolation=Td;Gu.prototype.InterpolantFactoryMethodLinear=void 0;Gu.prototype.InterpolantFactoryMethodSmooth=void 0;class XE extends ws{}XE.prototype.ValueTypeName="color";class Pu extends ws{}Pu.prototype.ValueTypeName="number";class tO extends Qd{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(i-t)/(n-t);let c=e*o;for(let h=c+o;c!==h;c+=4)Ei.slerpFlat(a,0,s,c-o,s,c,l);return a}}class Bu extends ws{InterpolantFactoryMethodLinear(e){return new tO(this.times,this.values,this.getValueSize(),e)}}Bu.prototype.ValueTypeName="quaternion";Bu.prototype.InterpolantFactoryMethodSmooth=void 0;class Hu extends ws{constructor(e,t,i){super(e,t,i)}}Hu.prototype.ValueTypeName="string";Hu.prototype.ValueBufferType=Array;Hu.prototype.DefaultInterpolation=Td;Hu.prototype.InterpolantFactoryMethodLinear=void 0;Hu.prototype.InterpolantFactoryMethodSmooth=void 0;class Iu extends ws{}Iu.prototype.ValueTypeName="vector";class Id{constructor(e="",t=-1,i=[],n=m_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=n,this.uuid=fa(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,n=1/(e.fps||1);for(let s=0,o=i.length;s!==o;++s)t.push(oV(i[s]).scale(n));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=i.length;a!==s;++a)t.push(ws.toJSON(i[a]));return n}static CreateFromMorphTargetSequence(e,t,i,n){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const h=Qk(l);l=lw(l,1,h),c=lw(c,1,h),!n&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new Pu(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const n=e;i=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<i.length;n++)if(i[n].name===t)return i[n];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const n={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],h=c.name.match(a);if(h&&h.length>1){const p=h[1];let f=n[p];f||(n[p]=f=[]),f.push(c)}}const s=[];for(const o in n)s.push(this.CreateFromMorphTargetSequence(o,n[o],t,i));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,f,m,g){if(f.length!==0){const x=[],_=[];jE(f,x,_,m),x.length!==0&&g.push(new h(p,x,_))}},n=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const f={};let m;for(m=0;m<p.length;m++)if(p[m].morphTargets)for(let g=0;g<p[m].morphTargets.length;g++)f[p[m].morphTargets[g]]=-1;for(const g in f){const x=[],_=[];for(let v=0;v!==p[m].morphTargets.length;++v){const b=p[m];x.push(b.time),_.push(b.morphTarget===g?1:0)}n.push(new Pu(".morphTargetInfluence["+g+"]",x,_))}l=f.length*s}else{const f=".bones["+t[h].name+"]";i(Iu,f+".position",p,"pos",n),i(Bu,f+".quaternion",p,"rot",n),i(Iu,f+".scale",p,"scl",n)}}return n.length===0?null:new this(a,l,n,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,n=e.length;i!==n;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sV(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pu;case"vector":case"vector2":case"vector3":case"vector4":return Iu;case"color":return XE;case"quaternion":return Bu;case"bool":case"boolean":return Gu;case"string":return Hu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function oV(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=sV(r.type);if(r.times===void 0){const t=[],i=[];jE(r.keys,t,i,"value"),r.times=t,r.values=i}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const Co={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class JE{constructor(e,t,i){const n=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){o++,a===!1&&n.onStart!==void 0&&n.onStart(h,s,o),a=!0},this.itemEnd=function(h){s++,n.onProgress!==void 0&&n.onProgress(h,s,o),s===o&&(a=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(h){n.onError!==void 0&&n.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return p!==-1&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,f=c.length;p<f;p+=2){const m=c[p],g=c[p+1];if(m.global&&(m.lastIndex=0),m.test(h))return g}return null}}}const Yh=new JE;class sn{constructor(e){this.manager=e!==void 0?e:Yh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(n,a){i.load(e,n,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}sn.DEFAULT_MATERIAL_NAME="__DEFAULT";const fo={};class lV extends Error{constructor(e,t){super(e),this.response=t}}class ya extends sn{constructor(e){super(e)}load(e,t,i,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Co.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(fo[e]!==void 0){fo[e].push({onLoad:t,onProgress:i,onError:n});return}fo[e]=[],fo[e].push({onLoad:t,onProgress:i,onError:n});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=fo[e],p=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=f?parseInt(f):0,g=m!==0;let x=0;const _=new ReadableStream({start(v){b();function b(){p.read().then(({done:A,value:w})=>{if(A)v.close();else{x+=w.byteLength;const T=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:m});for(let E=0,B=h.length;E<B;E++){const I=h[E];I.onProgress&&I.onProgress(T)}v.enqueue(w),b()}},A=>{v.error(A)})}}});return new Response(_)}else throw new lV(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return c.json();default:if(o===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(o),p=h&&h[1]?h[1].toLowerCase():void 0,f=new TextDecoder(p);return c.arrayBuffer().then(m=>f.decode(m))}}}).then(c=>{Co.add(e,c);const h=fo[e];delete fo[e];for(let p=0,f=h.length;p<f;p++){const m=h[p];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=fo[e];if(h===void 0)throw this.manager.itemError(e),c;delete fo[e];for(let p=0,f=h.length;p<f;p++){const m=h[p];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class cV extends sn{constructor(e){super(e)}load(e,t,i,n){const a=this,s=new ya(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){n?n(l):console.error(l),a.manager.itemError(e)}},i,n)}parse(e){const t=[];for(let i=0;i<e.length;i++){const n=Id.parse(e[i]);t.push(n)}return t}}class uV extends sn{constructor(e){super(e)}load(e,t,i,n){const a=this,s=[],o=new b_,l=new ya(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function h(p){l.load(e[p],function(f){const m=a.parse(f,!0);s[p]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(o.minFilter=qr),o.image=s,o.format=m.format,o.needsUpdate=!0,t&&t(o))},i,n)}if(Array.isArray(e))for(let p=0,f=e.length;p<f;++p)h(p);else l.load(e,function(p){const f=a.parse(p,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let g=0;g<m;g++){s[g]={mipmaps:[]};for(let x=0;x<f.mipmapCount;x++)s[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+x]),s[g].format=f.format,s[g].width=f.width,s[g].height=f.height}o.image=s}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=qr),o.format=f.format,o.needsUpdate=!0,t&&t(o)},i,n);return o}}class Sm extends sn{constructor(e){super(e)}load(e,t,i,n){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Co.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o=ym("img");function l(){h(),Co.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(p){h(),n&&n(p),a.manager.itemError(e),a.manager.itemEnd(e)}function h(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class hV extends sn{constructor(e){super(e)}load(e,t,i,n){const a=new qm;a.colorSpace=kn;const s=new Sm(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(h){a.images[c]=h,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,n)}for(let c=0;c<e.length;++c)l(c);return a}}class dV extends sn{constructor(e){super(e)}load(e,t,i,n){const a=this,s=new Ws,o=new ya(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let c;try{c=a.parse(l)}catch(h){if(n!==void 0)n(h);else{console.error(h);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:ua,s.wrapT=c.wrapT!==void 0?c.wrapT:ua,s.magFilter=c.magFilter!==void 0?c.magFilter:qr,s.minFilter=c.minFilter!==void 0?c.minFilter:qr,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Xa),c.mipmapCount===1&&(s.minFilter=qr),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c)},i,n),s}}class rO extends sn{constructor(e){super(e)}load(e,t,i,n){const a=new Tr,s=new Sm(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},i,n),a}}class rc extends Yt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Qe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class iO extends rc{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Yt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Qe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const aA=new vt,WP=new N,XP=new N;class YE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _e(512,512),this.map=null,this.mapPass=null,this.matrix=new vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qm,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new $t(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;WP.setFromMatrixPosition(e.matrixWorld),t.position.copy(WP),XP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(XP),t.updateMatrixWorld(),aA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aA),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(aA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pV extends YE{constructor(){super(new Er(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Pd*2*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(i!==t.fov||n!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=n,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class qE extends rc{constructor(e,t,i=0,n=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Yt.DEFAULT_UP),this.updateMatrix(),this.target=new Yt,this.distance=i,this.angle=n,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new pV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const JP=new vt,Np=new N,sA=new N;class fV extends YE{constructor(){super(new Er(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new $t(2,1,1,1),new $t(0,1,1,1),new $t(3,1,1,1),new $t(1,1,1,1),new $t(3,0,1,1),new $t(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,n=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Np.setFromMatrixPosition(e.matrixWorld),i.position.copy(Np),sA.copy(i.position),sA.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(sA),i.updateMatrixWorld(),n.makeTranslation(-Np.x,-Np.y,-Np.z),JP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JP)}}class KE extends rc{constructor(e,t,i=0,n=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=n,this.shadow=new fV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class vs extends Ym{constructor(e=-1,t=1,i=1,n=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,n,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=n+t,l=n-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=h*this.view.offsetY,l=o-h*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class mV extends YE{constructor(){super(new vs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ZE extends rc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Yt.DEFAULT_UP),this.updateMatrix(),this.target=new Yt,this.shadow=new mV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class nO extends rc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class aO extends rc{constructor(e,t,i=10,n=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class sO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,n=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*n),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*n)),t.addScaledVector(s[5],1.092548*(n*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(i*a)),t.addScaledVector(s[8],.546274*(i*i-n*n)),t}getIrradianceAt(e,t){const i=e.x,n=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*n),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*n),t.addScaledVector(s[5],2*.429043*n*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*i*a),t.addScaledVector(s[8],.429043*(i*i-n*n)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].fromArray(e,t+n*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].toArray(e,t+n*3);return e}static getBasisAt(e,t){const i=e.x,n=e.y,a=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*n,t[5]=1.092548*n*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-n*n)}}class oO extends rc{constructor(e=new sO,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class k_ extends sn{constructor(e){super(e),this.textures={}}load(e,t,i,n){const a=this,s=new ya(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){n?n(l):console.error(l),a.manager.itemError(e)}},i,n)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const n=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(n.uuid=e.uuid),e.name!==void 0&&(n.name=e.name),e.color!==void 0&&n.color!==void 0&&n.color.setHex(e.color),e.roughness!==void 0&&(n.roughness=e.roughness),e.metalness!==void 0&&(n.metalness=e.metalness),e.sheen!==void 0&&(n.sheen=e.sheen),e.sheenColor!==void 0&&(n.sheenColor=new Qe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(n.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&n.emissive!==void 0&&n.emissive.setHex(e.emissive),e.specular!==void 0&&n.specular!==void 0&&n.specular.setHex(e.specular),e.specularIntensity!==void 0&&(n.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&n.specularColor!==void 0&&n.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(n.shininess=e.shininess),e.clearcoat!==void 0&&(n.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(n.dispersion=e.dispersion),e.iridescence!==void 0&&(n.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(n.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(n.transmission=e.transmission),e.thickness!==void 0&&(n.thickness=e.thickness),e.attenuationDistance!==void 0&&(n.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&n.attenuationColor!==void 0&&n.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(n.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(n.fog=e.fog),e.flatShading!==void 0&&(n.flatShading=e.flatShading),e.blending!==void 0&&(n.blending=e.blending),e.combine!==void 0&&(n.combine=e.combine),e.side!==void 0&&(n.side=e.side),e.shadowSide!==void 0&&(n.shadowSide=e.shadowSide),e.opacity!==void 0&&(n.opacity=e.opacity),e.transparent!==void 0&&(n.transparent=e.transparent),e.alphaTest!==void 0&&(n.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(n.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(n.depthFunc=e.depthFunc),e.depthTest!==void 0&&(n.depthTest=e.depthTest),e.depthWrite!==void 0&&(n.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(n.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(n.blendSrc=e.blendSrc),e.blendDst!==void 0&&(n.blendDst=e.blendDst),e.blendEquation!==void 0&&(n.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(n.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(n.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(n.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&n.blendColor!==void 0&&n.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(n.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(n.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(n.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(n.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(n.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(n.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(n.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(n.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(n.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(n.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(n.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(n.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(n.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(n.rotation=e.rotation),e.linewidth!==void 0&&(n.linewidth=e.linewidth),e.dashSize!==void 0&&(n.dashSize=e.dashSize),e.gapSize!==void 0&&(n.gapSize=e.gapSize),e.scale!==void 0&&(n.scale=e.scale),e.polygonOffset!==void 0&&(n.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(n.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(n.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(n.dithering=e.dithering),e.alphaToCoverage!==void 0&&(n.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(n.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(n.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(n.visible=e.visible),e.toneMapped!==void 0&&(n.toneMapped=e.toneMapped),e.userData!==void 0&&(n.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(n.uniforms[a]={},s.type){case"t":n.uniforms[a].value=i(s.value);break;case"c":n.uniforms[a].value=new Qe().setHex(s.value);break;case"v2":n.uniforms[a].value=new _e().fromArray(s.value);break;case"v3":n.uniforms[a].value=new N().fromArray(s.value);break;case"v4":n.uniforms[a].value=new $t().fromArray(s.value);break;case"m3":n.uniforms[a].value=new Bt().fromArray(s.value);break;case"m4":n.uniforms[a].value=new vt().fromArray(s.value);break;default:n.uniforms[a].value=s.value}}if(e.defines!==void 0&&(n.defines=e.defines),e.vertexShader!==void 0&&(n.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(n.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(n.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)n.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(n.lights=e.lights),e.clipping!==void 0&&(n.clipping=e.clipping),e.size!==void 0&&(n.size=e.size),e.sizeAttenuation!==void 0&&(n.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(n.map=i(e.map)),e.matcap!==void 0&&(n.matcap=i(e.matcap)),e.alphaMap!==void 0&&(n.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(n.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(n.bumpScale=e.bumpScale),e.normalMap!==void 0&&(n.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(n.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),n.normalScale=new _e().fromArray(a)}return e.displacementMap!==void 0&&(n.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(n.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(n.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(n.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(n.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(n.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(n.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(n.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(n.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(n.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(n.envMap=i(e.envMap)),e.envMapRotation!==void 0&&n.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(n.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(n.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(n.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(n.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(n.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(n.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(n.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(n.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(n.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(n.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(n.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(n.clearcoatNormalScale=new _e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(n.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(n.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(n.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(n.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(n.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(n.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(n.sheenRoughnessMap=i(e.sheenRoughnessMap)),n}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return k_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Vk,SpriteMaterial:PE,RawShaderMaterial:jk,ShaderMaterial:bs,PointsMaterial:$m,MeshPhysicalMaterial:$a,MeshStandardMaterial:ig,MeshPhongMaterial:Wk,MeshToonMaterial:Xk,MeshNormalMaterial:Jk,MeshLambertMaterial:Yk,MeshDepthMaterial:HE,MeshDistanceMaterial:VE,MeshBasicMaterial:ha,MeshMatcapMaterial:qk,LineDashedMaterial:Kk,LineBasicMaterial:an,Material:pi};return new t[e]}}class kl{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class lO extends It{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class cO extends sn{constructor(e){super(e)}load(e,t,i,n){const a=this,s=new ya(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){n?n(l):console.error(l),a.manager.itemError(e)}},i,n)}parse(e){const t={},i={};function n(f,m){if(t[m]!==void 0)return t[m];const g=f.interleavedBuffers[m],x=a(f,g.buffer),_=Xh(g.type,x),v=new Km(_,g.stride);return v.uuid=g.uuid,t[m]=v,v}function a(f,m){if(i[m]!==void 0)return i[m];const g=f.arrayBuffers[m],x=new Uint32Array(g).buffer;return i[m]=x,x}const s=e.isInstancedBufferGeometry?new lO:new It,o=e.data.index;if(o!==void 0){const f=Xh(o.type,o.array);s.setIndex(new tr(f,1))}const l=e.data.attributes;for(const f in l){const m=l[f];let g;if(m.isInterleavedBufferAttribute){const x=n(e.data,m.data);g=new Wl(x,m.itemSize,m.offset,m.normalized)}else{const x=Xh(m.type,m.array),_=m.isInstancedBufferAttribute?Tu:tr;g=new _(x,m.itemSize,m.normalized)}m.name!==void 0&&(g.name=m.name),m.usage!==void 0&&g.setUsage(m.usage),s.setAttribute(f,g)}const c=e.data.morphAttributes;if(c)for(const f in c){const m=c[f],g=[];for(let x=0,_=m.length;x<_;x++){const v=m[x];let b;if(v.isInterleavedBufferAttribute){const A=n(e.data,v.data);b=new Wl(A,v.itemSize,v.offset,v.normalized)}else{const A=Xh(v.type,v.array);b=new tr(A,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),g.push(b)}s.morphAttributes[f]=g}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let f=0,m=h.length;f!==m;++f){const g=h[f];s.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const f=new N;p.center!==void 0&&f.fromArray(p.center),s.boundingSphere=new Li(f,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class gV extends sn{constructor(e){super(e)}load(e,t,i,n){const a=this,s=this.path===""?kl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new ya(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(p){n!==void 0&&n(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){n!==void 0&&n(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},i,n)}async loadAsync(e,t){const i=this,n=this.path===""?kl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const a=new ya(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,n),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,i),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),this.bindLightTargets(c),t!==void 0){let p=!1;for(const f in s)if(s[f].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),n=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,n,o,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,n=e.length;i<n;i++){const a=new hu().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},n={};if(t.traverse(function(a){a.isBone&&(n[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new Zm().fromJSON(e[a],n);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const n=new cO;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=n.parse(l);break;default:l.type in jP?o=jP[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},n={};if(e!==void 0){const a=new k_;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];i[l.uuid]===void 0&&(i[l.uuid]=a.parse(l)),n[l.uuid]=i[l.uuid]}}return n}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const n=e[i],a=Id.parse(n);t[a.uuid]=a}return t}parseImages(e,t){const i=this,n={};let a;function s(l){return i.manager.itemStart(l),a.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return s(h)}else return l.data?{data:Xh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new JE(t);a=new Sm(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const p=e[c],f=p.url;if(Array.isArray(f)){const m=[];for(let g=0,x=f.length;g<x;g++){const _=f[g],v=o(_);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Ws(v.data,v.width,v.height)))}n[p.uuid]=new Zc(m)}else{const m=o(p.url);n[p.uuid]=new Zc(m)}}}return n}async parseImagesAsync(e){const t=this,i={};let n;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await n.loadAsync(l)}else return s.data?{data:Xh(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){n=new Sm(this.manager),n.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const h=[];for(let p=0,f=c.length;p<f;p++){const m=c[p],g=await a(m);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new Ws(g.data,g.width,g.height)))}i[l.uuid]=new Zc(h)}else{const h=await a(l.url);i[l.uuid]=new Zc(h)}}}return i}parseTextures(e,t){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const n={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let h;Array.isArray(c)?(h=new qm,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new Ws:h=new Tr,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=i(o.mapping,vV)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=i(o.wrap[0],YP),h.wrapT=i(o.wrap[1],YP)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.minFilter!==void 0&&(h.minFilter=i(o.minFilter,qP)),o.magFilter!==void 0&&(h.magFilter=i(o.magFilter,qP)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),n[o.uuid]=h}return n}parseObject(e,t,i,n,a){let s;function o(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let g=0,x=f.length;g<x;g++){const _=f[g];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),n[f]}let h,p;switch(e.type){case"Scene":s=new RE,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Qe(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new __(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new y_(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Er(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new vs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new nO(e.color,e.intensity);break;case"DirectionalLight":s=new ZE(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new KE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new aO(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new qE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new iO(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new oO().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),p=l(e.material),s=new BE(h,p),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),p=l(e.material),s=new Kr(h,p);break;case"InstancedMesh":h=o(e.geometry),p=l(e.material);const f=e.count,m=e.instanceMatrix,g=e.instanceColor;s=new IE(h,p,f),s.instanceMatrix=new Tu(new Float32Array(m.array),16),g!==void 0&&(s.instanceColor=new Tu(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":h=o(e.geometry),p=l(e.material),s=new Ik(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),s.geometry=h,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(x=>{const _=new tn;_.min.fromArray(x.boxMin),_.max.fromArray(x.boxMax);const v=new Li;return v.radius=x.sphereRadius,v.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:_,sphereInitialized:x.sphereInitialized,sphere:v}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":s=new Bk;break;case"Line":s=new Vo(o(e.geometry),l(e.material));break;case"LineLoop":s=new DE(o(e.geometry),l(e.material));break;case"LineSegments":s=new As(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new LE(o(e.geometry),l(e.material));break;case"Sprite":s=new Pk(l(e.material));break;case"Group":s=new Eo;break;case"Bone":s=new x_;break;default:s=new Yt}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)s.add(this.parseObject(f[m],t,i,n,a))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const g=f[m];s.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const g=f[m],x=s.getObjectByProperty("uuid",g.object);x!==void 0&&s.addLevel(x,g.distance,g.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const n=t[i.skeleton];n===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(n,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,n=e.getObjectByProperty("uuid",i);n!==void 0?t.target=n:t.target=new Yt}})}}const vV={UVMapping:o_,CubeReflectionMapping:Go,CubeRefractionMapping:Vl,EquirectangularReflectionMapping:dm,EquirectangularRefractionMapping:pm,CubeUVReflectionMapping:Yd},YP={RepeatWrapping:jl,ClampToEdgeWrapping:ua,MirroredRepeatWrapping:Ed},qP={NearestFilter:Mi,NearestMipmapNearestFilter:l_,NearestMipmapLinearFilter:Yc,LinearFilter:qr,LinearMipmapNearestFilter:cd,LinearMipmapLinearFilter:Xa};class uO extends sn{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Co.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{t&&t(c),a.manager.itemEnd(e)}).catch(c=>{n&&n(c)});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return Co.add(e,c),t&&t(c),a.manager.itemEnd(e),c}).catch(function(c){n&&n(c),Co.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Co.add(e,l),a.manager.itemStart(e)}}let tv;class QE{static getContext(){return tv===void 0&&(tv=new(window.AudioContext||window.webkitAudioContext)),tv}static setContext(e){tv=e}}class yV extends sn{constructor(e){super(e)}load(e,t,i,n){const a=this,s=new ya(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);QE.getContext().decodeAudioData(c,function(h){t(h)}).catch(o)}catch(c){o(c)}},i,n);function o(l){n?n(l):console.error(l),a.manager.itemError(e)}}}const KP=new vt,ZP=new vt,xc=new vt;class _V{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Er,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Er,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,xc.copy(e.projectionMatrix);const i=t.eyeSep/2,n=i*t.near/t.focus,a=t.near*Math.tan(cu*t.fov*.5)/t.zoom;let s,o;ZP.elements[12]=-i,KP.elements[12]=i,s=-a*t.aspect+n,o=a*t.aspect+n,xc.elements[0]=2*t.near/(o-s),xc.elements[8]=(o+s)/(o-s),this.cameraL.projectionMatrix.copy(xc),s=-a*t.aspect-n,o=a*t.aspect-n,xc.elements[0]=2*t.near/(o-s),xc.elements[8]=(o+s)/(o-s),this.cameraR.projectionMatrix.copy(xc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ZP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(KP)}}class hO extends Er{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class $E{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=QP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=QP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function QP(){return performance.now()}const bc=new N,$P=new Ei,xV=new N,Ac=new N;class bV extends Yt{constructor(){super(),this.type="AudioListener",this.context=QE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $E}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bc,$P,xV),Ac.set(0,0,-1).applyQuaternion($P),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(bc.x,n),t.positionY.linearRampToValueAtTime(bc.y,n),t.positionZ.linearRampToValueAtTime(bc.z,n),t.forwardX.linearRampToValueAtTime(Ac.x,n),t.forwardY.linearRampToValueAtTime(Ac.y,n),t.forwardZ.linearRampToValueAtTime(Ac.z,n),t.upX.linearRampToValueAtTime(i.x,n),t.upY.linearRampToValueAtTime(i.y,n),t.upZ.linearRampToValueAtTime(i.z,n)}else t.setPosition(bc.x,bc.y,bc.z),t.setOrientation(Ac.x,Ac.y,Ac.z,i.x,i.y,i.z)}}class dO extends Yt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Sc=new N,eB=new Ei,AV=new N,wc=new N;class SV extends dO{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Sc,eB,AV),wc.set(0,0,1).applyQuaternion(eB);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Sc.x,i),t.positionY.linearRampToValueAtTime(Sc.y,i),t.positionZ.linearRampToValueAtTime(Sc.z,i),t.orientationX.linearRampToValueAtTime(wc.x,i),t.orientationY.linearRampToValueAtTime(wc.y,i),t.orientationZ.linearRampToValueAtTime(wc.z,i)}else t.setPosition(Sc.x,Sc.y,Sc.z),t.setOrientation(wc.x,wc.y,wc.z)}}class wV{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class pO{constructor(e,t,i){this.binding=e,this.valueSize=i;let n,a,s;switch(t){case"quaternion":n=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":n=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:n=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,n=this.valueSize,a=e*n+n;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==n;++o)i[a+o]=i[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(i,a,0,o,n)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,n=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,n=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(i,n,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){o.setValue(i,n);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,n=i*this._origIndex;e.getValue(t,n);for(let a=i,s=n;a!==s;++a)t[a]=t[n+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,n,a){if(n>=.5)for(let s=0;s!==a;++s)e[t+s]=e[i+s]}_slerp(e,t,i,n){Ei.slerpFlat(e,t,e,t,e,i,n)}_slerpAdditive(e,t,i,n,a){const s=this._workIndex*a;Ei.multiplyQuaternionsFlat(e,s,e,t,e,i),Ei.slerpFlat(e,t,e,t,e,s,n)}_lerp(e,t,i,n,a){const s=1-n;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[i+o]*n}}_lerpAdditive(e,t,i,n,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[i+s]*n}}}const eC="\\[\\]\\.:\\/",MV=new RegExp("["+eC+"]","g"),tC="[^"+eC+"]",EV="[^"+eC.replace("\\.","")+"]",CV=/((?:WC+[\/:])*)/.source.replace("WC",tC),TV=/(WCOD+)?/.source.replace("WCOD",EV),RV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tC),PV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tC),BV=new RegExp("^"+CV+TV+RV+PV+"$"),IV=["material","materials","bones","map"];class DV{constructor(e,t,i){const n=i||Kt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,n=this._bindings[i];n!==void 0&&n.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,a=i.length;n!==a;++n)i[n].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Kt{constructor(e,t,i){this.path=t,this.parsedPath=i||Kt.parseTrackName(t),this.node=Kt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Kt.Composite(e,t,i):new Kt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(MV,"")}static parseTrackName(e){const t=BV.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const a=i.nodeName.substring(n+1);IV.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},n=i(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let n=0,a=i.length;n!==a;++n)e[t++]=i[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let n=0,a=i.length;n!==a;++n)i[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let n=0,a=i.length;n!==a;++n)i[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let n=0,a=i.length;n!==a;++n)i[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,n=t.propertyName;let a=t.propertyIndex;if(e||(e=Kt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[n];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+n+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Kt.Composite=DV;Kt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Kt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Kt.prototype.GetterByBindingType=[Kt.prototype._getValue_direct,Kt.prototype._getValue_array,Kt.prototype._getValue_arrayElement,Kt.prototype._getValue_toArray];Kt.prototype.SetterByBindingTypeAndVersioning=[[Kt.prototype._setValue_direct,Kt.prototype._setValue_direct_setNeedsUpdate,Kt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Kt.prototype._setValue_array,Kt.prototype._setValue_array_setNeedsUpdate,Kt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Kt.prototype._setValue_arrayElement,Kt.prototype._setValue_arrayElement_setNeedsUpdate,Kt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Kt.prototype._setValue_fromArray,Kt.prototype._setValue_fromArray_setNeedsUpdate,Kt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class LV{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,n=arguments.length;i!==n;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,n=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,c=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const f=arguments[h],m=f.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(f);for(let x=0,_=s;x!==_;++x)a[x].push(new Kt(f,i[x],n[x]))}else if(g<c){o=e[g];const x=--c,_=e[x];t[_.uuid]=g,e[g]=_,t[m]=x,e[x]=f;for(let v=0,b=s;v!==b;++v){const A=a[v],w=A[x];let T=A[g];A[g]=w,T===void 0&&(T=new Kt(f,i[v],n[v])),A[x]=T}}else e[g]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,n=i.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,h=t[c];if(h!==void 0&&h>=a){const p=a++,f=e[p];t[f.uuid]=h,e[h]=f,t[c]=p,e[p]=l;for(let m=0,g=n;m!==g;++m){const x=i[m],_=x[p],v=x[h];x[h]=_,x[p]=v}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,n=i.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],h=c.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<a){const f=--a,m=e[f],g=--s,x=e[g];t[m.uuid]=p,e[p]=m,t[x.uuid]=f,e[f]=x,e.pop();for(let _=0,v=n;_!==v;++_){const b=i[_],A=b[f],w=b[g];b[p]=A,b[f]=w,b.pop()}}else{const f=--s,m=e[f];f>0&&(t[m.uuid]=p),e[p]=m,e.pop();for(let g=0,x=n;g!==x;++g){const _=i[g];_[p]=_[f],_.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let n=i[e];const a=this._bindings;if(n!==void 0)return a[n];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,p=new Array(c);n=a.length,i[e]=n,s.push(e),o.push(t),a.push(p);for(let f=h,m=l.length;f!==m;++f){const g=l[f];p[f]=new Kt(g,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const n=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];t[c]=i,s[i]=l,s.pop(),a[i]=a[o],a.pop(),n[i]=n[o],n.pop()}}}class fO{constructor(e,t,i=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=n;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:qc,endingEnd:qc};for(let c=0;c!==s;++c){const h=a[c].createInterpolant(null);o[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ck,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const n=this._clip.duration,a=e._clip.duration,s=a/n,o=n/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const n=this._mixer,a=n.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+i,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,n){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case bE:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(s),c[h].accumulateAdditive(o);break;case m_:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(s),c[h].accumulate(n,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let n=this.time+e,a=this._loopCount;const s=i===uk;if(e===0)return a===-1?n:s&&(a&1)===1?t-n:n;if(i===lk){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),n>=t||n<0){const o=Math.floor(n/t);n-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=n;if(s&&(a&1)===1)return t-n}return n}_setEndings(e,t,i){const n=this._interpolantSettings;i?(n.endingStart=Kc,n.endingEnd=Kc):(e?n.endingStart=this.zeroSlopeAtStart?Kc:qc:n.endingStart=fm,t?n.endingEnd=this.zeroSlopeAtEnd?Kc:qc:n.endingEnd=fm)}_scheduleFading(e,t,i){const n=this._mixer,a=n.time;let s=this._weightInterpolant;s===null&&(s=n._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=i,this}}const FV=new Float32Array(1);class kV extends $s{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,n=e._clip.tracks,a=n.length,s=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let p=0;p!==a;++p){const f=n[p],m=f.name;let g=h[m];if(g!==void 0)++g.referenceCount,s[p]=g;else{if(g=s[p],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const x=t&&t._propertyBindings[p].binding.parsedPath;g=new pO(Kt.create(i,m,x),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),s[p]=g}o[p].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,n=e._clip.uuid,a=this._actionsByClip[n];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,n,i)}const t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const n=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=n.length,n.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],n=e._cacheIndex;i._cacheIndex=n,t[n]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete p[f],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,n=this._nActiveActions++,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,n=--this._nActiveActions,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const n=this._bindingsByRootAndName,a=this._bindings;let s=n[t];s===void 0&&(s={},n[t]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,n=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,o=s[n],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[n]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,n=this._nActiveBindings++,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,n=--this._nActiveBindings,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new WE(new Float32Array(2),new Float32Array(2),1,FV),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,n=--this._nActiveControlInterpolants,a=t[n];e.__cacheIndex=n,t[n]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const n=t||this._root,a=n.uuid;let s=typeof e=="string"?Id.findByName(n,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(s!==null?i=s.blendMode:i=m_),l!==void 0){const p=l.actionByRoot[a];if(p!==void 0&&p.blendMode===i)return p;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const h=new fO(this,s,t,i);return this._bindAction(h,c),this._addInactiveAction(h,o,a),h}existingAction(e,t){const i=t||this._root,n=i.uuid,a=typeof e=="string"?Id.findByName(i,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[n]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,n=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(n,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,n=this._actionsByClip,a=n[i];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const h=c._cacheIndex,p=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const o=i[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const n=this._bindingsByRootAndName,a=n[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class OV extends g_{constructor(e=1,t=1,i=1,n={}){super(e,t,n),this.isRenderTarget3D=!0,this.depth=i,this.texture=new v_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class NV extends g_{constructor(e=1,t=1,i=1,n={}){super(e,t,n),this.isRenderTargetArray=!0,this.depth=i,this.texture=new Jm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class rC{constructor(e){this.value=e}clone(){return new rC(this.value.clone===void 0?this.value:this.value.clone())}}let UV=0;class zV extends $s{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:UV++}),this.name="",this.usage=gm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,n=t.length;i<n;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class GV extends Km{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class HV{constructor(e,t,i,n,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=n,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const tB=new vt;class mO{constructor(e,t,i=0,n=1/0){this.ray=new Uu(e,t),this.near=i,this.far=n,this.camera=null,this.layers=new uu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return tB.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(tB),this}intersectObject(e,t=!0,i=[]){return cw(e,this,i,t),i.sort(rB),i}intersectObjects(e,t=!0,i=[]){for(let n=0,a=e.length;n<a;n++)cw(e[n],this,i,t);return i.sort(rB),i}}function rB(r,e){return r.distance-e.distance}function cw(r,e,t,i){let n=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(n=!1),n===!0&&i===!0){const a=r.children;for(let s=0,o=a.length;s<o;s++)cw(a[s],e,t,!0)}}class uw{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Tt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Tt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class VV{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class iC{constructor(e,t,i,n){iC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,n)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,n){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=n,this}}const iB=new _e;class jV{constructor(e=new _e(1/0,1/0),t=new _e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=iB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,iB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nB=new N,rv=new N;class WV{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nB.subVectors(e,this.start),rv.subVectors(this.end,this.start);const i=rv.dot(rv);let n=rv.dot(nB)/i;return t&&(n=Tt(n,0,1)),n}closestPointToPoint(e,t,i){const n=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(n).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const aB=new N;class XV extends Yt{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new It,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,h=o/l*Math.PI*2;n.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new ht(n,3));const a=new an({fog:!1,toneMapped:!1});this.cone=new As(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),aB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(aB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const cl=new N,iv=new vt,oA=new vt;class JV extends As{constructor(e){const t=gO(e),i=new It,n=[],a=[],s=new Qe(0,0,1),o=new Qe(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}i.setAttribute("position",new ht(n,3)),i.setAttribute("color",new ht(a,3));const l=new an({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,n=i.getAttribute("position");oA.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(iv.multiplyMatrices(oA,o.matrixWorld),cl.setFromMatrixPosition(iv),n.setXYZ(s,cl.x,cl.y,cl.z),iv.multiplyMatrices(oA,o.parent.matrixWorld),cl.setFromMatrixPosition(iv),n.setXYZ(s+1,cl.x,cl.y,cl.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function gO(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,gO(r.children[t]));return e}class YV extends Kr{constructor(e,t,i){const n=new rg(t,4,2),a=new ha({wireframe:!0,fog:!1,toneMapped:!1});super(n,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const qV=new N,sB=new Qe,oB=new Qe;class KV extends Yt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const n=new tg(t);n.rotateY(Math.PI*.5),this.material=new ha({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=n.getAttribute("position"),s=new Float32Array(a.count*3);n.setAttribute("color",new tr(s,3)),this.add(new Kr(n,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");sB.copy(this.light.color),oB.copy(this.light.groundColor);for(let i=0,n=t.count;i<n;i++){const a=i<n/2?sB:oB;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(qV.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ZV extends As{constructor(e=10,t=10,i=4473924,n=8947848){i=new Qe(i),n=new Qe(n);const a=t/2,s=e/t,o=e/2,l=[],c=[];for(let f=0,m=0,g=-o;f<=t;f++,g+=s){l.push(-o,0,g,o,0,g),l.push(g,0,-o,g,0,o);const x=f===a?i:n;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const h=new It;h.setAttribute("position",new ht(l,3)),h.setAttribute("color",new ht(c,3));const p=new an({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class QV extends As{constructor(e=10,t=16,i=8,n=64,a=4473924,s=8947848){a=new Qe(a),s=new Qe(s);const o=[],l=[];if(t>1)for(let p=0;p<t;p++){const f=p/t*(Math.PI*2),m=Math.sin(f)*e,g=Math.cos(f)*e;o.push(0,0,0),o.push(m,0,g);const x=p&1?a:s;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let p=0;p<i;p++){const f=p&1?a:s,m=e-e/i*p;for(let g=0;g<n;g++){let x=g/n*(Math.PI*2),_=Math.sin(x)*m,v=Math.cos(x)*m;o.push(_,0,v),l.push(f.r,f.g,f.b),x=(g+1)/n*(Math.PI*2),_=Math.sin(x)*m,v=Math.cos(x)*m,o.push(_,0,v),l.push(f.r,f.g,f.b)}}const c=new It;c.setAttribute("position",new ht(o,3)),c.setAttribute("color",new ht(l,3));const h=new an({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lB=new N,nv=new N,cB=new N;class $V extends Yt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let n=new It;n.setAttribute("position",new ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new an({fog:!1,toneMapped:!1});this.lightPlane=new Vo(n,a),this.add(this.lightPlane),n=new It,n.setAttribute("position",new ht([0,0,0,0,0,1],3)),this.targetLine=new Vo(n,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lB.setFromMatrixPosition(this.light.matrixWorld),nv.setFromMatrixPosition(this.light.target.matrixWorld),cB.subVectors(nv,lB),this.lightPlane.lookAt(nv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nv),this.targetLine.scale.z=cB.length()}}const av=new N,zr=new Ym;class e8 extends As{constructor(e){const t=new It,i=new an({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(g,x){l(g),l(x)}function l(g){n.push(0,0,0),a.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(n.length/3-1)}t.setAttribute("position",new ht(n,3)),t.setAttribute("color",new ht(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Qe(16755200),h=new Qe(16711680),p=new Qe(43775),f=new Qe(16777215),m=new Qe(3355443);this.setColors(c,h,p,f,m)}setColors(e,t,i,n,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,i.r,i.g,i.b),s.setXYZ(33,i.r,i.g,i.b),s.setXYZ(34,i.r,i.g,i.b),s.setXYZ(35,i.r,i.g,i.b),s.setXYZ(36,i.r,i.g,i.b),s.setXYZ(37,i.r,i.g,i.b),s.setXYZ(38,n.r,n.g,n.b),s.setXYZ(39,n.r,n.g,n.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,n=1;zr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===ps?-1:0;Xr("c",t,e,zr,0,0,a),Xr("t",t,e,zr,0,0,1),Xr("n1",t,e,zr,-i,-n,a),Xr("n2",t,e,zr,i,-n,a),Xr("n3",t,e,zr,-i,n,a),Xr("n4",t,e,zr,i,n,a),Xr("f1",t,e,zr,-i,-n,1),Xr("f2",t,e,zr,i,-n,1),Xr("f3",t,e,zr,-i,n,1),Xr("f4",t,e,zr,i,n,1),Xr("u1",t,e,zr,i*.7,n*1.1,a),Xr("u2",t,e,zr,-i*.7,n*1.1,a),Xr("u3",t,e,zr,0,n*2,a),Xr("cf1",t,e,zr,-i,0,1),Xr("cf2",t,e,zr,i,0,1),Xr("cf3",t,e,zr,0,-n,1),Xr("cf4",t,e,zr,0,n,1),Xr("cn1",t,e,zr,-i,0,a),Xr("cn2",t,e,zr,i,0,a),Xr("cn3",t,e,zr,0,-n,a),Xr("cn4",t,e,zr,0,n,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xr(r,e,t,i,n,a,s){av.set(n,a,s).unproject(i);const o=e[r];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,h=o.length;c<h;c++)l.setXYZ(o[c],av.x,av.y,av.z)}}const sv=new tn;class t8 extends As{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(8*3),a=new It;a.setIndex(new tr(i,1)),a.setAttribute("position",new tr(n,3)),super(a,new an({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&sv.setFromObject(this.object),sv.isEmpty())return;const t=sv.min,i=sv.max,n=this.geometry.attributes.position,a=n.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=t.x,a[4]=i.y,a[5]=i.z,a[6]=t.x,a[7]=t.y,a[8]=i.z,a[9]=i.x,a[10]=t.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=t.z,a[15]=t.x,a[16]=i.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=i.x,a[22]=t.y,a[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class r8 extends As{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new It;a.setIndex(new tr(i,1)),a.setAttribute("position",new ht(n,3)),super(a,new an({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class i8 extends Vo{constructor(e,t=1,i=16776960){const n=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new It;s.setAttribute("position",new ht(a,3)),s.computeBoundingSphere(),super(s,new an({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new It;l.setAttribute("position",new ht(o,3)),l.computeBoundingSphere(),this.add(new Kr(l,new ha({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const uB=new N;let ov,lA;class n8 extends Yt{constructor(e=new N(0,0,1),t=new N(0,0,0),i=1,n=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",ov===void 0&&(ov=new It,ov.setAttribute("position",new ht([0,0,0,0,1,0],3)),lA=new Kd(0,.5,1,5,1),lA.translate(0,-.5,0)),this.position.copy(t),this.line=new Vo(ov,new an({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Kr(lA,new ha({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uB,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class a8 extends As{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new It;n.setAttribute("position",new ht(t,3)),n.setAttribute("color",new ht(i,3));const a=new an({vertexColors:!0,toneMapped:!1});super(n,a),this.type="AxesHelper"}setColors(e,t,i){const n=new Qe,a=this.geometry.attributes.color.array;return n.set(e),n.toArray(a,0),n.toArray(a,3),n.set(t),n.toArray(a,6),n.toArray(a,9),n.set(i),n.toArray(a,12),n.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class s8{constructor(){this.type="ShapePath",this.color=new Qe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new _m,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,n){return this.currentPath.quadraticCurveTo(e,t,i,n),this}bezierCurveTo(e,t,i,n,a,s){return this.currentPath.bezierCurveTo(e,t,i,n,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const b=[];for(let A=0,w=v.length;A<w;A++){const T=v[A],E=new hu;E.curves=T.curves,b.push(E)}return b}function i(v,b){const A=b.length;let w=!1;for(let T=A-1,E=0;E<A;T=E++){let B=b[T],I=b[E],C=I.x-B.x,R=I.y-B.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(B=b[E],C=-C,I=b[T],R=-R),v.y<B.y||v.y>I.y)continue;if(v.y===B.y){if(v.x===B.x)return!0}else{const D=R*(v.x-B.x)-C*(v.y-B.y);if(D===0)return!0;if(D<0)continue;w=!w}}else{if(v.y!==B.y)continue;if(I.x<=v.x&&v.x<=B.x||B.x<=v.x&&v.x<=I.x)return!0}}return w}const n=Xs.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const c=[];if(a.length===1)return o=a[0],l=new hu,l.curves=o.curves,c.push(l),c;let h=!n(a[0].getPoints());h=e?!h:h;const p=[],f=[];let m=[],g=0,x;f[g]=void 0,m[g]=[];for(let v=0,b=a.length;v<b;v++)o=a[v],x=o.getPoints(),s=n(x),s=e?!s:s,s?(!h&&f[g]&&g++,f[g]={s:new hu,p:x},f[g].s.curves=o.curves,h&&g++,m[g]=[]):m[g].push({h:o,p:x[0]});if(!f[0])return t(a);if(f.length>1){let v=!1,b=0;for(let A=0,w=f.length;A<w;A++)p[A]=[];for(let A=0,w=f.length;A<w;A++){const T=m[A];for(let E=0;E<T.length;E++){const B=T[E];let I=!0;for(let C=0;C<f.length;C++)i(B.p,f[C].p)&&(A!==C&&b++,I?(I=!1,p[C].push(B)):v=!0);I&&p[A].push(B)}}b>0&&v===!1&&(m=p)}let _;for(let v=0,b=f.length;v<b;v++){l=f[v].s,c.push(l),_=m[v];for(let A=0,w=_.length;A<w;A++)l.holes.push(_[A].h)}return c}}class o8 extends $s{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function l8(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function c8(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function u8(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function hw(r,e,t,i){const n=h8(i);switch(t){case mE:return r*e;case vE:return r*e;case yE:return r*e*2;case d_:return r*e/n.components*n.byteLength;case Xm:return r*e/n.components*n.byteLength;case _E:return r*e*2/n.components*n.byteLength;case p_:return r*e*2/n.components*n.byteLength;case gE:return r*e*3/n.components*n.byteLength;case en:return r*e*4/n.components*n.byteLength;case f_:return r*e*4/n.components*n.byteLength;case Af:case Sf:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case wf:case Mf:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case Gy:case Vy:return Math.max(r,16)*Math.max(e,8)/4;case zy:case Hy:return Math.max(r,8)*Math.max(e,8)/2;case jy:case Wy:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case Xy:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case Jy:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case Yy:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case qy:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case Ky:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case Zy:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case Qy:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case $y:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case e1:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case t1:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case r1:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case i1:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case n1:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case a1:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case s1:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case Ef:case o1:case l1:return Math.ceil(r/4)*Math.ceil(e/4)*16;case xE:case c1:return Math.ceil(r/4)*Math.ceil(e/4)*8;case u1:case h1:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function h8(r){switch(r){case xs:case dE:return{byteLength:1,components:1};case Cd:case pE:case qd:return{byteLength:2,components:1};case u_:case h_:return{byteLength:2,components:4};case Ho:case c_:case zn:return{byteLength:4,components:1};case fE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}const d8={contain:l8,cover:c8,fill:u8,getByteLength:hw};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Jd}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Jd);/**
* @license
* Copyright 2010-2024 Three.js Authors
* SPDX-License-Identifier: MIT
*/function vO(){let r=null,e=!1,t=null,i=null;function n(a,s){t(a,s),i=r.requestAnimationFrame(n)}return{start:function(){e!==!0&&t!==null&&(i=r.requestAnimationFrame(n),e=!0)},stop:function(){r.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){r=a}}}function p8(r){const e=new WeakMap;function t(o,l){const c=o.array,h=o.usage,p=c.byteLength,f=r.createBuffer();r.bindBuffer(l,f),r.bufferData(l,c,h),o.onUploadCallback();let m;if(c instanceof Float32Array)m=r.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?m=r.HALF_FLOAT:m=r.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=r.SHORT;else if(c instanceof Uint32Array)m=r.UNSIGNED_INT;else if(c instanceof Int32Array)m=r.INT;else if(c instanceof Int8Array)m=r.BYTE;else if(c instanceof Uint8Array)m=r.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:p}}function i(o,l,c){const h=l.array,p=l.updateRanges;if(r.bindBuffer(c,o),p.length===0)r.bufferSubData(c,0,h);else{p.sort((m,g)=>m.start-g.start);let f=0;for(let m=1;m<p.length;m++){const g=p[f],x=p[m];x.start<=g.start+g.count+1?g.count=Math.max(g.count,x.start+x.count-g.start):(++f,p[f]=x)}p.length=f+1;for(let m=0,g=p.length;m<g;m++){const x=p[m];r.bufferSubData(c,x.start*h.BYTES_PER_ELEMENT,h,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function n(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(r.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const h=e.get(o);(!h||h.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:n,remove:a,update:s}}var f8=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,m8=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,g8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,v8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,y8=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,_8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,x8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,b8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,A8=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,S8=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,w8=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,M8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,E8=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,C8=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,T8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,R8=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,P8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,B8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,I8=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,D8=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,L8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,F8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,k8=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,O8=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,N8=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,U8=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,z8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,G8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,H8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,V8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,j8="gl_FragColor = linearToOutputTexel( gl_FragColor );",W8=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,X8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,J8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Y8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,q8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,K8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Z8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Q8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ej=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,tj=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,rj=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ij=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nj=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aj=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,sj=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,oj=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lj=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,cj=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,uj=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,hj=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,dj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,pj=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fj=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mj=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,gj=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vj=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yj=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_j=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,xj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,bj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Aj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Sj=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Mj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ej=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Cj=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Tj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Rj=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Pj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Bj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Ij=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Dj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Oj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Nj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Uj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,zj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Gj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Hj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Vj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Wj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Xj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Jj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Yj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,qj=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Kj=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Zj=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Qj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$j=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,eW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,tW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,rW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,aW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,lW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,cW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,hW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,dW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const pW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_W=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,bW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,AW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,SW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,wW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,MW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BW=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,IW=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DW=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,LW=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,FW=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kW=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OW=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NW=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UW=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zW=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GW=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,HW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,VW=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,WW=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ft={alphahash_fragment:f8,alphahash_pars_fragment:m8,alphamap_fragment:g8,alphamap_pars_fragment:v8,alphatest_fragment:y8,alphatest_pars_fragment:_8,aomap_fragment:x8,aomap_pars_fragment:b8,batching_pars_vertex:A8,batching_vertex:S8,begin_vertex:w8,beginnormal_vertex:M8,bsdfs:E8,iridescence_fragment:C8,bumpmap_pars_fragment:T8,clipping_planes_fragment:R8,clipping_planes_pars_fragment:P8,clipping_planes_pars_vertex:B8,clipping_planes_vertex:I8,color_fragment:D8,color_pars_fragment:L8,color_pars_vertex:F8,color_vertex:k8,common:O8,cube_uv_reflection_fragment:N8,defaultnormal_vertex:U8,displacementmap_pars_vertex:z8,displacementmap_vertex:G8,emissivemap_fragment:H8,emissivemap_pars_fragment:V8,colorspace_fragment:j8,colorspace_pars_fragment:W8,envmap_fragment:X8,envmap_common_pars_fragment:J8,envmap_pars_fragment:Y8,envmap_pars_vertex:q8,envmap_physical_pars_fragment:sj,envmap_vertex:K8,fog_vertex:Z8,fog_pars_vertex:Q8,fog_fragment:$8,fog_pars_fragment:ej,gradientmap_pars_fragment:tj,lightmap_pars_fragment:rj,lights_lambert_fragment:ij,lights_lambert_pars_fragment:nj,lights_pars_begin:aj,lights_toon_fragment:oj,lights_toon_pars_fragment:lj,lights_phong_fragment:cj,lights_phong_pars_fragment:uj,lights_physical_fragment:hj,lights_physical_pars_fragment:dj,lights_fragment_begin:pj,lights_fragment_maps:fj,lights_fragment_end:mj,logdepthbuf_fragment:gj,logdepthbuf_pars_fragment:vj,logdepthbuf_pars_vertex:yj,logdepthbuf_vertex:_j,map_fragment:xj,map_pars_fragment:bj,map_particle_fragment:Aj,map_particle_pars_fragment:Sj,metalnessmap_fragment:wj,metalnessmap_pars_fragment:Mj,morphinstance_vertex:Ej,morphcolor_vertex:Cj,morphnormal_vertex:Tj,morphtarget_pars_vertex:Rj,morphtarget_vertex:Pj,normal_fragment_begin:Bj,normal_fragment_maps:Ij,normal_pars_fragment:Dj,normal_pars_vertex:Lj,normal_vertex:Fj,normalmap_pars_fragment:kj,clearcoat_normal_fragment_begin:Oj,clearcoat_normal_fragment_maps:Nj,clearcoat_pars_fragment:Uj,iridescence_pars_fragment:zj,opaque_fragment:Gj,packing:Hj,premultiplied_alpha_fragment:Vj,project_vertex:jj,dithering_fragment:Wj,dithering_pars_fragment:Xj,roughnessmap_fragment:Jj,roughnessmap_pars_fragment:Yj,shadowmap_pars_fragment:qj,shadowmap_pars_vertex:Kj,shadowmap_vertex:Zj,shadowmask_pars_fragment:Qj,skinbase_vertex:$j,skinning_pars_vertex:eW,skinning_vertex:tW,skinnormal_vertex:rW,specularmap_fragment:iW,specularmap_pars_fragment:nW,tonemapping_fragment:aW,tonemapping_pars_fragment:sW,transmission_fragment:oW,transmission_pars_fragment:lW,uv_pars_fragment:cW,uv_pars_vertex:uW,uv_vertex:hW,worldpos_vertex:dW,background_vert:pW,background_frag:fW,backgroundCube_vert:mW,backgroundCube_frag:gW,cube_vert:vW,cube_frag:yW,depth_vert:_W,depth_frag:xW,distanceRGBA_vert:bW,distanceRGBA_frag:AW,equirect_vert:SW,equirect_frag:wW,linedashed_vert:MW,linedashed_frag:EW,meshbasic_vert:CW,meshbasic_frag:TW,meshlambert_vert:RW,meshlambert_frag:PW,meshmatcap_vert:BW,meshmatcap_frag:IW,meshnormal_vert:DW,meshnormal_frag:LW,meshphong_vert:FW,meshphong_frag:kW,meshphysical_vert:OW,meshphysical_frag:NW,meshtoon_vert:UW,meshtoon_frag:zW,points_vert:GW,points_frag:HW,shadow_vert:VW,shadow_frag:jW,sprite_vert:WW,sprite_frag:XW},Ze={common:{diffuse:{value:new Qe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bt}},envmap:{envMap:{value:null},envMapRotation:{value:new Bt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bt},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0},uvTransform:{value:new Bt}},sprite:{diffuse:{value:new Qe(16777215)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}}},ds={basic:{uniforms:dn([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.fog]),vertexShader:Ft.meshbasic_vert,fragmentShader:Ft.meshbasic_frag},lambert:{uniforms:dn([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new Qe(0)}}]),vertexShader:Ft.meshlambert_vert,fragmentShader:Ft.meshlambert_frag},phong:{uniforms:dn([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new Qe(0)},specular:{value:new Qe(1118481)},shininess:{value:30}}]),vertexShader:Ft.meshphong_vert,fragmentShader:Ft.meshphong_frag},standard:{uniforms:dn([Ze.common,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.roughnessmap,Ze.metalnessmap,Ze.fog,Ze.lights,{emissive:{value:new Qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag},toon:{uniforms:dn([Ze.common,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.gradientmap,Ze.fog,Ze.lights,{emissive:{value:new Qe(0)}}]),vertexShader:Ft.meshtoon_vert,fragmentShader:Ft.meshtoon_frag},matcap:{uniforms:dn([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,{matcap:{value:null}}]),vertexShader:Ft.meshmatcap_vert,fragmentShader:Ft.meshmatcap_frag},points:{uniforms:dn([Ze.points,Ze.fog]),vertexShader:Ft.points_vert,fragmentShader:Ft.points_frag},dashed:{uniforms:dn([Ze.common,Ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ft.linedashed_vert,fragmentShader:Ft.linedashed_frag},depth:{uniforms:dn([Ze.common,Ze.displacementmap]),vertexShader:Ft.depth_vert,fragmentShader:Ft.depth_frag},normal:{uniforms:dn([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,{opacity:{value:1}}]),vertexShader:Ft.meshnormal_vert,fragmentShader:Ft.meshnormal_frag},sprite:{uniforms:dn([Ze.sprite,Ze.fog]),vertexShader:Ft.sprite_vert,fragmentShader:Ft.sprite_frag},background:{uniforms:{uvTransform:{value:new Bt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ft.background_vert,fragmentShader:Ft.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Bt}},vertexShader:Ft.backgroundCube_vert,fragmentShader:Ft.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ft.cube_vert,fragmentShader:Ft.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ft.equirect_vert,fragmentShader:Ft.equirect_frag},distanceRGBA:{uniforms:dn([Ze.common,Ze.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ft.distanceRGBA_vert,fragmentShader:Ft.distanceRGBA_frag},shadow:{uniforms:dn([Ze.lights,Ze.fog,{color:{value:new Qe(0)},opacity:{value:1}}]),vertexShader:Ft.shadow_vert,fragmentShader:Ft.shadow_frag}};ds.physical={uniforms:dn([ds.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bt},clearcoatNormalScale:{value:new _e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bt},sheen:{value:0},sheenColor:{value:new Qe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bt},transmissionSamplerSize:{value:new _e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bt},attenuationDistance:{value:0},attenuationColor:{value:new Qe(0)},specularColor:{value:new Qe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bt},anisotropyVector:{value:new _e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bt}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag};const lv={r:0,b:0,g:0},Mc=new va,JW=new vt;function YW(r,e,t,i,n,a,s){const o=new Qe(0);let l=a===!0?0:1,c,h,p=null,f=0,m=null;function g(A){let w=A.isScene===!0?A.background:null;return w&&w.isTexture&&(w=(A.backgroundBlurriness>0?t:e).get(w)),w}function x(A){let w=!1;const T=g(A);T===null?v(o,l):T&&T.isColor&&(v(T,1),w=!0);const E=r.xr.getEnvironmentBlendMode();E==="additive"?i.buffers.color.setClear(0,0,0,1,s):E==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(r.autoClear||w)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function _(A,w){const T=g(w);T&&(T.isCubeTexture||T.mapping===Yd)?(h===void 0&&(h=new Kr(new zu(1,1,1),new bs({name:"BackgroundCubeMaterial",uniforms:Bd(ds.backgroundCube.uniforms),vertexShader:ds.backgroundCube.vertexShader,fragmentShader:ds.backgroundCube.fragmentShader,side:Sn,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(E,B,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(h)),Mc.copy(w.backgroundRotation),Mc.x*=-1,Mc.y*=-1,Mc.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Mc.y*=-1,Mc.z*=-1),h.material.uniforms.envMap.value=T,h.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(JW.makeRotationFromEuler(Mc)),h.material.toneMapped=Zt.getTransfer(T.colorSpace)!==lr,(p!==T||f!==T.version||m!==r.toneMapping)&&(h.material.needsUpdate=!0,p=T,f=T.version,m=r.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new Kr(new Zd(2,2),new bs({name:"BackgroundMaterial",uniforms:Bd(ds.background.uniforms),vertexShader:ds.background.vertexShader,fragmentShader:ds.background.fragmentShader,side:Ks,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Zt.getTransfer(T.colorSpace)!==lr,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(p!==T||f!==T.version||m!==r.toneMapping)&&(c.material.needsUpdate=!0,p=T,f=T.version,m=r.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function v(A,w){A.getRGB(lv,Ck(r)),i.buffers.color.setClear(lv.r,lv.g,lv.b,w,s)}function b(){h!==void 0&&(h.geometry.dispose(),h.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return o},setClearColor:function(A,w=1){o.set(A),l=w,v(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,v(o,l)},render:x,addToRenderList:_,dispose:b}}function qW(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),i={},n=f(null);let a=n,s=!1;function o(R,D,V,j,Z){let Q=!1;const X=p(j,V,D);a!==X&&(a=X,c(a.object)),Q=m(R,j,V,Z),Q&&g(R,j,V,Z),Z!==null&&e.update(Z,r.ELEMENT_ARRAY_BUFFER),(Q||s)&&(s=!1,w(R,D,V,j),Z!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(Z).buffer))}function l(){return r.createVertexArray()}function c(R){return r.bindVertexArray(R)}function h(R){return r.deleteVertexArray(R)}function p(R,D,V){const j=V.wireframe===!0;let Z=i[R.id];Z===void 0&&(Z={},i[R.id]=Z);let Q=Z[D.id];Q===void 0&&(Q={},Z[D.id]=Q);let X=Q[j];return X===void 0&&(X=f(l()),Q[j]=X),X}function f(R){const D=[],V=[],j=[];for(let Z=0;Z<t;Z++)D[Z]=0,V[Z]=0,j[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:V,attributeDivisors:j,object:R,attributes:{},index:null}}function m(R,D,V,j){const Z=a.attributes,Q=D.attributes;let X=0;const ie=V.getAttributes();for(const O in ie)if(ie[O].location>=0){const F=Z[O];let q=Q[O];if(q===void 0&&(O==="instanceMatrix"&&R.instanceMatrix&&(q=R.instanceMatrix),O==="instanceColor"&&R.instanceColor&&(q=R.instanceColor)),F===void 0||F.attribute!==q||q&&F.data!==q.data)return!0;X++}return a.attributesNum!==X||a.index!==j}function g(R,D,V,j){const Z={},Q=D.attributes;let X=0;const ie=V.getAttributes();for(const O in ie)if(ie[O].location>=0){let F=Q[O];F===void 0&&(O==="instanceMatrix"&&R.instanceMatrix&&(F=R.instanceMatrix),O==="instanceColor"&&R.instanceColor&&(F=R.instanceColor));const q={};q.attribute=F,F&&F.data&&(q.data=F.data),Z[O]=q,X++}a.attributes=Z,a.attributesNum=X,a.index=j}function x(){const R=a.newAttributes;for(let D=0,V=R.length;D<V;D++)R[D]=0}function _(R){v(R,0)}function v(R,D){const V=a.newAttributes,j=a.enabledAttributes,Z=a.attributeDivisors;V[R]=1,j[R]===0&&(r.enableVertexAttribArray(R),j[R]=1),Z[R]!==D&&(r.vertexAttribDivisor(R,D),Z[R]=D)}function b(){const R=a.newAttributes,D=a.enabledAttributes;for(let V=0,j=D.length;V<j;V++)D[V]!==R[V]&&(r.disableVertexAttribArray(V),D[V]=0)}function A(R,D,V,j,Z,Q,X){X===!0?r.vertexAttribIPointer(R,D,V,Z,Q):r.vertexAttribPointer(R,D,V,j,Z,Q)}function w(R,D,V,j){x();const Z=j.attributes,Q=V.getAttributes(),X=D.defaultAttributeValues;for(const ie in Q){const O=Q[ie];if(O.location>=0){let F=Z[ie];if(F===void 0&&(ie==="instanceMatrix"&&R.instanceMatrix&&(F=R.instanceMatrix),ie==="instanceColor"&&R.instanceColor&&(F=R.instanceColor)),F!==void 0){const q=F.normalized,pe=F.itemSize,we=e.get(F);if(we===void 0)continue;const Le=we.buffer,se=we.type,ye=we.bytesPerElement,Se=se===r.INT||se===r.UNSIGNED_INT||F.gpuType===c_;if(F.isInterleavedBufferAttribute){const Ee=F.data,je=Ee.stride,it=F.offset;if(Ee.isInstancedInterleavedBuffer){for(let Ne=0;Ne<O.locationSize;Ne++)v(O.location+Ne,Ee.meshPerAttribute);R.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let Ne=0;Ne<O.locationSize;Ne++)_(O.location+Ne);r.bindBuffer(r.ARRAY_BUFFER,Le);for(let Ne=0;Ne<O.locationSize;Ne++)A(O.location+Ne,pe/O.locationSize,se,q,je*ye,(it+pe/O.locationSize*Ne)*ye,Se)}else{if(F.isInstancedBufferAttribute){for(let Ee=0;Ee<O.locationSize;Ee++)v(O.location+Ee,F.meshPerAttribute);R.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=F.meshPerAttribute*F.count)}else for(let Ee=0;Ee<O.locationSize;Ee++)_(O.location+Ee);r.bindBuffer(r.ARRAY_BUFFER,Le);for(let Ee=0;Ee<O.locationSize;Ee++)A(O.location+Ee,pe/O.locationSize,se,q,pe*ye,pe/O.locationSize*Ee*ye,Se)}}else if(X!==void 0){const q=X[ie];if(q!==void 0)switch(q.length){case 2:r.vertexAttrib2fv(O.location,q);break;case 3:r.vertexAttrib3fv(O.location,q);break;case 4:r.vertexAttrib4fv(O.location,q);break;default:r.vertexAttrib1fv(O.location,q)}}}}b()}function T(){I();for(const R in i){const D=i[R];for(const V in D){const j=D[V];for(const Z in j)h(j[Z].object),delete j[Z];delete D[V]}delete i[R]}}function E(R){if(i[R.id]===void 0)return;const D=i[R.id];for(const V in D){const j=D[V];for(const Z in j)h(j[Z].object),delete j[Z];delete D[V]}delete i[R.id]}function B(R){for(const D in i){const V=i[D];if(V[R.id]===void 0)continue;const j=V[R.id];for(const Z in j)h(j[Z].object),delete j[Z];delete V[R.id]}}function I(){C(),s=!0,a!==n&&(a=n,c(a.object))}function C(){n.geometry=null,n.program=null,n.wireframe=!1}return{setup:o,reset:I,resetDefaultState:C,dispose:T,releaseStatesOfGeometry:E,releaseStatesOfProgram:B,initAttributes:x,enableAttribute:_,disableUnusedAttributes:b}}function KW(r,e,t){let i;function n(c){i=c}function a(c,h){r.drawArrays(i,c,h),t.update(h,i,1)}function s(c,h,p){p!==0&&(r.drawArraysInstanced(i,c,h,p),t.update(h,i,p))}function o(c,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,h,0,p);let f=0;for(let m=0;m<p;m++)f+=h[m];t.update(f,i,1)}function l(c,h,p,f){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<c.length;g++)s(c[g],h[g],f[g]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,h,0,f,0,p);let g=0;for(let x=0;x<p;x++)g+=h[x]*f[x];t.update(g,i,1)}}this.setMode=n,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function ZW(r,e,t,i){let n;function a(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");n=r.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(B){return!(B!==en&&i.convert(B)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(B){const I=B===qd&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==xs&&i.convert(B)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==zn&&!I)}function l(B){if(B==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const h=l(c);h!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);const p=t.logarithmicDepthBuffer===!0,f=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),g=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=r.getParameter(r.MAX_TEXTURE_SIZE),_=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),v=r.getParameter(r.MAX_VERTEX_ATTRIBS),b=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),A=r.getParameter(r.MAX_VARYING_VECTORS),w=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),T=g>0,E=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:p,reverseDepthBuffer:f,maxTextures:m,maxVertexTextures:g,maxTextureSize:x,maxCubemapSize:_,maxAttributes:v,maxVertexUniforms:b,maxVaryings:A,maxFragmentUniforms:w,vertexTextures:T,maxSamples:E}}function QW(r){const e=this;let t=null,i=0,n=!1,a=!1;const s=new _o,o=new Bt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,f){const m=p.length!==0||f||i!==0||n;return n=f,i=p.length,m},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,f){t=h(p,f,0)},this.setState=function(p,f,m){const g=p.clippingPlanes,x=p.clipIntersection,_=p.clipShadows,v=r.get(p);if(!n||g===null||g.length===0||a&&!_)a?h(null):c();else{const b=a?0:i,A=b*4;let w=v.clippingState||null;l.value=w,w=h(g,f,A,m);for(let T=0;T!==A;++T)w[T]=t[T];v.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(p,f,m,g){const x=p!==null?p.length:0;let _=null;if(x!==0){if(_=l.value,g!==!0||_===null){const v=m+x*4,b=f.matrixWorldInverse;o.getNormalMatrix(b),(_===null||_.length<v)&&(_=new Float32Array(v));for(let A=0,w=m;A!==x;++A,w+=4)s.copy(p[A]).applyMatrix4(b,o),s.normal.toArray(_,w),_[w+3]=s.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,_}}function $W(r){let e=new WeakMap;function t(s,o){return o===dm?s.mapping=Go:o===pm&&(s.mapping=Vl),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===dm||o===pm)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new TE(l.height);return c.fromEquirectangularTexture(r,s),e.set(s,c),s.addEventListener("dispose",n),t(c.texture,s.mapping)}else return null}}return s}function n(s){const o=s.target;o.removeEventListener("dispose",n);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const qh=4,hB=[.125,.215,.35,.446,.526,.582],Vc=20,cA=new vs,dB=new Qe;let uA=null,hA=0,dA=0,pA=!1;const Oc=(1+Math.sqrt(5))/2,Sh=1/Oc,pB=[new N(-Oc,Sh,0),new N(Oc,Sh,0),new N(-Sh,0,Oc),new N(Sh,0,Oc),new N(0,Oc,-Sh),new N(0,Oc,Sh),new N(-1,1,-1),new N(1,1,-1),new N(-1,1,1),new N(1,1,1)];class dw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,n=100){uA=this._renderer.getRenderTarget(),hA=this._renderer.getActiveCubeFace(),dA=this._renderer.getActiveMipmapLevel(),pA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,i,n,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=gB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=mB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(uA,hA,dA),this._renderer.xr.enabled=pA,e.scissorTest=!1,cv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Go||e.mapping===Vl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),uA=this._renderer.getRenderTarget(),hA=this._renderer.getActiveCubeFace(),dA=this._renderer.getActiveMipmapLevel(),pA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:qr,minFilter:qr,generateMipmaps:!1,type:qd,format:en,colorSpace:Cu,depthBuffer:!1},n=fB(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=fB(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=e7(a)),this._blurMaterial=t7(a,e,t)}return n}_compileMaterial(e){const t=new Kr(this._lodPlanes[0],e);this._renderer.compile(t,cA)}_sceneToCubeUV(e,t,i,n){const a=new Er(90,1,t,i),s=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,h=l.toneMapping;l.getClearColor(dB),l.toneMapping=js,l.autoClear=!1;const p=new ha({name:"PMREM.Background",side:Sn,depthWrite:!1,depthTest:!1}),f=new Kr(new zu,p);let m=!1;const g=e.background;g?g.isColor&&(p.color.copy(g),e.background=null,m=!0):(p.color.copy(dB),m=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,s[x],0),a.lookAt(o[x],0,0)):_===1?(a.up.set(0,0,s[x]),a.lookAt(0,o[x],0)):(a.up.set(0,s[x],0),a.lookAt(0,0,o[x]));const v=this._cubeSize;cv(n,_*v,x>2?v:0,v,v),l.setRenderTarget(n),m&&l.render(f,a),l.render(e,a)}f.geometry.dispose(),f.material.dispose(),l.toneMapping=h,l.autoClear=c,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,n=e.mapping===Go||e.mapping===Vl;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=gB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=mB());const a=n?this._cubemapMaterial:this._equirectMaterial,s=new Kr(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;cv(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(s,cA)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const n=this._lodPlanes.length;for(let a=1;a<n;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=pB[(n-a-1)%pB.length];this._blur(e,a-1,a,s,o)}t.autoClear=i}_blur(e,t,i,n,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,n,"latitudinal",a),this._halfBlur(s,e,i,i,n,"longitudinal",a)}_halfBlur(e,t,i,n,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new Kr(this._lodPlanes[n],c),f=c.uniforms,m=this._sizeLods[i]-1,g=isFinite(a)?Math.PI/(2*m):2*Math.PI/(2*Vc-1),x=a/g,_=isFinite(a)?1+Math.floor(h*x):Vc;_>Vc&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Vc}`);const v=[];let b=0;for(let B=0;B<Vc;++B){const I=B/x,C=Math.exp(-I*I/2);v.push(C),B===0?b+=C:B<_&&(b+=2*C)}for(let B=0;B<v.length;B++)v[B]=v[B]/b;f.envMap.value=e.texture,f.samples.value=_,f.weights.value=v,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:A}=this;f.dTheta.value=g,f.mipInt.value=A-i;const w=this._sizeLods[n],T=3*w*(n>A-qh?n-A+qh:0),E=4*(this._cubeSize-w);cv(t,T,E,3*w,2*w),l.setRenderTarget(t),l.render(p,cA)}}function e7(r){const e=[],t=[],i=[];let n=r;const a=r-qh+1+hB.length;for(let s=0;s<a;s++){const o=Math.pow(2,n);t.push(o);let l=1/o;s>r-qh?l=hB[s-r+qh-1]:s===0&&(l=0),i.push(l);const c=1/(o-2),h=-c,p=1+c,f=[h,h,p,h,p,p,h,h,p,p,h,p],m=6,g=6,x=3,_=2,v=1,b=new Float32Array(x*g*m),A=new Float32Array(_*g*m),w=new Float32Array(v*g*m);for(let E=0;E<m;E++){const B=E%3*2/3-1,I=E>2?0:-1,C=[B,I,0,B+2/3,I,0,B+2/3,I+1,0,B,I,0,B+2/3,I+1,0,B,I+1,0];b.set(C,x*g*E),A.set(f,_*g*E);const R=[E,E,E,E,E,E];w.set(R,v*g*E)}const T=new It;T.setAttribute("position",new tr(b,x)),T.setAttribute("uv",new tr(A,_)),T.setAttribute("faceIndex",new tr(w,v)),e.push(T),n>qh&&n--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function fB(r,e,t){const i=new Zs(r,e,t);return i.texture.mapping=Yd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function cv(r,e,t,i,n){r.viewport.set(e,t,i,n),r.scissor.set(e,t,i,n)}function t7(r,e,t){const i=new Float32Array(Vc),n=new N(0,1,0);return new bs({name:"SphericalGaussianBlur",defines:{n:Vc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:nC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function mB(){return new bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:nC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function gB(){return new bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:nC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function nC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function r7(r){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===dm||l===pm,h=l===Go||l===Vl;if(c||h){let p=e.get(o);const f=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return t===null&&(t=new dw(r)),p=c?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const m=o.image;return c&&m&&m.height>0||h&&m&&n(m)?(t===null&&(t=new dw(r)),p=c?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",a),p.texture):null}}}return o}function n(o){let l=0;const c=6;for(let h=0;h<c;h++)o[h]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function i7(r){const e={};function t(i){if(e[i]!==void 0)return e[i];let n;switch(i){case"WEBGL_depth_texture":n=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=r.getExtension(i)}return e[i]=n,n}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const n=t(i);return n===null&&Rh("THREE.WebGLRenderer: "+i+" extension not supported."),n}}}function n7(r,e,t,i){const n={},a=new WeakMap;function s(p){const f=p.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",s),delete n[f.id];const m=a.get(f);m&&(e.remove(m),a.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(p,f){return n[f.id]===!0||(f.addEventListener("dispose",s),n[f.id]=!0,t.memory.geometries++),f}function l(p){const f=p.attributes;for(const m in f)e.update(f[m],r.ARRAY_BUFFER)}function c(p){const f=[],m=p.index,g=p.attributes.position;let x=0;if(m!==null){const b=m.array;x=m.version;for(let A=0,w=b.length;A<w;A+=3){const T=b[A+0],E=b[A+1],B=b[A+2];f.push(T,E,E,B,B,T)}}else if(g!==void 0){const b=g.array;x=g.version;for(let A=0,w=b.length/3-1;A<w;A+=3){const T=A+0,E=A+1,B=A+2;f.push(T,E,E,B,B,T)}}else return;const _=new(Sk(f)?EE:ME)(f,1);_.version=x;const v=a.get(p);v&&e.remove(v),a.set(p,_)}function h(p){const f=a.get(p);if(f){const m=p.index;m!==null&&f.version<m.version&&c(p)}else c(p);return a.get(p)}return{get:o,update:l,getWireframeAttribute:h}}function a7(r,e,t){let i;function n(f){i=f}let a,s;function o(f){a=f.type,s=f.bytesPerElement}function l(f,m){r.drawElements(i,m,a,f*s),t.update(m,i,1)}function c(f,m,g){g!==0&&(r.drawElementsInstanced(i,m,a,f*s,g),t.update(m,i,g))}function h(f,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,a,f,0,g);let x=0;for(let _=0;_<g;_++)x+=m[_];t.update(x,i,1)}function p(f,m,g,x){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let v=0;v<f.length;v++)c(f[v]/s,m[v],x[v]);else{_.multiDrawElementsInstancedWEBGL(i,m,0,a,f,0,x,0,g);let v=0;for(let b=0;b<g;b++)v+=m[b]*x[b];t.update(v,i,1)}}this.setMode=n,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function s7(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(t.calls++,s){case r.TRIANGLES:t.triangles+=o*(a/3);break;case r.LINES:t.lines+=o*(a/2);break;case r.LINE_STRIP:t.lines+=o*(a-1);break;case r.LINE_LOOP:t.lines+=o*a;break;case r.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function n(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:n,update:i}}function o7(r,e,t){const i=new WeakMap,n=new $t;function a(s,o,l){const c=s.morphTargetInfluences,h=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=h!==void 0?h.length:0;let f=i.get(o);if(f===void 0||f.count!==p){let m=function(){I.dispose(),i.delete(o),o.removeEventListener("dispose",m)};f!==void 0&&f.texture.dispose();const g=o.morphAttributes.position!==void 0,x=o.morphAttributes.normal!==void 0,_=o.morphAttributes.color!==void 0,v=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],A=o.morphAttributes.color||[];let w=0;g===!0&&(w=1),x===!0&&(w=2),_===!0&&(w=3);let T=o.attributes.position.count*w,E=1;T>e.maxTextureSize&&(E=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const B=new Float32Array(T*E*4*p),I=new Jm(B,T,E,p);I.type=zn,I.needsUpdate=!0;const C=w*4;for(let R=0;R<p;R++){const D=v[R],V=b[R],j=A[R],Z=T*E*4*R;for(let Q=0;Q<D.count;Q++){const X=Q*C;g===!0&&(n.fromBufferAttribute(D,Q),B[Z+X+0]=n.x,B[Z+X+1]=n.y,B[Z+X+2]=n.z,B[Z+X+3]=0),x===!0&&(n.fromBufferAttribute(V,Q),B[Z+X+4]=n.x,B[Z+X+5]=n.y,B[Z+X+6]=n.z,B[Z+X+7]=0),_===!0&&(n.fromBufferAttribute(j,Q),B[Z+X+8]=n.x,B[Z+X+9]=n.y,B[Z+X+10]=n.z,B[Z+X+11]=j.itemSize===4?n.w:1)}}f={count:p,texture:I,size:new _e(T,E)},i.set(o,f),o.addEventListener("dispose",m)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(r,"morphTexture",s.morphTexture,t);else{let m=0;for(let x=0;x<c.length;x++)m+=c[x];const g=o.morphTargetsRelative?1:1-m;l.getUniforms().setValue(r,"morphTargetBaseInfluence",g),l.getUniforms().setValue(r,"morphTargetInfluences",c)}l.getUniforms().setValue(r,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(r,"morphTargetsTextureSize",f.size)}return{update:a}}function l7(r,e,t,i){let n=new WeakMap;function a(l){const c=i.render.frame,h=l.geometry,p=e.get(l,h);if(n.get(p)!==c&&(e.update(p),n.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),n.get(l)!==c&&(t.update(l.instanceMatrix,r.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,r.ARRAY_BUFFER),n.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;n.get(f)!==c&&(f.update(),n.set(f,c))}return p}function s(){n=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const yO=new Tr,vB=new FE(1,1),_O=new Jm,xO=new v_,bO=new qm,yB=[],_B=[],xB=new Float32Array(16),bB=new Float32Array(9),AB=new Float32Array(4);function $d(r,e,t){const i=r[0];if(i<=0||i>0)return r;const n=e*t;let a=yB[n];if(a===void 0&&(a=new Float32Array(n),yB[n]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,r[s].toArray(a,o)}return a}function fi(r,e){if(r.length!==e.length)return!1;for(let t=0,i=r.length;t<i;t++)if(r[t]!==e[t])return!1;return!0}function mi(r,e){for(let t=0,i=e.length;t<i;t++)r[t]=e[t]}function O_(r,e){let t=_B[e];t===void 0&&(t=new Int32Array(e),_B[e]=t);for(let i=0;i!==e;++i)t[i]=r.allocateTextureUnit();return t}function c7(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function u7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fi(t,e))return;r.uniform2fv(this.addr,e),mi(t,e)}}function h7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(fi(t,e))return;r.uniform3fv(this.addr,e),mi(t,e)}}function d7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fi(t,e))return;r.uniform4fv(this.addr,e),mi(t,e)}}function p7(r,e){const t=this.cache,i=e.elements;if(i===void 0){if(fi(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),mi(t,e)}else{if(fi(t,i))return;AB.set(i),r.uniformMatrix2fv(this.addr,!1,AB),mi(t,i)}}function f7(r,e){const t=this.cache,i=e.elements;if(i===void 0){if(fi(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),mi(t,e)}else{if(fi(t,i))return;bB.set(i),r.uniformMatrix3fv(this.addr,!1,bB),mi(t,i)}}function m7(r,e){const t=this.cache,i=e.elements;if(i===void 0){if(fi(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),mi(t,e)}else{if(fi(t,i))return;xB.set(i),r.uniformMatrix4fv(this.addr,!1,xB),mi(t,i)}}function g7(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function v7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fi(t,e))return;r.uniform2iv(this.addr,e),mi(t,e)}}function y7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(fi(t,e))return;r.uniform3iv(this.addr,e),mi(t,e)}}function _7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fi(t,e))return;r.uniform4iv(this.addr,e),mi(t,e)}}function x7(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function b7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fi(t,e))return;r.uniform2uiv(this.addr,e),mi(t,e)}}function A7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(fi(t,e))return;r.uniform3uiv(this.addr,e),mi(t,e)}}function S7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fi(t,e))return;r.uniform4uiv(this.addr,e),mi(t,e)}}function w7(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n);let a;this.type===r.SAMPLER_2D_SHADOW?(vB.compareFunction=SE,a=vB):a=yO,t.setTexture2D(e||a,n)}function M7(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture3D(e||xO,n)}function E7(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTextureCube(e||bO,n)}function C7(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture2DArray(e||_O,n)}function T7(r){switch(r){case 5126:return c7;case 35664:return u7;case 35665:return h7;case 35666:return d7;case 35674:return p7;case 35675:return f7;case 35676:return m7;case 5124:case 35670:return g7;case 35667:case 35671:return v7;case 35668:case 35672:return y7;case 35669:case 35673:return _7;case 5125:return x7;case 36294:return b7;case 36295:return A7;case 36296:return S7;case 35678:case 36198:case 36298:case 36306:case 35682:return w7;case 35679:case 36299:case 36307:return M7;case 35680:case 36300:case 36308:case 36293:return E7;case 36289:case 36303:case 36311:case 36292:return C7}}function R7(r,e){r.uniform1fv(this.addr,e)}function P7(r,e){const t=$d(e,this.size,2);r.uniform2fv(this.addr,t)}function B7(r,e){const t=$d(e,this.size,3);r.uniform3fv(this.addr,t)}function I7(r,e){const t=$d(e,this.size,4);r.uniform4fv(this.addr,t)}function D7(r,e){const t=$d(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function L7(r,e){const t=$d(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function F7(r,e){const t=$d(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function k7(r,e){r.uniform1iv(this.addr,e)}function O7(r,e){r.uniform2iv(this.addr,e)}function N7(r,e){r.uniform3iv(this.addr,e)}function U7(r,e){r.uniform4iv(this.addr,e)}function z7(r,e){r.uniform1uiv(this.addr,e)}function G7(r,e){r.uniform2uiv(this.addr,e)}function H7(r,e){r.uniform3uiv(this.addr,e)}function V7(r,e){r.uniform4uiv(this.addr,e)}function j7(r,e,t){const i=this.cache,n=e.length,a=O_(t,n);fi(i,a)||(r.uniform1iv(this.addr,a),mi(i,a));for(let s=0;s!==n;++s)t.setTexture2D(e[s]||yO,a[s])}function W7(r,e,t){const i=this.cache,n=e.length,a=O_(t,n);fi(i,a)||(r.uniform1iv(this.addr,a),mi(i,a));for(let s=0;s!==n;++s)t.setTexture3D(e[s]||xO,a[s])}function X7(r,e,t){const i=this.cache,n=e.length,a=O_(t,n);fi(i,a)||(r.uniform1iv(this.addr,a),mi(i,a));for(let s=0;s!==n;++s)t.setTextureCube(e[s]||bO,a[s])}function J7(r,e,t){const i=this.cache,n=e.length,a=O_(t,n);fi(i,a)||(r.uniform1iv(this.addr,a),mi(i,a));for(let s=0;s!==n;++s)t.setTexture2DArray(e[s]||_O,a[s])}function Y7(r){switch(r){case 5126:return R7;case 35664:return P7;case 35665:return B7;case 35666:return I7;case 35674:return D7;case 35675:return L7;case 35676:return F7;case 5124:case 35670:return k7;case 35667:case 35671:return O7;case 35668:case 35672:return N7;case 35669:case 35673:return U7;case 5125:return z7;case 36294:return G7;case 36295:return H7;case 36296:return V7;case 35678:case 36198:case 36298:case 36306:case 35682:return j7;case 35679:case 36299:case 36307:return W7;case 35680:case 36300:case 36308:case 36293:return X7;case 36289:case 36303:case 36311:case 36292:return J7}}class q7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=T7(t.type)}}class K7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Y7(t.type)}}class Z7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const n=this.seq;for(let a=0,s=n.length;a!==s;++a){const o=n[a];o.setValue(e,t[o.id],i)}}}const fA=/(\w+)(\])?(\[|\.)?/g;function SB(r,e){r.seq.push(e),r.map[e.id]=e}function Q7(r,e,t){const i=r.name,n=i.length;for(fA.lastIndex=0;;){const a=fA.exec(i),s=fA.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===n){SB(t,c===void 0?new q7(o,r,e):new K7(o,r,e));break}else{let h=t.map[o];h===void 0&&(h=new Z7(o),SB(t,h)),t=h}}}class Xv{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;++n){const a=e.getActiveUniform(t,n),s=e.getUniformLocation(t,a.name);Q7(a,s,this)}}setValue(e,t,i,n){const a=this.map[t];a!==void 0&&a.setValue(e,i,n)}setOptional(e,t,i){const n=t[i];n!==void 0&&this.setValue(e,i,n)}static upload(e,t,i,n){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,n)}}static seqWithValue(e,t){const i=[];for(let n=0,a=e.length;n!==a;++n){const s=e[n];s.id in t&&i.push(s)}return i}}function wB(r,e,t){const i=r.createShader(e);return r.shaderSource(i,t),r.compileShader(i),i}const $7=37297;let eX=0;function tX(r,e){const t=r.split(`
`),i=[],n=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=n;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return i.join(`
`)}const MB=new Bt;function rX(r){Zt._getMatrix(MB,Zt.workingColorSpace,r);const e=`mat3( ${MB.elements.map(t=>t.toFixed(4))} )`;switch(Zt.getTransfer(r)){case mm:return[e,"LinearTransferOETF"];case lr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",r),[e,"LinearTransferOETF"]}}function EB(r,e,t){const i=r.getShaderParameter(e,r.COMPILE_STATUS),n=r.getShaderInfoLog(e).trim();if(i&&n==="")return"";const a=/ERROR: 0:(\d+)/.exec(n);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+n+`

`+tX(r.getShaderSource(e),s)}else return n}function iX(r,e){const t=rX(e);return[`vec4 ${r}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function nX(r,e){let t;switch(e){case tk:t="Linear";break;case rk:t="Reinhard";break;case ik:t="Cineon";break;case hE:t="ACESFilmic";break;case ak:t="AgX";break;case sk:t="Neutral";break;case nk:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const uv=new N;function aX(){Zt.getLuminanceCoefficients(uv);const r=uv.x.toFixed(4),e=uv.y.toFixed(4),t=uv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function sX(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(rf).join(`
`)}function oX(r){const e=[];for(const t in r){const i=r[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function lX(r,e){const t={},i=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const a=r.getActiveAttrib(e,n),s=a.name;let o=1;a.type===r.FLOAT_MAT2&&(o=2),a.type===r.FLOAT_MAT3&&(o=3),a.type===r.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:r.getAttribLocation(e,s),locationSize:o}}return t}function rf(r){return r!==""}function CB(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function TB(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cX=/^[ \t]*#include +<([\w\d./]+)>/gm;function pw(r){return r.replace(cX,hX)}const uX=new Map;function hX(r,e){let t=Ft[e];if(t===void 0){const i=uX.get(e);if(i!==void 0)t=Ft[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return pw(t)}const dX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function RB(r){return r.replace(dX,pX)}function pX(r,e,t,i){let n="";for(let a=parseInt(e);a<parseInt(t);a++)n+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return n}function PB(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fX(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===s_?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===bf?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===cs&&(e="SHADOWMAP_TYPE_VSM"),e}function mX(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Go:case Vl:e="ENVMAP_TYPE_CUBE";break;case Yd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function gX(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Vl:e="ENVMAP_MODE_REFRACTION";break}return e}function vX(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case Wm:e="ENVMAP_BLENDING_MULTIPLY";break;case $F:e="ENVMAP_BLENDING_MIX";break;case ek:e="ENVMAP_BLENDING_ADD";break}return e}function yX(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function _X(r,e,t,i){const n=r.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=fX(t),c=mX(t),h=gX(t),p=vX(t),f=yX(t),m=sX(t),g=oX(a),x=n.createProgram();let _,v,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(rf).join(`
`),_.length>0&&(_+=`
`),v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(rf).join(`
`),v.length>0&&(v+=`
`)):(_=[PB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rf).join(`
`),v=[PB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==js?"#define TONE_MAPPING":"",t.toneMapping!==js?Ft.tonemapping_pars_fragment:"",t.toneMapping!==js?nX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ft.colorspace_pars_fragment,iX("linearToOutputTexel",t.outputColorSpace),aX(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(rf).join(`
`)),s=pw(s),s=CB(s,t),s=TB(s,t),o=pw(o),o=CB(o,t),o=TB(o,t),s=RB(s),o=RB(o),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,_=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,v=["#define varying in",t.glslVersion===nw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===nw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const A=b+_+s,w=b+v+o,T=wB(n,n.VERTEX_SHADER,A),E=wB(n,n.FRAGMENT_SHADER,w);n.attachShader(x,T),n.attachShader(x,E),t.index0AttributeName!==void 0?n.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&n.bindAttribLocation(x,0,"position"),n.linkProgram(x);function B(D){if(r.debug.checkShaderErrors){const V=n.getProgramInfoLog(x).trim(),j=n.getShaderInfoLog(T).trim(),Z=n.getShaderInfoLog(E).trim();let Q=!0,X=!0;if(n.getProgramParameter(x,n.LINK_STATUS)===!1)if(Q=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(n,x,T,E);else{const ie=EB(n,T,"vertex"),O=EB(n,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(x,n.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+V+`
`+ie+`
`+O)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(j===""||Z==="")&&(X=!1);X&&(D.diagnostics={runnable:Q,programLog:V,vertexShader:{log:j,prefix:_},fragmentShader:{log:Z,prefix:v}})}n.deleteShader(T),n.deleteShader(E),I=new Xv(n,x),C=lX(n,x)}let I;this.getUniforms=function(){return I===void 0&&B(this),I};let C;this.getAttributes=function(){return C===void 0&&B(this),C};let R=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=n.getProgramParameter(x,$7)),R},this.destroy=function(){i.releaseStatesOfProgram(this),n.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=eX++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=T,this.fragmentShader=E,this}let xX=0;class bX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,n=this._getShaderStage(t),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(n)===!1&&(s.add(n),n.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new AX(e),t.set(e,i)),i}}class AX{constructor(e){this.id=xX++,this.code=e,this.usedTimes=0}}function SX(r,e,t,i,n,a,s){const o=new uu,l=new bX,c=new Set,h=[],p=n.logarithmicDepthBuffer,f=n.vertexTextures;let m=n.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(C){return c.add(C),C===0?"uv":`uv${C}`}function _(C,R,D,V,j){const Z=V.fog,Q=j.geometry,X=C.isMeshStandardMaterial?V.environment:null,ie=(C.isMeshStandardMaterial?t:e).get(C.envMap||X),O=ie&&ie.mapping===Yd?ie.image.height:null,F=g[C.type];C.precision!==null&&(m=n.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const q=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,pe=q!==void 0?q.length:0;let we=0;Q.morphAttributes.position!==void 0&&(we=1),Q.morphAttributes.normal!==void 0&&(we=2),Q.morphAttributes.color!==void 0&&(we=3);let Le,se,ye,Se;if(F){const nt=ds[F];Le=nt.vertexShader,se=nt.fragmentShader}else Le=C.vertexShader,se=C.fragmentShader,l.update(C),ye=l.getVertexShaderID(C),Se=l.getFragmentShaderID(C);const Ee=r.getRenderTarget(),je=r.state.buffers.depth.getReversed(),it=j.isInstancedMesh===!0,Ne=j.isBatchedMesh===!0,ue=!!C.map,oe=!!C.matcap,xe=!!ie,z=!!C.aoMap,ke=!!C.lightMap,Y=!!C.bumpMap,Ue=!!C.normalMap,Fe=!!C.displacementMap,ut=!!C.emissiveMap,Te=!!C.metalnessMap,U=!!C.roughnessMap,L=C.anisotropy>0,ee=C.clearcoat>0,me=C.dispersion>0,Ae=C.iridescence>0,de=C.sheen>0,Ve=C.transmission>0,ze=L&&!!C.anisotropyMap,We=ee&&!!C.clearcoatMap,wt=ee&&!!C.clearcoatNormalMap,Me=ee&&!!C.clearcoatRoughnessMap,tt=Ae&&!!C.iridescenceMap,ct=Ae&&!!C.iridescenceThicknessMap,pt=de&&!!C.sheenColorMap,H=de&&!!C.sheenRoughnessMap,ge=!!C.specularMap,Pe=!!C.specularColorMap,Ie=!!C.specularIntensityMap,J=Ve&&!!C.transmissionMap,Be=Ve&&!!C.thicknessMap,ce=!!C.gradientMap,be=!!C.alphaMap,Ge=C.alphaTest>0,De=!!C.alphaHash,yt=!!C.extensions;let Ht=js;C.toneMapped&&(Ee===null||Ee.isXRRenderTarget===!0)&&(Ht=r.toneMapping);const Re={shaderID:F,shaderType:C.type,shaderName:C.name,vertexShader:Le,fragmentShader:se,defines:C.defines,customVertexShaderID:ye,customFragmentShaderID:Se,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,batching:Ne,batchingColor:Ne&&j._colorsTexture!==null,instancing:it,instancingColor:it&&j.instanceColor!==null,instancingMorph:it&&j.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:Ee===null?r.outputColorSpace:Ee.isXRRenderTarget===!0?Ee.texture.colorSpace:Cu,alphaToCoverage:!!C.alphaToCoverage,map:ue,matcap:oe,envMap:xe,envMapMode:xe&&ie.mapping,envMapCubeUVHeight:O,aoMap:z,lightMap:ke,bumpMap:Y,normalMap:Ue,displacementMap:f&&Fe,emissiveMap:ut,normalMapObjectSpace:Ue&&C.normalMapType===fk,normalMapTangentSpace:Ue&&C.normalMapType===ec,metalnessMap:Te,roughnessMap:U,anisotropy:L,anisotropyMap:ze,clearcoat:ee,clearcoatMap:We,clearcoatNormalMap:wt,clearcoatRoughnessMap:Me,dispersion:me,iridescence:Ae,iridescenceMap:tt,iridescenceThicknessMap:ct,sheen:de,sheenColorMap:pt,sheenRoughnessMap:H,specularMap:ge,specularColorMap:Pe,specularIntensityMap:Ie,transmission:Ve,transmissionMap:J,thicknessMap:Be,gradientMap:ce,opaque:C.transparent===!1&&C.blending===su&&C.alphaToCoverage===!1,alphaMap:be,alphaTest:Ge,alphaHash:De,combine:C.combine,mapUv:ue&&x(C.map.channel),aoMapUv:z&&x(C.aoMap.channel),lightMapUv:ke&&x(C.lightMap.channel),bumpMapUv:Y&&x(C.bumpMap.channel),normalMapUv:Ue&&x(C.normalMap.channel),displacementMapUv:Fe&&x(C.displacementMap.channel),emissiveMapUv:ut&&x(C.emissiveMap.channel),metalnessMapUv:Te&&x(C.metalnessMap.channel),roughnessMapUv:U&&x(C.roughnessMap.channel),anisotropyMapUv:ze&&x(C.anisotropyMap.channel),clearcoatMapUv:We&&x(C.clearcoatMap.channel),clearcoatNormalMapUv:wt&&x(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Me&&x(C.clearcoatRoughnessMap.channel),iridescenceMapUv:tt&&x(C.iridescenceMap.channel),iridescenceThicknessMapUv:ct&&x(C.iridescenceThicknessMap.channel),sheenColorMapUv:pt&&x(C.sheenColorMap.channel),sheenRoughnessMapUv:H&&x(C.sheenRoughnessMap.channel),specularMapUv:ge&&x(C.specularMap.channel),specularColorMapUv:Pe&&x(C.specularColorMap.channel),specularIntensityMapUv:Ie&&x(C.specularIntensityMap.channel),transmissionMapUv:J&&x(C.transmissionMap.channel),thicknessMapUv:Be&&x(C.thicknessMap.channel),alphaMapUv:be&&x(C.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ue||L),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!Q.attributes.uv&&(ue||be),fog:!!Z,useFog:C.fog===!0,fogExp2:!!Z&&Z.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:je,skinning:j.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:pe,morphTextureStride:we,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:r.shadowMap.enabled&&D.length>0,shadowMapType:r.shadowMap.type,toneMapping:Ht,decodeVideoTexture:ue&&C.map.isVideoTexture===!0&&Zt.getTransfer(C.map.colorSpace)===lr,decodeVideoTextureEmissive:ut&&C.emissiveMap.isVideoTexture===!0&&Zt.getTransfer(C.emissiveMap.colorSpace)===lr,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===ja,flipSided:C.side===Sn,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:yt&&C.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(yt&&C.extensions.multiDraw===!0||Ne)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return Re.vertexUv1s=c.has(1),Re.vertexUv2s=c.has(2),Re.vertexUv3s=c.has(3),c.clear(),Re}function v(C){const R=[];if(C.shaderID?R.push(C.shaderID):(R.push(C.customVertexShaderID),R.push(C.customFragmentShaderID)),C.defines!==void 0)for(const D in C.defines)R.push(D),R.push(C.defines[D]);return C.isRawShaderMaterial===!1&&(b(R,C),A(R,C),R.push(r.outputColorSpace)),R.push(C.customProgramCacheKey),R.join()}function b(C,R){C.push(R.precision),C.push(R.outputColorSpace),C.push(R.envMapMode),C.push(R.envMapCubeUVHeight),C.push(R.mapUv),C.push(R.alphaMapUv),C.push(R.lightMapUv),C.push(R.aoMapUv),C.push(R.bumpMapUv),C.push(R.normalMapUv),C.push(R.displacementMapUv),C.push(R.emissiveMapUv),C.push(R.metalnessMapUv),C.push(R.roughnessMapUv),C.push(R.anisotropyMapUv),C.push(R.clearcoatMapUv),C.push(R.clearcoatNormalMapUv),C.push(R.clearcoatRoughnessMapUv),C.push(R.iridescenceMapUv),C.push(R.iridescenceThicknessMapUv),C.push(R.sheenColorMapUv),C.push(R.sheenRoughnessMapUv),C.push(R.specularMapUv),C.push(R.specularColorMapUv),C.push(R.specularIntensityMapUv),C.push(R.transmissionMapUv),C.push(R.thicknessMapUv),C.push(R.combine),C.push(R.fogExp2),C.push(R.sizeAttenuation),C.push(R.morphTargetsCount),C.push(R.morphAttributeCount),C.push(R.numDirLights),C.push(R.numPointLights),C.push(R.numSpotLights),C.push(R.numSpotLightMaps),C.push(R.numHemiLights),C.push(R.numRectAreaLights),C.push(R.numDirLightShadows),C.push(R.numPointLightShadows),C.push(R.numSpotLightShadows),C.push(R.numSpotLightShadowsWithMaps),C.push(R.numLightProbes),C.push(R.shadowMapType),C.push(R.toneMapping),C.push(R.numClippingPlanes),C.push(R.numClipIntersection),C.push(R.depthPacking)}function A(C,R){o.disableAll(),R.supportsVertexTextures&&o.enable(0),R.instancing&&o.enable(1),R.instancingColor&&o.enable(2),R.instancingMorph&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),R.alphaHash&&o.enable(18),R.batching&&o.enable(19),R.dispersion&&o.enable(20),R.batchingColor&&o.enable(21),C.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.reverseDepthBuffer&&o.enable(4),R.skinning&&o.enable(5),R.morphTargets&&o.enable(6),R.morphNormals&&o.enable(7),R.morphColors&&o.enable(8),R.premultipliedAlpha&&o.enable(9),R.shadowMapEnabled&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),R.decodeVideoTextureEmissive&&o.enable(20),R.alphaToCoverage&&o.enable(21),C.push(o.mask)}function w(C){const R=g[C.type];let D;if(R){const V=ds[R];D=Tk.clone(V.uniforms)}else D=C.uniforms;return D}function T(C,R){let D;for(let V=0,j=h.length;V<j;V++){const Z=h[V];if(Z.cacheKey===R){D=Z,++D.usedTimes;break}}return D===void 0&&(D=new _X(r,R,C,a),h.push(D)),D}function E(C){if(--C.usedTimes===0){const R=h.indexOf(C);h[R]=h[h.length-1],h.pop(),C.destroy()}}function B(C){l.remove(C)}function I(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:w,acquireProgram:T,releaseProgram:E,releaseShaderCache:B,programs:h,dispose:I}}function wX(){let r=new WeakMap;function e(s){return r.has(s)}function t(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function i(s){r.delete(s)}function n(s,o,l){r.get(s)[o]=l}function a(){r=new WeakMap}return{has:e,get:t,remove:i,update:n,dispose:a}}function MX(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function BB(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function IB(){const r=[];let e=0;const t=[],i=[],n=[];function a(){e=0,t.length=0,i.length=0,n.length=0}function s(p,f,m,g,x,_){let v=r[e];return v===void 0?(v={id:p.id,object:p,geometry:f,material:m,groupOrder:g,renderOrder:p.renderOrder,z:x,group:_},r[e]=v):(v.id=p.id,v.object=p,v.geometry=f,v.material=m,v.groupOrder=g,v.renderOrder=p.renderOrder,v.z=x,v.group=_),e++,v}function o(p,f,m,g,x,_){const v=s(p,f,m,g,x,_);m.transmission>0?i.push(v):m.transparent===!0?n.push(v):t.push(v)}function l(p,f,m,g,x,_){const v=s(p,f,m,g,x,_);m.transmission>0?i.unshift(v):m.transparent===!0?n.unshift(v):t.unshift(v)}function c(p,f){t.length>1&&t.sort(p||MX),i.length>1&&i.sort(f||BB),n.length>1&&n.sort(f||BB)}function h(){for(let p=e,f=r.length;p<f;p++){const m=r[p];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:n,init:a,push:o,unshift:l,finish:h,sort:c}}function EX(){let r=new WeakMap;function e(i,n){const a=r.get(i);let s;return a===void 0?(s=new IB,r.set(i,[s])):n>=a.length?(s=new IB,a.push(s)):s=a[n],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function CX(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new Qe};break;case"SpotLight":t={position:new N,direction:new N,color:new Qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new Qe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new Qe,groundColor:new Qe};break;case"RectAreaLight":t={color:new Qe,position:new N,halfWidth:new N,halfHeight:new N};break}return r[e.id]=t,t}}}function TX(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let RX=0;function PX(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function BX(r){const e=new CX,t=TX(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new N);const n=new N,a=new vt,s=new vt;function o(c){let h=0,p=0,f=0;for(let C=0;C<9;C++)i.probe[C].set(0,0,0);let m=0,g=0,x=0,_=0,v=0,b=0,A=0,w=0,T=0,E=0,B=0;c.sort(PX);for(let C=0,R=c.length;C<R;C++){const D=c[C],V=D.color,j=D.intensity,Z=D.distance,Q=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)h+=V.r*j,p+=V.g*j,f+=V.b*j;else if(D.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(D.sh.coefficients[X],j);B++}else if(D.isDirectionalLight){const X=e.get(D);if(X.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const ie=D.shadow,O=t.get(D);O.shadowIntensity=ie.intensity,O.shadowBias=ie.bias,O.shadowNormalBias=ie.normalBias,O.shadowRadius=ie.radius,O.shadowMapSize=ie.mapSize,i.directionalShadow[m]=O,i.directionalShadowMap[m]=Q,i.directionalShadowMatrix[m]=D.shadow.matrix,b++}i.directional[m]=X,m++}else if(D.isSpotLight){const X=e.get(D);X.position.setFromMatrixPosition(D.matrixWorld),X.color.copy(V).multiplyScalar(j),X.distance=Z,X.coneCos=Math.cos(D.angle),X.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),X.decay=D.decay,i.spot[x]=X;const ie=D.shadow;if(D.map&&(i.spotLightMap[T]=D.map,T++,ie.updateMatrices(D),D.castShadow&&E++),i.spotLightMatrix[x]=ie.matrix,D.castShadow){const O=t.get(D);O.shadowIntensity=ie.intensity,O.shadowBias=ie.bias,O.shadowNormalBias=ie.normalBias,O.shadowRadius=ie.radius,O.shadowMapSize=ie.mapSize,i.spotShadow[x]=O,i.spotShadowMap[x]=Q,w++}x++}else if(D.isRectAreaLight){const X=e.get(D);X.color.copy(V).multiplyScalar(j),X.halfWidth.set(D.width*.5,0,0),X.halfHeight.set(0,D.height*.5,0),i.rectArea[_]=X,_++}else if(D.isPointLight){const X=e.get(D);if(X.color.copy(D.color).multiplyScalar(D.intensity),X.distance=D.distance,X.decay=D.decay,D.castShadow){const ie=D.shadow,O=t.get(D);O.shadowIntensity=ie.intensity,O.shadowBias=ie.bias,O.shadowNormalBias=ie.normalBias,O.shadowRadius=ie.radius,O.shadowMapSize=ie.mapSize,O.shadowCameraNear=ie.camera.near,O.shadowCameraFar=ie.camera.far,i.pointShadow[g]=O,i.pointShadowMap[g]=Q,i.pointShadowMatrix[g]=D.shadow.matrix,A++}i.point[g]=X,g++}else if(D.isHemisphereLight){const X=e.get(D);X.skyColor.copy(D.color).multiplyScalar(j),X.groundColor.copy(D.groundColor).multiplyScalar(j),i.hemi[v]=X,v++}}_>0&&(r.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ze.LTC_FLOAT_1,i.rectAreaLTC2=Ze.LTC_FLOAT_2):(i.rectAreaLTC1=Ze.LTC_HALF_1,i.rectAreaLTC2=Ze.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=f;const I=i.hash;(I.directionalLength!==m||I.pointLength!==g||I.spotLength!==x||I.rectAreaLength!==_||I.hemiLength!==v||I.numDirectionalShadows!==b||I.numPointShadows!==A||I.numSpotShadows!==w||I.numSpotMaps!==T||I.numLightProbes!==B)&&(i.directional.length=m,i.spot.length=x,i.rectArea.length=_,i.point.length=g,i.hemi.length=v,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=w+T-E,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=E,i.numLightProbes=B,I.directionalLength=m,I.pointLength=g,I.spotLength=x,I.rectAreaLength=_,I.hemiLength=v,I.numDirectionalShadows=b,I.numPointShadows=A,I.numSpotShadows=w,I.numSpotMaps=T,I.numLightProbes=B,i.version=RX++)}function l(c,h){let p=0,f=0,m=0,g=0,x=0;const _=h.matrixWorldInverse;for(let v=0,b=c.length;v<b;v++){const A=c[v];if(A.isDirectionalLight){const w=i.directional[p];w.direction.setFromMatrixPosition(A.matrixWorld),n.setFromMatrixPosition(A.target.matrixWorld),w.direction.sub(n),w.direction.transformDirection(_),p++}else if(A.isSpotLight){const w=i.spot[m];w.position.setFromMatrixPosition(A.matrixWorld),w.position.applyMatrix4(_),w.direction.setFromMatrixPosition(A.matrixWorld),n.setFromMatrixPosition(A.target.matrixWorld),w.direction.sub(n),w.direction.transformDirection(_),m++}else if(A.isRectAreaLight){const w=i.rectArea[g];w.position.setFromMatrixPosition(A.matrixWorld),w.position.applyMatrix4(_),s.identity(),a.copy(A.matrixWorld),a.premultiply(_),s.extractRotation(a),w.halfWidth.set(A.width*.5,0,0),w.halfHeight.set(0,A.height*.5,0),w.halfWidth.applyMatrix4(s),w.halfHeight.applyMatrix4(s),g++}else if(A.isPointLight){const w=i.point[f];w.position.setFromMatrixPosition(A.matrixWorld),w.position.applyMatrix4(_),f++}else if(A.isHemisphereLight){const w=i.hemi[x];w.direction.setFromMatrixPosition(A.matrixWorld),w.direction.transformDirection(_),x++}}}return{setup:o,setupView:l,state:i}}function DB(r){const e=new BX(r),t=[],i=[];function n(h){c.camera=h,t.length=0,i.length=0}function a(h){t.push(h)}function s(h){i.push(h)}function o(){e.setup(t)}function l(h){e.setupView(t,h)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:n,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function IX(r){let e=new WeakMap;function t(n,a=0){const s=e.get(n);let o;return s===void 0?(o=new DB(r),e.set(n,[o])):a>=s.length?(o=new DB(r),s.push(o)):o=s[a],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const DX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,LX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function FX(r,e,t){let i=new Qm;const n=new _e,a=new _e,s=new $t,o=new HE({depthPacking:pk}),l=new VE,c={},h=t.maxTextureSize,p={[Ks]:Sn,[Sn]:Ks,[ja]:ja},f=new bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:DX,fragmentShader:LX}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const g=new It;g.setAttribute("position",new tr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Kr(g,f),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s_;let v=this.type;this.render=function(E,B,I){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const C=r.getRenderTarget(),R=r.getActiveCubeFace(),D=r.getActiveMipmapLevel(),V=r.state;V.setBlending(Bo),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const j=v!==cs&&this.type===cs,Z=v===cs&&this.type!==cs;for(let Q=0,X=E.length;Q<X;Q++){const ie=E[Q],O=ie.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;n.copy(O.mapSize);const F=O.getFrameExtents();if(n.multiply(F),a.copy(O.mapSize),(n.x>h||n.y>h)&&(n.x>h&&(a.x=Math.floor(h/F.x),n.x=a.x*F.x,O.mapSize.x=a.x),n.y>h&&(a.y=Math.floor(h/F.y),n.y=a.y*F.y,O.mapSize.y=a.y)),O.map===null||j===!0||Z===!0){const pe=this.type!==cs?{minFilter:Mi,magFilter:Mi}:{};O.map!==null&&O.map.dispose(),O.map=new Zs(n.x,n.y,pe),O.map.texture.name=ie.name+".shadowMap",O.camera.updateProjectionMatrix()}r.setRenderTarget(O.map),r.clear();const q=O.getViewportCount();for(let pe=0;pe<q;pe++){const we=O.getViewport(pe);s.set(a.x*we.x,a.y*we.y,a.x*we.z,a.y*we.w),V.viewport(s),O.updateMatrices(ie,pe),i=O.getFrustum(),w(B,I,O.camera,ie,this.type)}O.isPointLightShadow!==!0&&this.type===cs&&b(O,I),O.needsUpdate=!1}v=this.type,_.needsUpdate=!1,r.setRenderTarget(C,R,D)};function b(E,B){const I=e.update(x);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Zs(n.x,n.y)),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,r.setRenderTarget(E.mapPass),r.clear(),r.renderBufferDirect(B,null,I,f,x,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,r.setRenderTarget(E.map),r.clear(),r.renderBufferDirect(B,null,I,m,x,null)}function A(E,B,I,C){let R=null;const D=I.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(D!==void 0)R=D;else if(R=I.isPointLight===!0?l:o,r.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0){const V=R.uuid,j=B.uuid;let Z=c[V];Z===void 0&&(Z={},c[V]=Z);let Q=Z[j];Q===void 0&&(Q=R.clone(),Z[j]=Q,B.addEventListener("dispose",T)),R=Q}if(R.visible=B.visible,R.wireframe=B.wireframe,C===cs?R.side=B.shadowSide!==null?B.shadowSide:B.side:R.side=B.shadowSide!==null?B.shadowSide:p[B.side],R.alphaMap=B.alphaMap,R.alphaTest=B.alphaTest,R.map=B.map,R.clipShadows=B.clipShadows,R.clippingPlanes=B.clippingPlanes,R.clipIntersection=B.clipIntersection,R.displacementMap=B.displacementMap,R.displacementScale=B.displacementScale,R.displacementBias=B.displacementBias,R.wireframeLinewidth=B.wireframeLinewidth,R.linewidth=B.linewidth,I.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const V=r.properties.get(R);V.light=I}return R}function w(E,B,I,C,R){if(E.visible===!1)return;if(E.layers.test(B.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&R===cs)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,E.matrixWorld);const V=e.update(E),j=E.material;if(Array.isArray(j)){const Z=V.groups;for(let Q=0,X=Z.length;Q<X;Q++){const ie=Z[Q],O=j[ie.materialIndex];if(O&&O.visible){const F=A(E,O,C,R);E.onBeforeShadow(r,E,B,I,V,F,ie),r.renderBufferDirect(I,null,V,F,E,ie),E.onAfterShadow(r,E,B,I,V,F,ie)}}}else if(j.visible){const Z=A(E,j,C,R);E.onBeforeShadow(r,E,B,I,V,Z,null),r.renderBufferDirect(I,null,V,Z,E,null),E.onAfterShadow(r,E,B,I,V,Z,null)}}const D=E.children;for(let V=0,j=D.length;V<j;V++)w(D[V],B,I,C,R)}function T(E){E.target.removeEventListener("dispose",T);for(const B in c){const I=c[B],C=E.target.uuid;C in I&&(I[C].dispose(),delete I[C])}}}const kX={[Dy]:Ly,[Fy]:Ny,[ky]:Uy,[wu]:Oy,[Ly]:Dy,[Ny]:Fy,[Uy]:ky,[Oy]:wu};function OX(r,e){function t(){let J=!1;const Be=new $t;let ce=null;const be=new $t(0,0,0,0);return{setMask:function(Ge){ce!==Ge&&!J&&(r.colorMask(Ge,Ge,Ge,Ge),ce=Ge)},setLocked:function(Ge){J=Ge},setClear:function(Ge,De,yt,Ht,Re){Re===!0&&(Ge*=Ht,De*=Ht,yt*=Ht),Be.set(Ge,De,yt,Ht),be.equals(Be)===!1&&(r.clearColor(Ge,De,yt,Ht),be.copy(Be))},reset:function(){J=!1,ce=null,be.set(-1,0,0,0)}}}function i(){let J=!1,Be=!1,ce=null,be=null,Ge=null;return{setReversed:function(De){if(Be!==De){const yt=e.get("EXT_clip_control");Be?yt.clipControlEXT(yt.LOWER_LEFT_EXT,yt.ZERO_TO_ONE_EXT):yt.clipControlEXT(yt.LOWER_LEFT_EXT,yt.NEGATIVE_ONE_TO_ONE_EXT);const Ht=Ge;Ge=null,this.setClear(Ht)}Be=De},getReversed:function(){return Be},setTest:function(De){De?Ee(r.DEPTH_TEST):je(r.DEPTH_TEST)},setMask:function(De){ce!==De&&!J&&(r.depthMask(De),ce=De)},setFunc:function(De){if(Be&&(De=kX[De]),be!==De){switch(De){case Dy:r.depthFunc(r.NEVER);break;case Ly:r.depthFunc(r.ALWAYS);break;case Fy:r.depthFunc(r.LESS);break;case wu:r.depthFunc(r.LEQUAL);break;case ky:r.depthFunc(r.EQUAL);break;case Oy:r.depthFunc(r.GEQUAL);break;case Ny:r.depthFunc(r.GREATER);break;case Uy:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}be=De}},setLocked:function(De){J=De},setClear:function(De){Ge!==De&&(Be&&(De=1-De),r.clearDepth(De),Ge=De)},reset:function(){J=!1,ce=null,be=null,Ge=null,Be=!1}}}function n(){let J=!1,Be=null,ce=null,be=null,Ge=null,De=null,yt=null,Ht=null,Re=null;return{setTest:function(nt){J||(nt?Ee(r.STENCIL_TEST):je(r.STENCIL_TEST))},setMask:function(nt){Be!==nt&&!J&&(r.stencilMask(nt),Be=nt)},setFunc:function(nt,Xt,Xe){(ce!==nt||be!==Xt||Ge!==Xe)&&(r.stencilFunc(nt,Xt,Xe),ce=nt,be=Xt,Ge=Xe)},setOp:function(nt,Xt,Xe){(De!==nt||yt!==Xt||Ht!==Xe)&&(r.stencilOp(nt,Xt,Xe),De=nt,yt=Xt,Ht=Xe)},setLocked:function(nt){J=nt},setClear:function(nt){Re!==nt&&(r.clearStencil(nt),Re=nt)},reset:function(){J=!1,Be=null,ce=null,be=null,Ge=null,De=null,yt=null,Ht=null,Re=null}}}const a=new t,s=new i,o=new n,l=new WeakMap,c=new WeakMap;let h={},p={},f=new WeakMap,m=[],g=null,x=!1,_=null,v=null,b=null,A=null,w=null,T=null,E=null,B=new Qe(0,0,0),I=0,C=!1,R=null,D=null,V=null,j=null,Z=null;const Q=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,ie=0;const O=r.getParameter(r.VERSION);O.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(O)[1]),X=ie>=1):O.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),X=ie>=2);let F=null,q={};const pe=r.getParameter(r.SCISSOR_BOX),we=r.getParameter(r.VIEWPORT),Le=new $t().fromArray(pe),se=new $t().fromArray(we);function ye(J,Be,ce,be){const Ge=new Uint8Array(4),De=r.createTexture();r.bindTexture(J,De),r.texParameteri(J,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(J,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let yt=0;yt<ce;yt++)J===r.TEXTURE_3D||J===r.TEXTURE_2D_ARRAY?r.texImage3D(Be,0,r.RGBA,1,1,be,0,r.RGBA,r.UNSIGNED_BYTE,Ge):r.texImage2D(Be+yt,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,Ge);return De}const Se={};Se[r.TEXTURE_2D]=ye(r.TEXTURE_2D,r.TEXTURE_2D,1),Se[r.TEXTURE_CUBE_MAP]=ye(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),Se[r.TEXTURE_2D_ARRAY]=ye(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),Se[r.TEXTURE_3D]=ye(r.TEXTURE_3D,r.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Ee(r.DEPTH_TEST),s.setFunc(wu),Y(!1),Ue(QS),Ee(r.CULL_FACE),z(Bo);function Ee(J){h[J]!==!0&&(r.enable(J),h[J]=!0)}function je(J){h[J]!==!1&&(r.disable(J),h[J]=!1)}function it(J,Be){return p[J]!==Be?(r.bindFramebuffer(J,Be),p[J]=Be,J===r.DRAW_FRAMEBUFFER&&(p[r.FRAMEBUFFER]=Be),J===r.FRAMEBUFFER&&(p[r.DRAW_FRAMEBUFFER]=Be),!0):!1}function Ne(J,Be){let ce=m,be=!1;if(J){ce=f.get(Be),ce===void 0&&(ce=[],f.set(Be,ce));const Ge=J.textures;if(ce.length!==Ge.length||ce[0]!==r.COLOR_ATTACHMENT0){for(let De=0,yt=Ge.length;De<yt;De++)ce[De]=r.COLOR_ATTACHMENT0+De;ce.length=Ge.length,be=!0}}else ce[0]!==r.BACK&&(ce[0]=r.BACK,be=!0);be&&r.drawBuffers(ce)}function ue(J){return g!==J?(r.useProgram(J),g=J,!0):!1}const oe={[xl]:r.FUNC_ADD,[kF]:r.FUNC_SUBTRACT,[OF]:r.FUNC_REVERSE_SUBTRACT};oe[NF]=r.MIN,oe[UF]=r.MAX;const xe={[zF]:r.ZERO,[GF]:r.ONE,[HF]:r.SRC_COLOR,[By]:r.SRC_ALPHA,[YF]:r.SRC_ALPHA_SATURATE,[XF]:r.DST_COLOR,[jF]:r.DST_ALPHA,[VF]:r.ONE_MINUS_SRC_COLOR,[Iy]:r.ONE_MINUS_SRC_ALPHA,[JF]:r.ONE_MINUS_DST_COLOR,[WF]:r.ONE_MINUS_DST_ALPHA,[qF]:r.CONSTANT_COLOR,[KF]:r.ONE_MINUS_CONSTANT_COLOR,[ZF]:r.CONSTANT_ALPHA,[QF]:r.ONE_MINUS_CONSTANT_ALPHA};function z(J,Be,ce,be,Ge,De,yt,Ht,Re,nt){if(J===Bo){x===!0&&(je(r.BLEND),x=!1);return}if(x===!1&&(Ee(r.BLEND),x=!0),J!==FF){if(J!==_||nt!==C){if((v!==xl||w!==xl)&&(r.blendEquation(r.FUNC_ADD),v=xl,w=xl),nt)switch(J){case su:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case $S:r.blendFunc(r.ONE,r.ONE);break;case ew:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case tw:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case su:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case $S:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case ew:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case tw:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}b=null,A=null,T=null,E=null,B.set(0,0,0),I=0,_=J,C=nt}return}Ge=Ge||Be,De=De||ce,yt=yt||be,(Be!==v||Ge!==w)&&(r.blendEquationSeparate(oe[Be],oe[Ge]),v=Be,w=Ge),(ce!==b||be!==A||De!==T||yt!==E)&&(r.blendFuncSeparate(xe[ce],xe[be],xe[De],xe[yt]),b=ce,A=be,T=De,E=yt),(Ht.equals(B)===!1||Re!==I)&&(r.blendColor(Ht.r,Ht.g,Ht.b,Re),B.copy(Ht),I=Re),_=J,C=!1}function ke(J,Be){J.side===ja?je(r.CULL_FACE):Ee(r.CULL_FACE);let ce=J.side===Sn;Be&&(ce=!ce),Y(ce),J.blending===su&&J.transparent===!1?z(Bo):z(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.blendColor,J.blendAlpha,J.premultipliedAlpha),s.setFunc(J.depthFunc),s.setTest(J.depthTest),s.setMask(J.depthWrite),a.setMask(J.colorWrite);const be=J.stencilWrite;o.setTest(be),be&&(o.setMask(J.stencilWriteMask),o.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),o.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),ut(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?Ee(r.SAMPLE_ALPHA_TO_COVERAGE):je(r.SAMPLE_ALPHA_TO_COVERAGE)}function Y(J){R!==J&&(J?r.frontFace(r.CW):r.frontFace(r.CCW),R=J)}function Ue(J){J!==IF?(Ee(r.CULL_FACE),J!==D&&(J===QS?r.cullFace(r.BACK):J===DF?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):je(r.CULL_FACE),D=J}function Fe(J){J!==V&&(X&&r.lineWidth(J),V=J)}function ut(J,Be,ce){J?(Ee(r.POLYGON_OFFSET_FILL),(j!==Be||Z!==ce)&&(r.polygonOffset(Be,ce),j=Be,Z=ce)):je(r.POLYGON_OFFSET_FILL)}function Te(J){J?Ee(r.SCISSOR_TEST):je(r.SCISSOR_TEST)}function U(J){J===void 0&&(J=r.TEXTURE0+Q-1),F!==J&&(r.activeTexture(J),F=J)}function L(J,Be,ce){ce===void 0&&(F===null?ce=r.TEXTURE0+Q-1:ce=F);let be=q[ce];be===void 0&&(be={type:void 0,texture:void 0},q[ce]=be),(be.type!==J||be.texture!==Be)&&(F!==ce&&(r.activeTexture(ce),F=ce),r.bindTexture(J,Be||Se[J]),be.type=J,be.texture=Be)}function ee(){const J=q[F];J!==void 0&&J.type!==void 0&&(r.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function me(){try{r.compressedTexImage2D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ae(){try{r.compressedTexImage3D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function de(){try{r.texSubImage2D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ve(){try{r.texSubImage3D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ze(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function We(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function wt(){try{r.texStorage2D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Me(){try{r.texStorage3D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function tt(){try{r.texImage2D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ct(){try{r.texImage3D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function pt(J){Le.equals(J)===!1&&(r.scissor(J.x,J.y,J.z,J.w),Le.copy(J))}function H(J){se.equals(J)===!1&&(r.viewport(J.x,J.y,J.z,J.w),se.copy(J))}function ge(J,Be){let ce=c.get(Be);ce===void 0&&(ce=new WeakMap,c.set(Be,ce));let be=ce.get(J);be===void 0&&(be=r.getUniformBlockIndex(Be,J.name),ce.set(J,be))}function Pe(J,Be){const ce=c.get(Be).get(J);l.get(Be)!==ce&&(r.uniformBlockBinding(Be,ce,J.__bindingPointIndex),l.set(Be,ce))}function Ie(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),s.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),h={},F=null,q={},p={},f=new WeakMap,m=[],g=null,x=!1,_=null,v=null,b=null,A=null,w=null,T=null,E=null,B=new Qe(0,0,0),I=0,C=!1,R=null,D=null,V=null,j=null,Z=null,Le.set(0,0,r.canvas.width,r.canvas.height),se.set(0,0,r.canvas.width,r.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:Ee,disable:je,bindFramebuffer:it,drawBuffers:Ne,useProgram:ue,setBlending:z,setMaterial:ke,setFlipSided:Y,setCullFace:Ue,setLineWidth:Fe,setPolygonOffset:ut,setScissorTest:Te,activeTexture:U,bindTexture:L,unbindTexture:ee,compressedTexImage2D:me,compressedTexImage3D:Ae,texImage2D:tt,texImage3D:ct,updateUBOMapping:ge,uniformBlockBinding:Pe,texStorage2D:wt,texStorage3D:Me,texSubImage2D:de,texSubImage3D:Ve,compressedTexSubImage2D:ze,compressedTexSubImage3D:We,scissor:pt,viewport:H,reset:Ie}}function NX(r,e,t,i,n,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new _e,h=new WeakMap;let p;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(U,L){return m?new OffscreenCanvas(U,L):ym("canvas")}function x(U,L,ee){let me=1;const Ae=Te(U);if((Ae.width>ee||Ae.height>ee)&&(me=ee/Math.max(Ae.width,Ae.height)),me<1)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap||typeof VideoFrame<"u"&&U instanceof VideoFrame){const de=Math.floor(me*Ae.width),Ve=Math.floor(me*Ae.height);p===void 0&&(p=g(de,Ve));const ze=L?g(de,Ve):p;return ze.width=de,ze.height=Ve,ze.getContext("2d").drawImage(U,0,0,de,Ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ae.width+"x"+Ae.height+") to ("+de+"x"+Ve+")."),ze}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ae.width+"x"+Ae.height+")."),U;return U}function _(U){return U.generateMipmaps}function v(U){r.generateMipmap(U)}function b(U){return U.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:U.isWebGL3DRenderTarget?r.TEXTURE_3D:U.isWebGLArrayRenderTarget||U.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function A(U,L,ee,me,Ae=!1){if(U!==null){if(r[U]!==void 0)return r[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let de=L;if(L===r.RED&&(ee===r.FLOAT&&(de=r.R32F),ee===r.HALF_FLOAT&&(de=r.R16F),ee===r.UNSIGNED_BYTE&&(de=r.R8)),L===r.RED_INTEGER&&(ee===r.UNSIGNED_BYTE&&(de=r.R8UI),ee===r.UNSIGNED_SHORT&&(de=r.R16UI),ee===r.UNSIGNED_INT&&(de=r.R32UI),ee===r.BYTE&&(de=r.R8I),ee===r.SHORT&&(de=r.R16I),ee===r.INT&&(de=r.R32I)),L===r.RG&&(ee===r.FLOAT&&(de=r.RG32F),ee===r.HALF_FLOAT&&(de=r.RG16F),ee===r.UNSIGNED_BYTE&&(de=r.RG8)),L===r.RG_INTEGER&&(ee===r.UNSIGNED_BYTE&&(de=r.RG8UI),ee===r.UNSIGNED_SHORT&&(de=r.RG16UI),ee===r.UNSIGNED_INT&&(de=r.RG32UI),ee===r.BYTE&&(de=r.RG8I),ee===r.SHORT&&(de=r.RG16I),ee===r.INT&&(de=r.RG32I)),L===r.RGB_INTEGER&&(ee===r.UNSIGNED_BYTE&&(de=r.RGB8UI),ee===r.UNSIGNED_SHORT&&(de=r.RGB16UI),ee===r.UNSIGNED_INT&&(de=r.RGB32UI),ee===r.BYTE&&(de=r.RGB8I),ee===r.SHORT&&(de=r.RGB16I),ee===r.INT&&(de=r.RGB32I)),L===r.RGBA_INTEGER&&(ee===r.UNSIGNED_BYTE&&(de=r.RGBA8UI),ee===r.UNSIGNED_SHORT&&(de=r.RGBA16UI),ee===r.UNSIGNED_INT&&(de=r.RGBA32UI),ee===r.BYTE&&(de=r.RGBA8I),ee===r.SHORT&&(de=r.RGBA16I),ee===r.INT&&(de=r.RGBA32I)),L===r.RGB&&ee===r.UNSIGNED_INT_5_9_9_9_REV&&(de=r.RGB9_E5),L===r.RGBA){const Ve=Ae?mm:Zt.getTransfer(me);ee===r.FLOAT&&(de=r.RGBA32F),ee===r.HALF_FLOAT&&(de=r.RGBA16F),ee===r.UNSIGNED_BYTE&&(de=Ve===lr?r.SRGB8_ALPHA8:r.RGBA8),ee===r.UNSIGNED_SHORT_4_4_4_4&&(de=r.RGBA4),ee===r.UNSIGNED_SHORT_5_5_5_1&&(de=r.RGB5_A1)}return(de===r.R16F||de===r.R32F||de===r.RG16F||de===r.RG32F||de===r.RGBA16F||de===r.RGBA32F)&&e.get("EXT_color_buffer_float"),de}function w(U,L){let ee;return U?L===null||L===Ho||L===Mu?ee=r.DEPTH24_STENCIL8:L===zn?ee=r.DEPTH32F_STENCIL8:L===Cd&&(ee=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):L===null||L===Ho||L===Mu?ee=r.DEPTH_COMPONENT24:L===zn?ee=r.DEPTH_COMPONENT32F:L===Cd&&(ee=r.DEPTH_COMPONENT16),ee}function T(U,L){return _(U)===!0||U.isFramebufferTexture&&U.minFilter!==Mi&&U.minFilter!==qr?Math.log2(Math.max(L.width,L.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?L.mipmaps.length:1}function E(U){const L=U.target;L.removeEventListener("dispose",E),I(L),L.isVideoTexture&&h.delete(L)}function B(U){const L=U.target;L.removeEventListener("dispose",B),R(L)}function I(U){const L=i.get(U);if(L.__webglInit===void 0)return;const ee=U.source,me=f.get(ee);if(me){const Ae=me[L.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&C(U),Object.keys(me).length===0&&f.delete(ee)}i.remove(U)}function C(U){const L=i.get(U);r.deleteTexture(L.__webglTexture);const ee=U.source,me=f.get(ee);delete me[L.__cacheKey],s.memory.textures--}function R(U){const L=i.get(U);if(U.depthTexture&&(U.depthTexture.dispose(),i.remove(U.depthTexture)),U.isWebGLCubeRenderTarget)for(let me=0;me<6;me++){if(Array.isArray(L.__webglFramebuffer[me]))for(let Ae=0;Ae<L.__webglFramebuffer[me].length;Ae++)r.deleteFramebuffer(L.__webglFramebuffer[me][Ae]);else r.deleteFramebuffer(L.__webglFramebuffer[me]);L.__webglDepthbuffer&&r.deleteRenderbuffer(L.__webglDepthbuffer[me])}else{if(Array.isArray(L.__webglFramebuffer))for(let me=0;me<L.__webglFramebuffer.length;me++)r.deleteFramebuffer(L.__webglFramebuffer[me]);else r.deleteFramebuffer(L.__webglFramebuffer);if(L.__webglDepthbuffer&&r.deleteRenderbuffer(L.__webglDepthbuffer),L.__webglMultisampledFramebuffer&&r.deleteFramebuffer(L.__webglMultisampledFramebuffer),L.__webglColorRenderbuffer)for(let me=0;me<L.__webglColorRenderbuffer.length;me++)L.__webglColorRenderbuffer[me]&&r.deleteRenderbuffer(L.__webglColorRenderbuffer[me]);L.__webglDepthRenderbuffer&&r.deleteRenderbuffer(L.__webglDepthRenderbuffer)}const ee=U.textures;for(let me=0,Ae=ee.length;me<Ae;me++){const de=i.get(ee[me]);de.__webglTexture&&(r.deleteTexture(de.__webglTexture),s.memory.textures--),i.remove(ee[me])}i.remove(U)}let D=0;function V(){D=0}function j(){const U=D;return U>=n.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+n.maxTextures),D+=1,U}function Z(U){const L=[];return L.push(U.wrapS),L.push(U.wrapT),L.push(U.wrapR||0),L.push(U.magFilter),L.push(U.minFilter),L.push(U.anisotropy),L.push(U.internalFormat),L.push(U.format),L.push(U.type),L.push(U.generateMipmaps),L.push(U.premultiplyAlpha),L.push(U.flipY),L.push(U.unpackAlignment),L.push(U.colorSpace),L.join()}function Q(U,L){const ee=i.get(U);if(U.isVideoTexture&&Fe(U),U.isRenderTargetTexture===!1&&U.version>0&&ee.__version!==U.version){const me=U.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(ee,U,L);return}}t.bindTexture(r.TEXTURE_2D,ee.__webglTexture,r.TEXTURE0+L)}function X(U,L){const ee=i.get(U);if(U.version>0&&ee.__version!==U.version){se(ee,U,L);return}t.bindTexture(r.TEXTURE_2D_ARRAY,ee.__webglTexture,r.TEXTURE0+L)}function ie(U,L){const ee=i.get(U);if(U.version>0&&ee.__version!==U.version){se(ee,U,L);return}t.bindTexture(r.TEXTURE_3D,ee.__webglTexture,r.TEXTURE0+L)}function O(U,L){const ee=i.get(U);if(U.version>0&&ee.__version!==U.version){ye(ee,U,L);return}t.bindTexture(r.TEXTURE_CUBE_MAP,ee.__webglTexture,r.TEXTURE0+L)}const F={[jl]:r.REPEAT,[ua]:r.CLAMP_TO_EDGE,[Ed]:r.MIRRORED_REPEAT},q={[Mi]:r.NEAREST,[l_]:r.NEAREST_MIPMAP_NEAREST,[Yc]:r.NEAREST_MIPMAP_LINEAR,[qr]:r.LINEAR,[cd]:r.LINEAR_MIPMAP_NEAREST,[Xa]:r.LINEAR_MIPMAP_LINEAR},pe={[mk]:r.NEVER,[bk]:r.ALWAYS,[gk]:r.LESS,[SE]:r.LEQUAL,[vk]:r.EQUAL,[xk]:r.GEQUAL,[yk]:r.GREATER,[_k]:r.NOTEQUAL};function we(U,L){if(L.type===zn&&e.has("OES_texture_float_linear")===!1&&(L.magFilter===qr||L.magFilter===cd||L.magFilter===Yc||L.magFilter===Xa||L.minFilter===qr||L.minFilter===cd||L.minFilter===Yc||L.minFilter===Xa)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(U,r.TEXTURE_WRAP_S,F[L.wrapS]),r.texParameteri(U,r.TEXTURE_WRAP_T,F[L.wrapT]),(U===r.TEXTURE_3D||U===r.TEXTURE_2D_ARRAY)&&r.texParameteri(U,r.TEXTURE_WRAP_R,F[L.wrapR]),r.texParameteri(U,r.TEXTURE_MAG_FILTER,q[L.magFilter]),r.texParameteri(U,r.TEXTURE_MIN_FILTER,q[L.minFilter]),L.compareFunction&&(r.texParameteri(U,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(U,r.TEXTURE_COMPARE_FUNC,pe[L.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(L.magFilter===Mi||L.minFilter!==Yc&&L.minFilter!==Xa||L.type===zn&&e.has("OES_texture_float_linear")===!1)return;if(L.anisotropy>1||i.get(L).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");r.texParameterf(U,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,n.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy}}}function Le(U,L){let ee=!1;U.__webglInit===void 0&&(U.__webglInit=!0,L.addEventListener("dispose",E));const me=L.source;let Ae=f.get(me);Ae===void 0&&(Ae={},f.set(me,Ae));const de=Z(L);if(de!==U.__cacheKey){Ae[de]===void 0&&(Ae[de]={texture:r.createTexture(),usedTimes:0},s.memory.textures++,ee=!0),Ae[de].usedTimes++;const Ve=Ae[U.__cacheKey];Ve!==void 0&&(Ae[U.__cacheKey].usedTimes--,Ve.usedTimes===0&&C(L)),U.__cacheKey=de,U.__webglTexture=Ae[de].texture}return ee}function se(U,L,ee){let me=r.TEXTURE_2D;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(me=r.TEXTURE_2D_ARRAY),L.isData3DTexture&&(me=r.TEXTURE_3D);const Ae=Le(U,L),de=L.source;t.bindTexture(me,U.__webglTexture,r.TEXTURE0+ee);const Ve=i.get(de);if(de.version!==Ve.__version||Ae===!0){t.activeTexture(r.TEXTURE0+ee);const ze=Zt.getPrimaries(Zt.workingColorSpace),We=L.colorSpace===bo?null:Zt.getPrimaries(L.colorSpace),wt=L.colorSpace===bo||ze===We?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,L.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,L.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);let Me=x(L.image,!1,n.maxTextureSize);Me=ut(L,Me);const tt=a.convert(L.format,L.colorSpace),ct=a.convert(L.type);let pt=A(L.internalFormat,tt,ct,L.colorSpace,L.isVideoTexture);we(me,L);let H;const ge=L.mipmaps,Pe=L.isVideoTexture!==!0,Ie=Ve.__version===void 0||Ae===!0,J=de.dataReady,Be=T(L,Me);if(L.isDepthTexture)pt=w(L.format===Eu,L.type),Ie&&(Pe?t.texStorage2D(r.TEXTURE_2D,1,pt,Me.width,Me.height):t.texImage2D(r.TEXTURE_2D,0,pt,Me.width,Me.height,0,tt,ct,null));else if(L.isDataTexture)if(ge.length>0){Pe&&Ie&&t.texStorage2D(r.TEXTURE_2D,Be,pt,ge[0].width,ge[0].height);for(let ce=0,be=ge.length;ce<be;ce++)H=ge[ce],Pe?J&&t.texSubImage2D(r.TEXTURE_2D,ce,0,0,H.width,H.height,tt,ct,H.data):t.texImage2D(r.TEXTURE_2D,ce,pt,H.width,H.height,0,tt,ct,H.data);L.generateMipmaps=!1}else Pe?(Ie&&t.texStorage2D(r.TEXTURE_2D,Be,pt,Me.width,Me.height),J&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,Me.width,Me.height,tt,ct,Me.data)):t.texImage2D(r.TEXTURE_2D,0,pt,Me.width,Me.height,0,tt,ct,Me.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){Pe&&Ie&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Be,pt,ge[0].width,ge[0].height,Me.depth);for(let ce=0,be=ge.length;ce<be;ce++)if(H=ge[ce],L.format!==en)if(tt!==null)if(Pe){if(J)if(L.layerUpdates.size>0){const Ge=hw(H.width,H.height,L.format,L.type);for(const De of L.layerUpdates){const yt=H.data.subarray(De*Ge/H.data.BYTES_PER_ELEMENT,(De+1)*Ge/H.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,ce,0,0,De,H.width,H.height,1,tt,yt)}L.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,ce,0,0,0,H.width,H.height,Me.depth,tt,H.data)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,ce,pt,H.width,H.height,Me.depth,0,H.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Pe?J&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,ce,0,0,0,H.width,H.height,Me.depth,tt,ct,H.data):t.texImage3D(r.TEXTURE_2D_ARRAY,ce,pt,H.width,H.height,Me.depth,0,tt,ct,H.data)}else{Pe&&Ie&&t.texStorage2D(r.TEXTURE_2D,Be,pt,ge[0].width,ge[0].height);for(let ce=0,be=ge.length;ce<be;ce++)H=ge[ce],L.format!==en?tt!==null?Pe?J&&t.compressedTexSubImage2D(r.TEXTURE_2D,ce,0,0,H.width,H.height,tt,H.data):t.compressedTexImage2D(r.TEXTURE_2D,ce,pt,H.width,H.height,0,H.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?J&&t.texSubImage2D(r.TEXTURE_2D,ce,0,0,H.width,H.height,tt,ct,H.data):t.texImage2D(r.TEXTURE_2D,ce,pt,H.width,H.height,0,tt,ct,H.data)}else if(L.isDataArrayTexture)if(Pe){if(Ie&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Be,pt,Me.width,Me.height,Me.depth),J)if(L.layerUpdates.size>0){const ce=hw(Me.width,Me.height,L.format,L.type);for(const be of L.layerUpdates){const Ge=Me.data.subarray(be*ce/Me.data.BYTES_PER_ELEMENT,(be+1)*ce/Me.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,be,Me.width,Me.height,1,tt,ct,Ge)}L.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,tt,ct,Me.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,pt,Me.width,Me.height,Me.depth,0,tt,ct,Me.data);else if(L.isData3DTexture)Pe?(Ie&&t.texStorage3D(r.TEXTURE_3D,Be,pt,Me.width,Me.height,Me.depth),J&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,tt,ct,Me.data)):t.texImage3D(r.TEXTURE_3D,0,pt,Me.width,Me.height,Me.depth,0,tt,ct,Me.data);else if(L.isFramebufferTexture){if(Ie)if(Pe)t.texStorage2D(r.TEXTURE_2D,Be,pt,Me.width,Me.height);else{let ce=Me.width,be=Me.height;for(let Ge=0;Ge<Be;Ge++)t.texImage2D(r.TEXTURE_2D,Ge,pt,ce,be,0,tt,ct,null),ce>>=1,be>>=1}}else if(ge.length>0){if(Pe&&Ie){const ce=Te(ge[0]);t.texStorage2D(r.TEXTURE_2D,Be,pt,ce.width,ce.height)}for(let ce=0,be=ge.length;ce<be;ce++)H=ge[ce],Pe?J&&t.texSubImage2D(r.TEXTURE_2D,ce,0,0,tt,ct,H):t.texImage2D(r.TEXTURE_2D,ce,pt,tt,ct,H);L.generateMipmaps=!1}else if(Pe){if(Ie){const ce=Te(Me);t.texStorage2D(r.TEXTURE_2D,Be,pt,ce.width,ce.height)}J&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,tt,ct,Me)}else t.texImage2D(r.TEXTURE_2D,0,pt,tt,ct,Me);_(L)&&v(me),Ve.__version=de.version,L.onUpdate&&L.onUpdate(L)}U.__version=L.version}function ye(U,L,ee){if(L.image.length!==6)return;const me=Le(U,L),Ae=L.source;t.bindTexture(r.TEXTURE_CUBE_MAP,U.__webglTexture,r.TEXTURE0+ee);const de=i.get(Ae);if(Ae.version!==de.__version||me===!0){t.activeTexture(r.TEXTURE0+ee);const Ve=Zt.getPrimaries(Zt.workingColorSpace),ze=L.colorSpace===bo?null:Zt.getPrimaries(L.colorSpace),We=L.colorSpace===bo||Ve===ze?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,L.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,L.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,We);const wt=L.isCompressedTexture||L.image[0].isCompressedTexture,Me=L.image[0]&&L.image[0].isDataTexture,tt=[];for(let be=0;be<6;be++)!wt&&!Me?tt[be]=x(L.image[be],!0,n.maxCubemapSize):tt[be]=Me?L.image[be].image:L.image[be],tt[be]=ut(L,tt[be]);const ct=tt[0],pt=a.convert(L.format,L.colorSpace),H=a.convert(L.type),ge=A(L.internalFormat,pt,H,L.colorSpace),Pe=L.isVideoTexture!==!0,Ie=de.__version===void 0||me===!0,J=Ae.dataReady;let Be=T(L,ct);we(r.TEXTURE_CUBE_MAP,L);let ce;if(wt){Pe&&Ie&&t.texStorage2D(r.TEXTURE_CUBE_MAP,Be,ge,ct.width,ct.height);for(let be=0;be<6;be++){ce=tt[be].mipmaps;for(let Ge=0;Ge<ce.length;Ge++){const De=ce[Ge];L.format!==en?pt!==null?Pe?J&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge,0,0,De.width,De.height,pt,De.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge,ge,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pe?J&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge,0,0,De.width,De.height,pt,H,De.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge,ge,De.width,De.height,0,pt,H,De.data)}}}else{if(ce=L.mipmaps,Pe&&Ie){ce.length>0&&Be++;const be=Te(tt[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,Be,ge,be.width,be.height)}for(let be=0;be<6;be++)if(Me){Pe?J&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,tt[be].width,tt[be].height,pt,H,tt[be].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,ge,tt[be].width,tt[be].height,0,pt,H,tt[be].data);for(let Ge=0;Ge<ce.length;Ge++){const De=ce[Ge].image[be].image;Pe?J&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge+1,0,0,De.width,De.height,pt,H,De.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge+1,ge,De.width,De.height,0,pt,H,De.data)}}else{Pe?J&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,pt,H,tt[be]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,ge,pt,H,tt[be]);for(let Ge=0;Ge<ce.length;Ge++){const De=ce[Ge];Pe?J&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge+1,0,0,pt,H,De.image[be]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ge+1,ge,pt,H,De.image[be])}}}_(L)&&v(r.TEXTURE_CUBE_MAP),de.__version=Ae.version,L.onUpdate&&L.onUpdate(L)}U.__version=L.version}function Se(U,L,ee,me,Ae,de){const Ve=a.convert(ee.format,ee.colorSpace),ze=a.convert(ee.type),We=A(ee.internalFormat,Ve,ze,ee.colorSpace),wt=i.get(L),Me=i.get(ee);if(Me.__renderTarget=L,!wt.__hasExternalTextures){const tt=Math.max(1,L.width>>de),ct=Math.max(1,L.height>>de);Ae===r.TEXTURE_3D||Ae===r.TEXTURE_2D_ARRAY?t.texImage3D(Ae,de,We,tt,ct,L.depth,0,Ve,ze,null):t.texImage2D(Ae,de,We,tt,ct,0,Ve,ze,null)}t.bindFramebuffer(r.FRAMEBUFFER,U),Ue(L)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,me,Ae,Me.__webglTexture,0,Y(L)):(Ae===r.TEXTURE_2D||Ae>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,me,Ae,Me.__webglTexture,de),t.bindFramebuffer(r.FRAMEBUFFER,null)}function Ee(U,L,ee){if(r.bindRenderbuffer(r.RENDERBUFFER,U),L.depthBuffer){const me=L.depthTexture,Ae=me&&me.isDepthTexture?me.type:null,de=w(L.stencilBuffer,Ae),Ve=L.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,ze=Y(L);Ue(L)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,ze,de,L.width,L.height):ee?r.renderbufferStorageMultisample(r.RENDERBUFFER,ze,de,L.width,L.height):r.renderbufferStorage(r.RENDERBUFFER,de,L.width,L.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ve,r.RENDERBUFFER,U)}else{const me=L.textures;for(let Ae=0;Ae<me.length;Ae++){const de=me[Ae],Ve=a.convert(de.format,de.colorSpace),ze=a.convert(de.type),We=A(de.internalFormat,Ve,ze,de.colorSpace),wt=Y(L);ee&&Ue(L)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,wt,We,L.width,L.height):Ue(L)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,wt,We,L.width,L.height):r.renderbufferStorage(r.RENDERBUFFER,We,L.width,L.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function je(U,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,U),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ee=i.get(L.depthTexture);ee.__renderTarget=L,(!ee.__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),Q(L.depthTexture,0);const me=ee.__webglTexture,Ae=Y(L);if(L.depthTexture.format===ou)Ue(L)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,me,0,Ae):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,me,0);else if(L.depthTexture.format===Eu)Ue(L)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,me,0,Ae):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,me,0);else throw new Error("Unknown depthTexture format")}function it(U){const L=i.get(U),ee=U.isWebGLCubeRenderTarget===!0;if(L.__boundDepthTexture!==U.depthTexture){const me=U.depthTexture;if(L.__depthDisposeCallback&&L.__depthDisposeCallback(),me){const Ae=()=>{delete L.__boundDepthTexture,delete L.__depthDisposeCallback,me.removeEventListener("dispose",Ae)};me.addEventListener("dispose",Ae),L.__depthDisposeCallback=Ae}L.__boundDepthTexture=me}if(U.depthTexture&&!L.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");je(L.__webglFramebuffer,U)}else if(ee){L.__webglDepthbuffer=[];for(let me=0;me<6;me++)if(t.bindFramebuffer(r.FRAMEBUFFER,L.__webglFramebuffer[me]),L.__webglDepthbuffer[me]===void 0)L.__webglDepthbuffer[me]=r.createRenderbuffer(),Ee(L.__webglDepthbuffer[me],U,!1);else{const Ae=U.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,de=L.__webglDepthbuffer[me];r.bindRenderbuffer(r.RENDERBUFFER,de),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ae,r.RENDERBUFFER,de)}}else if(t.bindFramebuffer(r.FRAMEBUFFER,L.__webglFramebuffer),L.__webglDepthbuffer===void 0)L.__webglDepthbuffer=r.createRenderbuffer(),Ee(L.__webglDepthbuffer,U,!1);else{const me=U.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ae=L.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,Ae),r.framebufferRenderbuffer(r.FRAMEBUFFER,me,r.RENDERBUFFER,Ae)}t.bindFramebuffer(r.FRAMEBUFFER,null)}function Ne(U,L,ee){const me=i.get(U);L!==void 0&&Se(me.__webglFramebuffer,U,U.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),ee!==void 0&&it(U)}function ue(U){const L=U.texture,ee=i.get(U),me=i.get(L);U.addEventListener("dispose",B);const Ae=U.textures,de=U.isWebGLCubeRenderTarget===!0,Ve=Ae.length>1;if(Ve||(me.__webglTexture===void 0&&(me.__webglTexture=r.createTexture()),me.__version=L.version,s.memory.textures++),de){ee.__webglFramebuffer=[];for(let ze=0;ze<6;ze++)if(L.mipmaps&&L.mipmaps.length>0){ee.__webglFramebuffer[ze]=[];for(let We=0;We<L.mipmaps.length;We++)ee.__webglFramebuffer[ze][We]=r.createFramebuffer()}else ee.__webglFramebuffer[ze]=r.createFramebuffer()}else{if(L.mipmaps&&L.mipmaps.length>0){ee.__webglFramebuffer=[];for(let ze=0;ze<L.mipmaps.length;ze++)ee.__webglFramebuffer[ze]=r.createFramebuffer()}else ee.__webglFramebuffer=r.createFramebuffer();if(Ve)for(let ze=0,We=Ae.length;ze<We;ze++){const wt=i.get(Ae[ze]);wt.__webglTexture===void 0&&(wt.__webglTexture=r.createTexture(),s.memory.textures++)}if(U.samples>0&&Ue(U)===!1){ee.__webglMultisampledFramebuffer=r.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let ze=0;ze<Ae.length;ze++){const We=Ae[ze];ee.__webglColorRenderbuffer[ze]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,ee.__webglColorRenderbuffer[ze]);const wt=a.convert(We.format,We.colorSpace),Me=a.convert(We.type),tt=A(We.internalFormat,wt,Me,We.colorSpace,U.isXRRenderTarget===!0),ct=Y(U);r.renderbufferStorageMultisample(r.RENDERBUFFER,ct,tt,U.width,U.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+ze,r.RENDERBUFFER,ee.__webglColorRenderbuffer[ze])}r.bindRenderbuffer(r.RENDERBUFFER,null),U.depthBuffer&&(ee.__webglDepthRenderbuffer=r.createRenderbuffer(),Ee(ee.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(de){t.bindTexture(r.TEXTURE_CUBE_MAP,me.__webglTexture),we(r.TEXTURE_CUBE_MAP,L);for(let ze=0;ze<6;ze++)if(L.mipmaps&&L.mipmaps.length>0)for(let We=0;We<L.mipmaps.length;We++)Se(ee.__webglFramebuffer[ze][We],U,L,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+ze,We);else Se(ee.__webglFramebuffer[ze],U,L,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0);_(L)&&v(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ve){for(let ze=0,We=Ae.length;ze<We;ze++){const wt=Ae[ze],Me=i.get(wt);t.bindTexture(r.TEXTURE_2D,Me.__webglTexture),we(r.TEXTURE_2D,wt),Se(ee.__webglFramebuffer,U,wt,r.COLOR_ATTACHMENT0+ze,r.TEXTURE_2D,0),_(wt)&&v(r.TEXTURE_2D)}t.unbindTexture()}else{let ze=r.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(ze=U.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(ze,me.__webglTexture),we(ze,L),L.mipmaps&&L.mipmaps.length>0)for(let We=0;We<L.mipmaps.length;We++)Se(ee.__webglFramebuffer[We],U,L,r.COLOR_ATTACHMENT0,ze,We);else Se(ee.__webglFramebuffer,U,L,r.COLOR_ATTACHMENT0,ze,0);_(L)&&v(ze),t.unbindTexture()}U.depthBuffer&&it(U)}function oe(U){const L=U.textures;for(let ee=0,me=L.length;ee<me;ee++){const Ae=L[ee];if(_(Ae)){const de=b(U),Ve=i.get(Ae).__webglTexture;t.bindTexture(de,Ve),v(de),t.unbindTexture()}}}const xe=[],z=[];function ke(U){if(U.samples>0){if(Ue(U)===!1){const L=U.textures,ee=U.width,me=U.height;let Ae=r.COLOR_BUFFER_BIT;const de=U.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ve=i.get(U),ze=L.length>1;if(ze)for(let We=0;We<L.length;We++)t.bindFramebuffer(r.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+We,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Ve.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+We,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ve.__webglFramebuffer);for(let We=0;We<L.length;We++){if(U.resolveDepthBuffer&&(U.depthBuffer&&(Ae|=r.DEPTH_BUFFER_BIT),U.stencilBuffer&&U.resolveStencilBuffer&&(Ae|=r.STENCIL_BUFFER_BIT)),ze){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Ve.__webglColorRenderbuffer[We]);const wt=i.get(L[We]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,wt,0)}r.blitFramebuffer(0,0,ee,me,0,0,ee,me,Ae,r.NEAREST),l===!0&&(xe.length=0,z.length=0,xe.push(r.COLOR_ATTACHMENT0+We),U.depthBuffer&&U.resolveDepthBuffer===!1&&(xe.push(de),z.push(de),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,z)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,xe))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),ze)for(let We=0;We<L.length;We++){t.bindFramebuffer(r.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+We,r.RENDERBUFFER,Ve.__webglColorRenderbuffer[We]);const wt=i.get(L[We]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Ve.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+We,r.TEXTURE_2D,wt,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer)}else if(U.depthBuffer&&U.resolveDepthBuffer===!1&&l){const L=U.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[L])}}}function Y(U){return Math.min(n.maxSamples,U.samples)}function Ue(U){const L=i.get(U);return U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function Fe(U){const L=s.render.frame;h.get(U)!==L&&(h.set(U,L),U.update())}function ut(U,L){const ee=U.colorSpace,me=U.format,Ae=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||ee!==Cu&&ee!==bo&&(Zt.getTransfer(ee)===lr?(me!==en||Ae!==xs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),L}function Te(U){return typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement?(c.width=U.naturalWidth||U.width,c.height=U.naturalHeight||U.height):typeof VideoFrame<"u"&&U instanceof VideoFrame?(c.width=U.displayWidth,c.height=U.displayHeight):(c.width=U.width,c.height=U.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=V,this.setTexture2D=Q,this.setTexture2DArray=X,this.setTexture3D=ie,this.setTextureCube=O,this.rebindTextures=Ne,this.setupRenderTarget=ue,this.updateRenderTargetMipmap=oe,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=it,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=Ue}function AO(r,e){function t(i,n=bo){let a;const s=Zt.getTransfer(n);if(i===xs)return r.UNSIGNED_BYTE;if(i===u_)return r.UNSIGNED_SHORT_4_4_4_4;if(i===h_)return r.UNSIGNED_SHORT_5_5_5_1;if(i===fE)return r.UNSIGNED_INT_5_9_9_9_REV;if(i===dE)return r.BYTE;if(i===pE)return r.SHORT;if(i===Cd)return r.UNSIGNED_SHORT;if(i===c_)return r.INT;if(i===Ho)return r.UNSIGNED_INT;if(i===zn)return r.FLOAT;if(i===qd)return r.HALF_FLOAT;if(i===mE)return r.ALPHA;if(i===gE)return r.RGB;if(i===en)return r.RGBA;if(i===vE)return r.LUMINANCE;if(i===yE)return r.LUMINANCE_ALPHA;if(i===ou)return r.DEPTH_COMPONENT;if(i===Eu)return r.DEPTH_STENCIL;if(i===d_)return r.RED;if(i===Xm)return r.RED_INTEGER;if(i===_E)return r.RG;if(i===p_)return r.RG_INTEGER;if(i===f_)return r.RGBA_INTEGER;if(i===Af||i===Sf||i===wf||i===Mf)if(s===lr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Af)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Sf)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===wf)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Mf)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Af)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Sf)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===wf)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Mf)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===zy||i===Gy||i===Hy||i===Vy)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===zy)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Gy)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Hy)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Vy)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===jy||i===Wy||i===Xy)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===jy||i===Wy)return s===lr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===Xy)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Jy||i===Yy||i===qy||i===Ky||i===Zy||i===Qy||i===$y||i===e1||i===t1||i===r1||i===i1||i===n1||i===a1||i===s1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Jy)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Yy)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===qy)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Ky)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Zy)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Qy)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===$y)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===e1)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===t1)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===r1)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===i1)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===n1)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===a1)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===s1)return s===lr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ef||i===o1||i===l1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===Ef)return s===lr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===o1)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===l1)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===xE||i===c1||i===u1||i===h1)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===Ef)return a.COMPRESSED_RED_RGTC1_EXT;if(i===c1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===u1)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===h1)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Mu?r.UNSIGNED_INT_24_8:r[i]!==void 0?r[i]:null}return{convert:t}}const UX={type:"move"};class mA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Eo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Eo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Eo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let n=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const x of e.hand.values()){const _=t.getJointPose(x,i),v=this._getHandJoint(c,x);_!==null&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=_!==null}const h=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],f=h.position.distanceTo(p.position),m=.02,g=.005;c.inputState.pinching&&f>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(n=t.getPose(e.targetRaySpace,i),n===null&&a!==null&&(n=a),n!==null&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(UX)))}return o!==null&&(o.visible=n!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Eo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const zX=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,GX=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class HX{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const n=new Tr,a=e.properties.get(n);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new bs({vertexShader:zX,fragmentShader:GX,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Kr(new Zd(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class VX extends $s{constructor(e,t){super();const i=this;let n=null,a=1,s=null,o="local-floor",l=1,c=null,h=null,p=null,f=null,m=null,g=null;const x=new HX,_=t.getContextAttributes();let v=null,b=null;const A=[],w=[],T=new _e;let E=null;const B=new Er;B.viewport=new $t;const I=new Er;I.viewport=new $t;const C=[B,I],R=new hO;let D=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let ye=A[se];return ye===void 0&&(ye=new mA,A[se]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(se){let ye=A[se];return ye===void 0&&(ye=new mA,A[se]=ye),ye.getGripSpace()},this.getHand=function(se){let ye=A[se];return ye===void 0&&(ye=new mA,A[se]=ye),ye.getHandSpace()};function j(se){const ye=w.indexOf(se.inputSource);if(ye===-1)return;const Se=A[ye];Se!==void 0&&(Se.update(se.inputSource,se.frame,c||s),Se.dispatchEvent({type:se.type,data:se.inputSource}))}function Z(){n.removeEventListener("select",j),n.removeEventListener("selectstart",j),n.removeEventListener("selectend",j),n.removeEventListener("squeeze",j),n.removeEventListener("squeezestart",j),n.removeEventListener("squeezeend",j),n.removeEventListener("end",Z),n.removeEventListener("inputsourceschange",Q);for(let se=0;se<A.length;se++){const ye=w[se];ye!==null&&(w[se]=null,A[se].disconnect(ye))}D=null,V=null,x.reset(),e.setRenderTarget(v),m=null,f=null,p=null,n=null,b=null,Le.stop(),i.isPresenting=!1,e.setPixelRatio(E),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){a=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){o=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return p},this.getFrame=function(){return g},this.getSession=function(){return n},this.setSession=async function(se){if(n=se,n!==null){if(v=e.getRenderTarget(),n.addEventListener("select",j),n.addEventListener("selectstart",j),n.addEventListener("selectend",j),n.addEventListener("squeeze",j),n.addEventListener("squeezestart",j),n.addEventListener("squeezeend",j),n.addEventListener("end",Z),n.addEventListener("inputsourceschange",Q),_.xrCompatible!==!0&&await t.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(T),n.enabledFeatures!==void 0&&n.enabledFeatures.includes("layers")){let ye=null,Se=null,Ee=null;_.depth&&(Ee=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ye=_.stencil?Eu:ou,Se=_.stencil?Mu:Ho);const je={colorFormat:t.RGBA8,depthFormat:Ee,scaleFactor:a};p=new XRWebGLBinding(n,t),f=p.createProjectionLayer(je),n.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new Zs(f.textureWidth,f.textureHeight,{format:en,type:xs,depthTexture:new FE(f.textureWidth,f.textureHeight,Se,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}else{const ye={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:a};m=new XRWebGLLayer(n,t,ye),n.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),b=new Zs(m.framebufferWidth,m.framebufferHeight,{format:en,type:xs,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await n.requestReferenceSpace(o),Le.setContext(n),Le.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(n!==null)return n.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function Q(se){for(let ye=0;ye<se.removed.length;ye++){const Se=se.removed[ye],Ee=w.indexOf(Se);Ee>=0&&(w[Ee]=null,A[Ee].disconnect(Se))}for(let ye=0;ye<se.added.length;ye++){const Se=se.added[ye];let Ee=w.indexOf(Se);if(Ee===-1){for(let it=0;it<A.length;it++)if(it>=w.length){w.push(Se),Ee=it;break}else if(w[it]===null){w[it]=Se,Ee=it;break}if(Ee===-1)break}const je=A[Ee];je&&je.connect(Se)}}const X=new N,ie=new N;function O(se,ye,Se){X.setFromMatrixPosition(ye.matrixWorld),ie.setFromMatrixPosition(Se.matrixWorld);const Ee=X.distanceTo(ie),je=ye.projectionMatrix.elements,it=Se.projectionMatrix.elements,Ne=je[14]/(je[10]-1),ue=je[14]/(je[10]+1),oe=(je[9]+1)/je[5],xe=(je[9]-1)/je[5],z=(je[8]-1)/je[0],ke=(it[8]+1)/it[0],Y=Ne*z,Ue=Ne*ke,Fe=Ee/(-z+ke),ut=Fe*-z;if(ye.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(ut),se.translateZ(Fe),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),je[10]===-1)se.projectionMatrix.copy(ye.projectionMatrix),se.projectionMatrixInverse.copy(ye.projectionMatrixInverse);else{const Te=Ne+Fe,U=ue+Fe,L=Y-ut,ee=Ue+(Ee-ut),me=oe*ue/U*Te,Ae=xe*ue/U*Te;se.projectionMatrix.makePerspective(L,ee,me,Ae,Te,U),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function F(se,ye){ye===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(ye.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(n===null)return;let ye=se.near,Se=se.far;x.texture!==null&&(x.depthNear>0&&(ye=x.depthNear),x.depthFar>0&&(Se=x.depthFar)),R.near=I.near=B.near=ye,R.far=I.far=B.far=Se,(D!==R.near||V!==R.far)&&(n.updateRenderState({depthNear:R.near,depthFar:R.far}),D=R.near,V=R.far),B.layers.mask=se.layers.mask|2,I.layers.mask=se.layers.mask|4,R.layers.mask=B.layers.mask|I.layers.mask;const Ee=se.parent,je=R.cameras;F(R,Ee);for(let it=0;it<je.length;it++)F(je[it],Ee);je.length===2?O(R,B,I):R.projectionMatrix.copy(B.projectionMatrix),q(se,R,Ee)};function q(se,ye,Se){Se===null?se.matrix.copy(ye.matrixWorld):(se.matrix.copy(Se.matrixWorld),se.matrix.invert(),se.matrix.multiply(ye.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(ye.projectionMatrix),se.projectionMatrixInverse.copy(ye.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Pd*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(se){l=se,f!==null&&(f.fixedFoveation=se),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=se)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(R)};let pe=null;function we(se,ye){if(h=ye.getViewerPose(c||s),g=ye,h!==null){const Se=h.views;m!==null&&(e.setRenderTargetFramebuffer(b,m.framebuffer),e.setRenderTarget(b));let Ee=!1;Se.length!==R.cameras.length&&(R.cameras.length=0,Ee=!0);for(let it=0;it<Se.length;it++){const Ne=Se[it];let ue=null;if(m!==null)ue=m.getViewport(Ne);else{const xe=p.getViewSubImage(f,Ne);ue=xe.viewport,it===0&&(e.setRenderTargetTextures(b,xe.colorTexture,f.ignoreDepthValues?void 0:xe.depthStencilTexture),e.setRenderTarget(b))}let oe=C[it];oe===void 0&&(oe=new Er,oe.layers.enable(it),oe.viewport=new $t,C[it]=oe),oe.matrix.fromArray(Ne.transform.matrix),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.projectionMatrix.fromArray(Ne.projectionMatrix),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert(),oe.viewport.set(ue.x,ue.y,ue.width,ue.height),it===0&&(R.matrix.copy(oe.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Ee===!0&&R.cameras.push(oe)}const je=n.enabledFeatures;if(je&&je.includes("depth-sensing")){const it=p.getDepthInformation(Se[0]);it&&it.isValid&&it.texture&&x.init(e,it,n.renderState)}}for(let Se=0;Se<A.length;Se++){const Ee=w[Se],je=A[Se];Ee!==null&&je!==void 0&&je.update(Ee,ye,c||s)}pe&&pe(se,ye),ye.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ye}),g=null}const Le=new vO;Le.setAnimationLoop(we),this.setAnimationLoop=function(se){pe=se},this.dispose=function(){}}}const Ec=new va,jX=new vt;function WX(r,e){function t(_,v){_.matrixAutoUpdate===!0&&_.updateMatrix(),v.value.copy(_.matrix)}function i(_,v){v.color.getRGB(_.fogColor.value,Ck(r)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function n(_,v,b,A,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?a(_,v):v.isMeshToonMaterial?(a(_,v),p(_,v)):v.isMeshPhongMaterial?(a(_,v),h(_,v)):v.isMeshStandardMaterial?(a(_,v),f(_,v),v.isMeshPhysicalMaterial&&m(_,v,w)):v.isMeshMatcapMaterial?(a(_,v),g(_,v)):v.isMeshDepthMaterial?a(_,v):v.isMeshDistanceMaterial?(a(_,v),x(_,v)):v.isMeshNormalMaterial?a(_,v):v.isLineBasicMaterial?(s(_,v),v.isLineDashedMaterial&&o(_,v)):v.isPointsMaterial?l(_,v,b,A):v.isSpriteMaterial?c(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,t(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,v.side===Sn&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,t(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),v.side===Sn&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,t(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,t(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const b=e.get(v),A=b.envMap,w=b.envMapRotation;A&&(_.envMap.value=A,Ec.copy(w),Ec.x*=-1,Ec.y*=-1,Ec.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Ec.y*=-1,Ec.z*=-1),_.envMapRotation.value.setFromMatrix4(jX.makeRotationFromEuler(Ec)),_.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap&&(_.lightMap.value=v.lightMap,_.lightMapIntensity.value=v.lightMapIntensity,t(v.lightMap,_.lightMapTransform)),v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,_.aoMapTransform))}function s(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform))}function o(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function l(_,v,b,A){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*b,_.scale.value=A*.5,v.map&&(_.map.value=v.map,t(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function c(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function h(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function p(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function f(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,_.roughnessMapTransform)),v.envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function m(_,v,b){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Sn&&_.clearcoatNormalScale.value.negate())),v.dispersion>0&&(_.dispersion.value=v.dispersion),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=b.texture,_.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}function x(_,v){const b=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(b.matrixWorld),_.nearDistance.value=b.shadow.camera.near,_.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:n}}function XX(r,e,t,i){let n={},a={},s=[];const o=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,A){const w=A.program;i.uniformBlockBinding(b,w)}function c(b,A){let w=n[b.id];w===void 0&&(g(b),w=h(b),n[b.id]=w,b.addEventListener("dispose",_));const T=A.program;i.updateUBOMapping(b,T);const E=e.render.frame;a[b.id]!==E&&(f(b),a[b.id]=E)}function h(b){const A=p();b.__bindingPointIndex=A;const w=r.createBuffer(),T=b.__size,E=b.usage;return r.bindBuffer(r.UNIFORM_BUFFER,w),r.bufferData(r.UNIFORM_BUFFER,T,E),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,A,w),w}function p(){for(let b=0;b<o;b++)if(s.indexOf(b)===-1)return s.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const A=n[b.id],w=b.uniforms,T=b.__cache;r.bindBuffer(r.UNIFORM_BUFFER,A);for(let E=0,B=w.length;E<B;E++){const I=Array.isArray(w[E])?w[E]:[w[E]];for(let C=0,R=I.length;C<R;C++){const D=I[C];if(m(D,E,C,T)===!0){const V=D.__offset,j=Array.isArray(D.value)?D.value:[D.value];let Z=0;for(let Q=0;Q<j.length;Q++){const X=j[Q],ie=x(X);typeof X=="number"||typeof X=="boolean"?(D.__data[0]=X,r.bufferSubData(r.UNIFORM_BUFFER,V+Z,D.__data)):X.isMatrix3?(D.__data[0]=X.elements[0],D.__data[1]=X.elements[1],D.__data[2]=X.elements[2],D.__data[3]=0,D.__data[4]=X.elements[3],D.__data[5]=X.elements[4],D.__data[6]=X.elements[5],D.__data[7]=0,D.__data[8]=X.elements[6],D.__data[9]=X.elements[7],D.__data[10]=X.elements[8],D.__data[11]=0):(X.toArray(D.__data,Z),Z+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,V,D.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function m(b,A,w,T){const E=b.value,B=A+"_"+w;if(T[B]===void 0)return typeof E=="number"||typeof E=="boolean"?T[B]=E:T[B]=E.clone(),!0;{const I=T[B];if(typeof E=="number"||typeof E=="boolean"){if(I!==E)return T[B]=E,!0}else if(I.equals(E)===!1)return I.copy(E),!0}return!1}function g(b){const A=b.uniforms;let w=0;const T=16;for(let B=0,I=A.length;B<I;B++){const C=Array.isArray(A[B])?A[B]:[A[B]];for(let R=0,D=C.length;R<D;R++){const V=C[R],j=Array.isArray(V.value)?V.value:[V.value];for(let Z=0,Q=j.length;Z<Q;Z++){const X=j[Z],ie=x(X),O=w%T,F=O%ie.boundary,q=O+F;w+=F,q!==0&&T-q<ie.storage&&(w+=T-q),V.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=w,w+=ie.storage}}}const E=w%T;return E>0&&(w+=T-E),b.__size=w,b.__cache={},this}function x(b){const A={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(A.boundary=4,A.storage=4):b.isVector2?(A.boundary=8,A.storage=8):b.isVector3||b.isColor?(A.boundary=16,A.storage=12):b.isVector4?(A.boundary=16,A.storage=16):b.isMatrix3?(A.boundary=48,A.storage=48):b.isMatrix4?(A.boundary=64,A.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),A}function _(b){const A=b.target;A.removeEventListener("dispose",_);const w=s.indexOf(A.__bindingPointIndex);s.splice(w,1),r.deleteBuffer(n[A.id]),delete n[A.id],delete a[A.id]}function v(){for(const b in n)r.deleteBuffer(n[b]);s=[],n={},a={}}return{bind:l,update:c,dispose:v}}class SO{constructor(e={}){const{canvas:t=wk(),context:i=null,depth:n=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let m;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=i.getContextAttributes().alpha}else m=s;const g=new Uint32Array(4),x=new Int32Array(4);let _=null,v=null;const b=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=kn,this.toneMapping=js,this.toneMappingExposure=1;const w=this;let T=!1,E=0,B=0,I=null,C=-1,R=null;const D=new $t,V=new $t;let j=null;const Z=new Qe(0);let Q=0,X=t.width,ie=t.height,O=1,F=null,q=null;const pe=new $t(0,0,X,ie),we=new $t(0,0,X,ie);let Le=!1;const se=new Qm;let ye=!1,Se=!1;this.transmissionResolutionScale=1;const Ee=new vt,je=new vt,it=new N,Ne=new $t,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let oe=!1;function xe(){return I===null?O:1}let z=i;function ke(k,te){return t.getContext(k,te)}try{const k={alpha:!0,depth:n,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Jd}`),t.addEventListener("webglcontextlost",be,!1),t.addEventListener("webglcontextrestored",Ge,!1),t.addEventListener("webglcontextcreationerror",De,!1),z===null){const te="webgl2";if(z=ke(te,k),z===null)throw ke(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let Y,Ue,Fe,ut,Te,U,L,ee,me,Ae,de,Ve,ze,We,wt,Me,tt,ct,pt,H,ge,Pe,Ie,J;function Be(){Y=new i7(z),Y.init(),Pe=new AO(z,Y),Ue=new ZW(z,Y,e,Pe),Fe=new OX(z,Y),Ue.reverseDepthBuffer&&f&&Fe.buffers.depth.setReversed(!0),ut=new s7(z),Te=new wX,U=new NX(z,Y,Fe,Te,Ue,Pe,ut),L=new $W(w),ee=new r7(w),me=new p8(z),Ie=new qW(z,me),Ae=new n7(z,me,ut,Ie),de=new l7(z,Ae,me,ut),pt=new o7(z,Ue,U),Me=new QW(Te),Ve=new SX(w,L,ee,Y,Ue,Ie,Me),ze=new WX(w,Te),We=new EX,wt=new IX(Y),ct=new YW(w,L,ee,Fe,de,m,l),tt=new FX(w,de,Ue),J=new XX(z,ut,Ue,Fe),H=new KW(z,Y,ut),ge=new a7(z,Y,ut),ut.programs=Ve.programs,w.capabilities=Ue,w.extensions=Y,w.properties=Te,w.renderLists=We,w.shadowMap=tt,w.state=Fe,w.info=ut}Be();const ce=new VX(w,z);this.xr=ce,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const k=Y.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Y.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(k){k!==void 0&&(O=k,this.setSize(X,ie,!1))},this.getSize=function(k){return k.set(X,ie)},this.setSize=function(k,te,ae=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=k,ie=te,t.width=Math.floor(k*O),t.height=Math.floor(te*O),ae===!0&&(t.style.width=k+"px",t.style.height=te+"px"),this.setViewport(0,0,k,te)},this.getDrawingBufferSize=function(k){return k.set(X*O,ie*O).floor()},this.setDrawingBufferSize=function(k,te,ae){X=k,ie=te,O=ae,t.width=Math.floor(k*ae),t.height=Math.floor(te*ae),this.setViewport(0,0,k,te)},this.getCurrentViewport=function(k){return k.copy(D)},this.getViewport=function(k){return k.copy(pe)},this.setViewport=function(k,te,ae,ne){k.isVector4?pe.set(k.x,k.y,k.z,k.w):pe.set(k,te,ae,ne),Fe.viewport(D.copy(pe).multiplyScalar(O).round())},this.getScissor=function(k){return k.copy(we)},this.setScissor=function(k,te,ae,ne){k.isVector4?we.set(k.x,k.y,k.z,k.w):we.set(k,te,ae,ne),Fe.scissor(V.copy(we).multiplyScalar(O).round())},this.getScissorTest=function(){return Le},this.setScissorTest=function(k){Fe.setScissorTest(Le=k)},this.setOpaqueSort=function(k){F=k},this.setTransparentSort=function(k){q=k},this.getClearColor=function(k){return k.copy(ct.getClearColor())},this.setClearColor=function(){ct.setClearColor.apply(ct,arguments)},this.getClearAlpha=function(){return ct.getClearAlpha()},this.setClearAlpha=function(){ct.setClearAlpha.apply(ct,arguments)},this.clear=function(k=!0,te=!0,ae=!0){let ne=0;if(k){let K=!1;if(I!==null){const Ce=I.texture.format;K=Ce===f_||Ce===p_||Ce===Xm}if(K){const Ce=I.texture.type,et=Ce===xs||Ce===Ho||Ce===Cd||Ce===Mu||Ce===u_||Ce===h_,Je=ct.getClearColor(),Ye=ct.getClearAlpha(),dt=Je.r,Ke=Je.g,qe=Je.b;et?(g[0]=dt,g[1]=Ke,g[2]=qe,g[3]=Ye,z.clearBufferuiv(z.COLOR,0,g)):(x[0]=dt,x[1]=Ke,x[2]=qe,x[3]=Ye,z.clearBufferiv(z.COLOR,0,x))}else ne|=z.COLOR_BUFFER_BIT}te&&(ne|=z.DEPTH_BUFFER_BIT),ae&&(ne|=z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),z.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",be,!1),t.removeEventListener("webglcontextrestored",Ge,!1),t.removeEventListener("webglcontextcreationerror",De,!1),ct.dispose(),We.dispose(),wt.dispose(),Te.dispose(),L.dispose(),ee.dispose(),de.dispose(),Ie.dispose(),J.dispose(),Ve.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",Et),ce.removeEventListener("sessionend",gt),xt.stop()};function be(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Ge(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const k=ut.autoReset,te=tt.enabled,ae=tt.autoUpdate,ne=tt.needsUpdate,K=tt.type;Be(),ut.autoReset=k,tt.enabled=te,tt.autoUpdate=ae,tt.needsUpdate=ne,tt.type=K}function De(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function yt(k){const te=k.target;te.removeEventListener("dispose",yt),Ht(te)}function Ht(k){Re(k),Te.remove(k)}function Re(k){const te=Te.get(k).programs;te!==void 0&&(te.forEach(function(ae){Ve.releaseProgram(ae)}),k.isShaderMaterial&&Ve.releaseShaderCache(k))}this.renderBufferDirect=function(k,te,ae,ne,K,Ce){te===null&&(te=ue);const et=K.isMesh&&K.matrixWorld.determinant()<0,Je=hr(k,te,ae,ne,K);Fe.setMaterial(ne,et);let Ye=ae.index,dt=1;if(ne.wireframe===!0){if(Ye=Ae.getWireframeAttribute(ae),Ye===void 0)return;dt=2}const Ke=ae.drawRange,qe=ae.attributes.position;let Lt=Ke.start*dt,Mt=(Ke.start+Ke.count)*dt;Ce!==null&&(Lt=Math.max(Lt,Ce.start*dt),Mt=Math.min(Mt,(Ce.start+Ce.count)*dt)),Ye!==null?(Lt=Math.max(Lt,0),Mt=Math.min(Mt,Ye.count)):qe!=null&&(Lt=Math.max(Lt,0),Mt=Math.min(Mt,qe.count));const qt=Mt-Lt;if(qt<0||qt===1/0)return;Ie.setup(K,ne,Je,ae,Ye);let Wt,Qt=H;if(Ye!==null&&(Wt=me.get(Ye),Qt=ge,Qt.setIndex(Wt)),K.isMesh)ne.wireframe===!0?(Fe.setLineWidth(ne.wireframeLinewidth*xe()),Qt.setMode(z.LINES)):Qt.setMode(z.TRIANGLES);else if(K.isLine){let at=ne.linewidth;at===void 0&&(at=1),Fe.setLineWidth(at*xe()),K.isLineSegments?Qt.setMode(z.LINES):K.isLineLoop?Qt.setMode(z.LINE_LOOP):Qt.setMode(z.LINE_STRIP)}else K.isPoints?Qt.setMode(z.POINTS):K.isSprite&&Qt.setMode(z.TRIANGLES);if(K.isBatchedMesh)if(K._multiDrawInstances!==null)Qt.renderMultiDrawInstances(K._multiDrawStarts,K._multiDrawCounts,K._multiDrawCount,K._multiDrawInstances);else if(Y.get("WEBGL_multi_draw"))Qt.renderMultiDraw(K._multiDrawStarts,K._multiDrawCounts,K._multiDrawCount);else{const at=K._multiDrawStarts,$r=K._multiDrawCounts,Ms=K._multiDrawCount,Cn=Ye?me.get(Ye).bytesPerElement:1,es=Te.get(ne).currentProgram.getUniforms();for(let Ni=0;Ni<Ms;Ni++)es.setValue(z,"_gl_DrawID",Ni),Qt.render(at[Ni]/Cn,$r[Ni])}else if(K.isInstancedMesh)Qt.renderInstances(Lt,qt,K.count);else if(ae.isInstancedBufferGeometry){const at=ae._maxInstanceCount!==void 0?ae._maxInstanceCount:1/0,$r=Math.min(ae.instanceCount,at);Qt.renderInstances(Lt,qt,$r)}else Qt.render(Lt,qt)};function nt(k,te,ae){k.transparent===!0&&k.side===ja&&k.forceSinglePass===!1?(k.side=Sn,k.needsUpdate=!0,sr(k,te,ae),k.side=Ks,k.needsUpdate=!0,sr(k,te,ae),k.side=ja):sr(k,te,ae)}this.compile=function(k,te,ae=null){ae===null&&(ae=k),v=wt.get(ae),v.init(te),A.push(v),ae.traverseVisible(function(K){K.isLight&&K.layers.test(te.layers)&&(v.pushLight(K),K.castShadow&&v.pushShadow(K))}),k!==ae&&k.traverseVisible(function(K){K.isLight&&K.layers.test(te.layers)&&(v.pushLight(K),K.castShadow&&v.pushShadow(K))}),v.setupLights();const ne=new Set;return k.traverse(function(K){if(!(K.isMesh||K.isPoints||K.isLine||K.isSprite))return;const Ce=K.material;if(Ce)if(Array.isArray(Ce))for(let et=0;et<Ce.length;et++){const Je=Ce[et];nt(Je,ae,K),ne.add(Je)}else nt(Ce,ae,K),ne.add(Ce)}),A.pop(),v=null,ne},this.compileAsync=function(k,te,ae=null){const ne=this.compile(k,te,ae);return new Promise(K=>{function Ce(){if(ne.forEach(function(et){Te.get(et).currentProgram.isReady()&&ne.delete(et)}),ne.size===0){K(k);return}setTimeout(Ce,10)}Y.get("KHR_parallel_shader_compile")!==null?Ce():setTimeout(Ce,10)})};let Xt=null;function Xe(k){Xt&&Xt(k)}function Et(){xt.stop()}function gt(){xt.start()}const xt=new vO;xt.setAnimationLoop(Xe),typeof self<"u"&&xt.setContext(self),this.setAnimationLoop=function(k){Xt=k,ce.setAnimationLoop(k),k===null?xt.stop():xt.start()},ce.addEventListener("sessionstart",Et),ce.addEventListener("sessionend",gt),this.render=function(k,te){if(te!==void 0&&te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),te.parent===null&&te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(te),te=ce.getCamera()),k.isScene===!0&&k.onBeforeRender(w,k,te,I),v=wt.get(k,A.length),v.init(te),A.push(v),je.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),se.setFromProjectionMatrix(je),Se=this.localClippingEnabled,ye=Me.init(this.clippingPlanes,Se),_=We.get(k,b.length),_.init(),b.push(_),ce.enabled===!0&&ce.isPresenting===!0){const Ce=w.xr.getDepthSensingMesh();Ce!==null&&Ar(Ce,te,-1/0,w.sortObjects)}Ar(k,te,0,w.sortObjects),_.finish(),w.sortObjects===!0&&_.sort(F,q),oe=ce.enabled===!1||ce.isPresenting===!1||ce.hasDepthSensing()===!1,oe&&ct.addToRenderList(_,k),this.info.render.frame++,ye===!0&&Me.beginShadows();const ae=v.state.shadowsArray;tt.render(ae,k,te),ye===!0&&Me.endShadows(),this.info.autoReset===!0&&this.info.reset();const ne=_.opaque,K=_.transmissive;if(v.setupLights(),te.isArrayCamera){const Ce=te.cameras;if(K.length>0)for(let et=0,Je=Ce.length;et<Je;et++){const Ye=Ce[et];mr(ne,K,k,Ye)}oe&&ct.render(k);for(let et=0,Je=Ce.length;et<Je;et++){const Ye=Ce[et];Ct(_,k,Ye,Ye.viewport)}}else K.length>0&&mr(ne,K,k,te),oe&&ct.render(k),Ct(_,k,te);I!==null&&B===0&&(U.updateMultisampleRenderTarget(I),U.updateRenderTargetMipmap(I)),k.isScene===!0&&k.onAfterRender(w,k,te),Ie.resetDefaultState(),C=-1,R=null,A.pop(),A.length>0?(v=A[A.length-1],ye===!0&&Me.setGlobalState(w.clippingPlanes,v.state.camera)):v=null,b.pop(),b.length>0?_=b[b.length-1]:_=null};function Ar(k,te,ae,ne){if(k.visible===!1)return;if(k.layers.test(te.layers)){if(k.isGroup)ae=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(te);else if(k.isLight)v.pushLight(k),k.castShadow&&v.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||se.intersectsSprite(k)){ne&&Ne.setFromMatrixPosition(k.matrixWorld).applyMatrix4(je);const Ce=de.update(k),et=k.material;et.visible&&_.push(k,Ce,et,ae,Ne.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||se.intersectsObject(k))){const Ce=de.update(k),et=k.material;if(ne&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),Ne.copy(k.boundingSphere.center)):(Ce.boundingSphere===null&&Ce.computeBoundingSphere(),Ne.copy(Ce.boundingSphere.center)),Ne.applyMatrix4(k.matrixWorld).applyMatrix4(je)),Array.isArray(et)){const Je=Ce.groups;for(let Ye=0,dt=Je.length;Ye<dt;Ye++){const Ke=Je[Ye],qe=et[Ke.materialIndex];qe&&qe.visible&&_.push(k,Ce,qe,ae,Ne.z,Ke)}}else et.visible&&_.push(k,Ce,et,ae,Ne.z,null)}}const K=k.children;for(let Ce=0,et=K.length;Ce<et;Ce++)Ar(K[Ce],te,ae,ne)}function Ct(k,te,ae,ne){const K=k.opaque,Ce=k.transmissive,et=k.transparent;v.setupLightsView(ae),ye===!0&&Me.setGlobalState(w.clippingPlanes,ae),ne&&Fe.viewport(D.copy(ne)),K.length>0&&Rr(K,te,ae),Ce.length>0&&Rr(Ce,te,ae),et.length>0&&Rr(et,te,ae),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function mr(k,te,ae,ne){if((ae.isScene===!0?ae.overrideMaterial:null)!==null)return;v.state.transmissionRenderTarget[ne.id]===void 0&&(v.state.transmissionRenderTarget[ne.id]=new Zs(1,1,{generateMipmaps:!0,type:Y.has("EXT_color_buffer_half_float")||Y.has("EXT_color_buffer_float")?qd:xs,minFilter:Xa,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Zt.workingColorSpace}));const K=v.state.transmissionRenderTarget[ne.id],Ce=ne.viewport||D;K.setSize(Ce.z*w.transmissionResolutionScale,Ce.w*w.transmissionResolutionScale);const et=w.getRenderTarget();w.setRenderTarget(K),w.getClearColor(Z),Q=w.getClearAlpha(),Q<1&&w.setClearColor(16777215,.5),w.clear(),oe&&ct.render(ae);const Je=w.toneMapping;w.toneMapping=js;const Ye=ne.viewport;if(ne.viewport!==void 0&&(ne.viewport=void 0),v.setupLightsView(ne),ye===!0&&Me.setGlobalState(w.clippingPlanes,ne),Rr(k,ae,ne),U.updateMultisampleRenderTarget(K),U.updateRenderTargetMipmap(K),Y.has("WEBGL_multisampled_render_to_texture")===!1){let dt=!1;for(let Ke=0,qe=te.length;Ke<qe;Ke++){const Lt=te[Ke],Mt=Lt.object,qt=Lt.geometry,Wt=Lt.material,Qt=Lt.group;if(Wt.side===ja&&Mt.layers.test(ne.layers)){const at=Wt.side;Wt.side=Sn,Wt.needsUpdate=!0,ur(Mt,ae,ne,qt,Wt,Qt),Wt.side=at,Wt.needsUpdate=!0,dt=!0}}dt===!0&&(U.updateMultisampleRenderTarget(K),U.updateRenderTargetMipmap(K))}w.setRenderTarget(et),w.setClearColor(Z,Q),Ye!==void 0&&(ne.viewport=Ye),w.toneMapping=Je}function Rr(k,te,ae){const ne=te.isScene===!0?te.overrideMaterial:null;for(let K=0,Ce=k.length;K<Ce;K++){const et=k[K],Je=et.object,Ye=et.geometry,dt=ne===null?et.material:ne,Ke=et.group;Je.layers.test(ae.layers)&&ur(Je,te,ae,Ye,dt,Ke)}}function ur(k,te,ae,ne,K,Ce){k.onBeforeRender(w,te,ae,ne,K,Ce),k.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),K.onBeforeRender(w,te,ae,ne,k,Ce),K.transparent===!0&&K.side===ja&&K.forceSinglePass===!1?(K.side=Sn,K.needsUpdate=!0,w.renderBufferDirect(ae,te,ne,K,k,Ce),K.side=Ks,K.needsUpdate=!0,w.renderBufferDirect(ae,te,ne,K,k,Ce),K.side=ja):w.renderBufferDirect(ae,te,ne,K,k,Ce),k.onAfterRender(w,te,ae,ne,K,Ce)}function sr(k,te,ae){te.isScene!==!0&&(te=ue);const ne=Te.get(k),K=v.state.lights,Ce=v.state.shadowsArray,et=K.state.version,Je=Ve.getParameters(k,K.state,Ce,te,ae),Ye=Ve.getProgramCacheKey(Je);let dt=ne.programs;ne.environment=k.isMeshStandardMaterial?te.environment:null,ne.fog=te.fog,ne.envMap=(k.isMeshStandardMaterial?ee:L).get(k.envMap||ne.environment),ne.envMapRotation=ne.environment!==null&&k.envMap===null?te.environmentRotation:k.envMapRotation,dt===void 0&&(k.addEventListener("dispose",yt),dt=new Map,ne.programs=dt);let Ke=dt.get(Ye);if(Ke!==void 0){if(ne.currentProgram===Ke&&ne.lightsStateVersion===et)return Oi(k,Je),Ke}else Je.uniforms=Ve.getUniforms(k),k.onBeforeCompile(Je,w),Ke=Ve.acquireProgram(Je,Ye),dt.set(Ye,Ke),ne.uniforms=Je.uniforms;const qe=ne.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(qe.clippingPlanes=Me.uniform),Oi(k,Je),ne.needsLights=wa(k),ne.lightsStateVersion=et,ne.needsLights&&(qe.ambientLightColor.value=K.state.ambient,qe.lightProbe.value=K.state.probe,qe.directionalLights.value=K.state.directional,qe.directionalLightShadows.value=K.state.directionalShadow,qe.spotLights.value=K.state.spot,qe.spotLightShadows.value=K.state.spotShadow,qe.rectAreaLights.value=K.state.rectArea,qe.ltc_1.value=K.state.rectAreaLTC1,qe.ltc_2.value=K.state.rectAreaLTC2,qe.pointLights.value=K.state.point,qe.pointLightShadows.value=K.state.pointShadow,qe.hemisphereLights.value=K.state.hemi,qe.directionalShadowMap.value=K.state.directionalShadowMap,qe.directionalShadowMatrix.value=K.state.directionalShadowMatrix,qe.spotShadowMap.value=K.state.spotShadowMap,qe.spotLightMatrix.value=K.state.spotLightMatrix,qe.spotLightMap.value=K.state.spotLightMap,qe.pointShadowMap.value=K.state.pointShadowMap,qe.pointShadowMatrix.value=K.state.pointShadowMatrix),ne.currentProgram=Ke,ne.uniformsList=null,Ke}function rr(k){if(k.uniformsList===null){const te=k.currentProgram.getUniforms();k.uniformsList=Xv.seqWithValue(te.seq,k.uniforms)}return k.uniformsList}function Oi(k,te){const ae=Te.get(k);ae.outputColorSpace=te.outputColorSpace,ae.batching=te.batching,ae.batchingColor=te.batchingColor,ae.instancing=te.instancing,ae.instancingColor=te.instancingColor,ae.instancingMorph=te.instancingMorph,ae.skinning=te.skinning,ae.morphTargets=te.morphTargets,ae.morphNormals=te.morphNormals,ae.morphColors=te.morphColors,ae.morphTargetsCount=te.morphTargetsCount,ae.numClippingPlanes=te.numClippingPlanes,ae.numIntersection=te.numClipIntersection,ae.vertexAlphas=te.vertexAlphas,ae.vertexTangents=te.vertexTangents,ae.toneMapping=te.toneMapping}function hr(k,te,ae,ne,K){te.isScene!==!0&&(te=ue),U.resetTextureUnits();const Ce=te.fog,et=ne.isMeshStandardMaterial?te.environment:null,Je=I===null?w.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Cu,Ye=(ne.isMeshStandardMaterial?ee:L).get(ne.envMap||et),dt=ne.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,Ke=!!ae.attributes.tangent&&(!!ne.normalMap||ne.anisotropy>0),qe=!!ae.morphAttributes.position,Lt=!!ae.morphAttributes.normal,Mt=!!ae.morphAttributes.color;let qt=js;ne.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(qt=w.toneMapping);const Wt=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,Qt=Wt!==void 0?Wt.length:0,at=Te.get(ne),$r=v.state.lights;if(ye===!0&&(Se===!0||k!==R)){const Nr=k===R&&ne.id===C;Me.setState(ne,k,Nr)}let Ms=!1;ne.version===at.__version?(at.needsLights&&at.lightsStateVersion!==$r.state.version||at.outputColorSpace!==Je||K.isBatchedMesh&&at.batching===!1||!K.isBatchedMesh&&at.batching===!0||K.isBatchedMesh&&at.batchingColor===!0&&K.colorTexture===null||K.isBatchedMesh&&at.batchingColor===!1&&K.colorTexture!==null||K.isInstancedMesh&&at.instancing===!1||!K.isInstancedMesh&&at.instancing===!0||K.isSkinnedMesh&&at.skinning===!1||!K.isSkinnedMesh&&at.skinning===!0||K.isInstancedMesh&&at.instancingColor===!0&&K.instanceColor===null||K.isInstancedMesh&&at.instancingColor===!1&&K.instanceColor!==null||K.isInstancedMesh&&at.instancingMorph===!0&&K.morphTexture===null||K.isInstancedMesh&&at.instancingMorph===!1&&K.morphTexture!==null||at.envMap!==Ye||ne.fog===!0&&at.fog!==Ce||at.numClippingPlanes!==void 0&&(at.numClippingPlanes!==Me.numPlanes||at.numIntersection!==Me.numIntersection)||at.vertexAlphas!==dt||at.vertexTangents!==Ke||at.morphTargets!==qe||at.morphNormals!==Lt||at.morphColors!==Mt||at.toneMapping!==qt||at.morphTargetsCount!==Qt)&&(Ms=!0):(Ms=!0,at.__version=ne.version);let Cn=at.currentProgram;Ms===!0&&(Cn=sr(ne,te,K));let es=!1,Ni=!1,Ti=!1;const gr=Cn.getUniforms(),Tn=at.uniforms;if(Fe.useProgram(Cn.program)&&(es=!0,Ni=!0,Ti=!0),ne.id!==C&&(C=ne.id,Ni=!0),es||R!==k){Fe.buffers.depth.getReversed()?(Ee.copy(k.projectionMatrix),z9(Ee),G9(Ee),gr.setValue(z,"projectionMatrix",Ee)):gr.setValue(z,"projectionMatrix",k.projectionMatrix),gr.setValue(z,"viewMatrix",k.matrixWorldInverse);const Nr=gr.map.cameraPosition;Nr!==void 0&&Nr.setValue(z,it.setFromMatrixPosition(k.matrixWorld)),Ue.logarithmicDepthBuffer&&gr.setValue(z,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&gr.setValue(z,"isOrthographic",k.isOrthographicCamera===!0),R!==k&&(R=k,Ni=!0,Ti=!0)}if(K.isSkinnedMesh){gr.setOptional(z,K,"bindMatrix"),gr.setOptional(z,K,"bindMatrixInverse");const Nr=K.skeleton;Nr&&(Nr.boneTexture===null&&Nr.computeBoneTexture(),gr.setValue(z,"boneTexture",Nr.boneTexture,U))}K.isBatchedMesh&&(gr.setOptional(z,K,"batchingTexture"),gr.setValue(z,"batchingTexture",K._matricesTexture,U),gr.setOptional(z,K,"batchingIdTexture"),gr.setValue(z,"batchingIdTexture",K._indirectTexture,U),gr.setOptional(z,K,"batchingColorTexture"),K._colorsTexture!==null&&gr.setValue(z,"batchingColorTexture",K._colorsTexture,U));const Rn=ae.morphAttributes;if((Rn.position!==void 0||Rn.normal!==void 0||Rn.color!==void 0)&&pt.update(K,ae,Cn),(Ni||at.receiveShadow!==K.receiveShadow)&&(at.receiveShadow=K.receiveShadow,gr.setValue(z,"receiveShadow",K.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(Tn.envMap.value=Ye,Tn.flipEnvMap.value=Ye.isCubeTexture&&Ye.isRenderTargetTexture===!1?-1:1),ne.isMeshStandardMaterial&&ne.envMap===null&&te.environment!==null&&(Tn.envMapIntensity.value=te.environmentIntensity),Ni&&(gr.setValue(z,"toneMappingExposure",w.toneMappingExposure),at.needsLights&&gi(Tn,Ti),Ce&&ne.fog===!0&&ze.refreshFogUniforms(Tn,Ce),ze.refreshMaterialUniforms(Tn,ne,O,ie,v.state.transmissionRenderTarget[k.id]),Xv.upload(z,rr(at),Tn,U)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(Xv.upload(z,rr(at),Tn,U),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&gr.setValue(z,"center",K.center),gr.setValue(z,"modelViewMatrix",K.modelViewMatrix),gr.setValue(z,"normalMatrix",K.normalMatrix),gr.setValue(z,"modelMatrix",K.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const Nr=ne.uniformsGroups;for(let Ui=0,to=Nr.length;Ui<to;Ui++){const Ma=Nr[Ui];J.update(Ma,Cn),J.bind(Ma,Cn)}}return Cn}function gi(k,te){k.ambientLightColor.needsUpdate=te,k.lightProbe.needsUpdate=te,k.directionalLights.needsUpdate=te,k.directionalLightShadows.needsUpdate=te,k.pointLights.needsUpdate=te,k.pointLightShadows.needsUpdate=te,k.spotLights.needsUpdate=te,k.spotLightShadows.needsUpdate=te,k.rectAreaLights.needsUpdate=te,k.hemisphereLights.needsUpdate=te}function wa(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(k,te,ae){Te.get(k.texture).__webglTexture=te,Te.get(k.depthTexture).__webglTexture=ae;const ne=Te.get(k);ne.__hasExternalTextures=!0,ne.__autoAllocateDepthBuffer=ae===void 0,ne.__autoAllocateDepthBuffer||Y.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(k,te){const ae=Te.get(k);ae.__webglFramebuffer=te,ae.__useDefaultFramebuffer=te===void 0};const Vr=z.createFramebuffer();this.setRenderTarget=function(k,te=0,ae=0){I=k,E=te,B=ae;let ne=!0,K=null,Ce=!1,et=!1;if(k){const Je=Te.get(k);if(Je.__useDefaultFramebuffer!==void 0)Fe.bindFramebuffer(z.FRAMEBUFFER,null),ne=!1;else if(Je.__webglFramebuffer===void 0)U.setupRenderTarget(k);else if(Je.__hasExternalTextures)U.rebindTextures(k,Te.get(k.texture).__webglTexture,Te.get(k.depthTexture).__webglTexture);else if(k.depthBuffer){const Ke=k.depthTexture;if(Je.__boundDepthTexture!==Ke){if(Ke!==null&&Te.has(Ke)&&(k.width!==Ke.image.width||k.height!==Ke.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");U.setupDepthRenderbuffer(k)}}const Ye=k.texture;(Ye.isData3DTexture||Ye.isDataArrayTexture||Ye.isCompressedArrayTexture)&&(et=!0);const dt=Te.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(dt[te])?K=dt[te][ae]:K=dt[te],Ce=!0):k.samples>0&&U.useMultisampledRTT(k)===!1?K=Te.get(k).__webglMultisampledFramebuffer:Array.isArray(dt)?K=dt[ae]:K=dt,D.copy(k.viewport),V.copy(k.scissor),j=k.scissorTest}else D.copy(pe).multiplyScalar(O).floor(),V.copy(we).multiplyScalar(O).floor(),j=Le;if(ae!==0&&(K=Vr),Fe.bindFramebuffer(z.FRAMEBUFFER,K)&&ne&&Fe.drawBuffers(k,K),Fe.viewport(D),Fe.scissor(V),Fe.setScissorTest(j),Ce){const Je=Te.get(k.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+te,Je.__webglTexture,ae)}else if(et){const Je=Te.get(k.texture),Ye=te;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,Je.__webglTexture,ae,Ye)}else if(k!==null&&ae!==0){const Je=Te.get(k.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Je.__webglTexture,ae)}C=-1},this.readRenderTargetPixels=function(k,te,ae,ne,K,Ce,et){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Je=Te.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&et!==void 0&&(Je=Je[et]),Je){Fe.bindFramebuffer(z.FRAMEBUFFER,Je);try{const Ye=k.texture,dt=Ye.format,Ke=Ye.type;if(!Ue.textureFormatReadable(dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ue.textureTypeReadable(Ke)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=k.width-ne&&ae>=0&&ae<=k.height-K&&z.readPixels(te,ae,ne,K,Pe.convert(dt),Pe.convert(Ke),Ce)}finally{const Ye=I!==null?Te.get(I).__webglFramebuffer:null;Fe.bindFramebuffer(z.FRAMEBUFFER,Ye)}}},this.readRenderTargetPixelsAsync=async function(k,te,ae,ne,K,Ce,et){if(!(k&&k.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Je=Te.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&et!==void 0&&(Je=Je[et]),Je){const Ye=k.texture,dt=Ye.format,Ke=Ye.type;if(!Ue.textureFormatReadable(dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ue.textureTypeReadable(Ke))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(te>=0&&te<=k.width-ne&&ae>=0&&ae<=k.height-K){Fe.bindFramebuffer(z.FRAMEBUFFER,Je);const qe=z.createBuffer();z.bindBuffer(z.PIXEL_PACK_BUFFER,qe),z.bufferData(z.PIXEL_PACK_BUFFER,Ce.byteLength,z.STREAM_READ),z.readPixels(te,ae,ne,K,Pe.convert(dt),Pe.convert(Ke),0);const Lt=I!==null?Te.get(I).__webglFramebuffer:null;Fe.bindFramebuffer(z.FRAMEBUFFER,Lt);const Mt=z.fenceSync(z.SYNC_GPU_COMMANDS_COMPLETE,0);return z.flush(),await U9(z,Mt,4),z.bindBuffer(z.PIXEL_PACK_BUFFER,qe),z.getBufferSubData(z.PIXEL_PACK_BUFFER,0,Ce),z.deleteBuffer(qe),z.deleteSync(Mt),Ce}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(k,te=null,ae=0){k.isTexture!==!0&&(Rh("WebGLRenderer: copyFramebufferToTexture function signature has changed."),te=arguments[0]||null,k=arguments[1]);const ne=Math.pow(2,-ae),K=Math.floor(k.image.width*ne),Ce=Math.floor(k.image.height*ne),et=te!==null?te.x:0,Je=te!==null?te.y:0;U.setTexture2D(k,0),z.copyTexSubImage2D(z.TEXTURE_2D,ae,0,0,et,Je,K,Ce),Fe.unbindTexture()};const jr=z.createFramebuffer(),Qr=z.createFramebuffer();this.copyTextureToTexture=function(k,te,ae=null,ne=null,K=0,Ce=null){k.isTexture!==!0&&(Rh("WebGLRenderer: copyTextureToTexture function signature has changed."),ne=arguments[0]||null,k=arguments[1],te=arguments[2],Ce=arguments[3]||0,ae=null),Ce===null&&(K!==0?(Rh("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ce=K,K=0):Ce=0);let et,Je,Ye,dt,Ke,qe,Lt,Mt,qt;const Wt=k.isCompressedTexture?k.mipmaps[Ce]:k.image;if(ae!==null)et=ae.max.x-ae.min.x,Je=ae.max.y-ae.min.y,Ye=ae.isBox3?ae.max.z-ae.min.z:1,dt=ae.min.x,Ke=ae.min.y,qe=ae.isBox3?ae.min.z:0;else{const Rn=Math.pow(2,-K);et=Math.floor(Wt.width*Rn),Je=Math.floor(Wt.height*Rn),k.isDataArrayTexture?Ye=Wt.depth:k.isData3DTexture?Ye=Math.floor(Wt.depth*Rn):Ye=1,dt=0,Ke=0,qe=0}ne!==null?(Lt=ne.x,Mt=ne.y,qt=ne.z):(Lt=0,Mt=0,qt=0);const Qt=Pe.convert(te.format),at=Pe.convert(te.type);let $r;te.isData3DTexture?(U.setTexture3D(te,0),$r=z.TEXTURE_3D):te.isDataArrayTexture||te.isCompressedArrayTexture?(U.setTexture2DArray(te,0),$r=z.TEXTURE_2D_ARRAY):(U.setTexture2D(te,0),$r=z.TEXTURE_2D),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,te.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,te.unpackAlignment);const Ms=z.getParameter(z.UNPACK_ROW_LENGTH),Cn=z.getParameter(z.UNPACK_IMAGE_HEIGHT),es=z.getParameter(z.UNPACK_SKIP_PIXELS),Ni=z.getParameter(z.UNPACK_SKIP_ROWS),Ti=z.getParameter(z.UNPACK_SKIP_IMAGES);z.pixelStorei(z.UNPACK_ROW_LENGTH,Wt.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Wt.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,dt),z.pixelStorei(z.UNPACK_SKIP_ROWS,Ke),z.pixelStorei(z.UNPACK_SKIP_IMAGES,qe);const gr=k.isDataArrayTexture||k.isData3DTexture,Tn=te.isDataArrayTexture||te.isData3DTexture;if(k.isDepthTexture){const Rn=Te.get(k),Nr=Te.get(te),Ui=Te.get(Rn.__renderTarget),to=Te.get(Nr.__renderTarget);Fe.bindFramebuffer(z.READ_FRAMEBUFFER,Ui.__webglFramebuffer),Fe.bindFramebuffer(z.DRAW_FRAMEBUFFER,to.__webglFramebuffer);for(let Ma=0;Ma<Ye;Ma++)gr&&(z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Te.get(k).__webglTexture,K,qe+Ma),z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Te.get(te).__webglTexture,Ce,qt+Ma)),z.blitFramebuffer(dt,Ke,et,Je,Lt,Mt,et,Je,z.DEPTH_BUFFER_BIT,z.NEAREST);Fe.bindFramebuffer(z.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else if(K!==0||k.isRenderTargetTexture||Te.has(k)){const Rn=Te.get(k),Nr=Te.get(te);Fe.bindFramebuffer(z.READ_FRAMEBUFFER,jr),Fe.bindFramebuffer(z.DRAW_FRAMEBUFFER,Qr);for(let Ui=0;Ui<Ye;Ui++)gr?z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Rn.__webglTexture,K,qe+Ui):z.framebufferTexture2D(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Rn.__webglTexture,K),Tn?z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Nr.__webglTexture,Ce,qt+Ui):z.framebufferTexture2D(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Nr.__webglTexture,Ce),K!==0?z.blitFramebuffer(dt,Ke,et,Je,Lt,Mt,et,Je,z.COLOR_BUFFER_BIT,z.NEAREST):Tn?z.copyTexSubImage3D($r,Ce,Lt,Mt,qt+Ui,dt,Ke,et,Je):z.copyTexSubImage2D($r,Ce,Lt,Mt,dt,Ke,et,Je);Fe.bindFramebuffer(z.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else Tn?k.isDataTexture||k.isData3DTexture?z.texSubImage3D($r,Ce,Lt,Mt,qt,et,Je,Ye,Qt,at,Wt.data):te.isCompressedArrayTexture?z.compressedTexSubImage3D($r,Ce,Lt,Mt,qt,et,Je,Ye,Qt,Wt.data):z.texSubImage3D($r,Ce,Lt,Mt,qt,et,Je,Ye,Qt,at,Wt):k.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,Ce,Lt,Mt,et,Je,Qt,at,Wt.data):k.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,Ce,Lt,Mt,Wt.width,Wt.height,Qt,Wt.data):z.texSubImage2D(z.TEXTURE_2D,Ce,Lt,Mt,et,Je,Qt,at,Wt);z.pixelStorei(z.UNPACK_ROW_LENGTH,Ms),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Cn),z.pixelStorei(z.UNPACK_SKIP_PIXELS,es),z.pixelStorei(z.UNPACK_SKIP_ROWS,Ni),z.pixelStorei(z.UNPACK_SKIP_IMAGES,Ti),Ce===0&&te.generateMipmaps&&z.generateMipmap($r),Fe.unbindTexture()},this.copyTextureToTexture3D=function(k,te,ae=null,ne=null,K=0){return k.isTexture!==!0&&(Rh("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ae=arguments[0]||null,ne=arguments[1]||null,k=arguments[2],te=arguments[3],K=arguments[4]||0),Rh('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(k,te,ae,ne,K)},this.initRenderTarget=function(k){Te.get(k).__webglFramebuffer===void 0&&U.setupRenderTarget(k)},this.initTexture=function(k){k.isCubeTexture?U.setTextureCube(k,0):k.isData3DTexture?U.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?U.setTexture2DArray(k,0):U.setTexture2D(k,0),Fe.unbindTexture()},this.resetState=function(){E=0,B=0,I=null,Fe.reset(),Ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ps}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Zt._getDrawingBufferColorSpace(e),t.unpackColorSpace=Zt._getUnpackColorSpace()}}const JX=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:hE,AddEquation:xl,AddOperation:ek,AdditiveAnimationBlendMode:bE,AdditiveBlending:$S,AgXToneMapping:ak,AlphaFormat:mE,AlwaysCompare:bk,AlwaysDepth:Ly,AlwaysStencilFunc:iw,AmbientLight:nO,AnimationAction:fO,AnimationClip:Id,AnimationLoader:cV,AnimationMixer:kV,AnimationObjectGroup:LV,AnimationUtils:aV,ArcCurve:Dk,ArrayCamera:hO,ArrowHelper:n8,AttachedBindMode:rw,Audio:dO,AudioAnalyser:wV,AudioContext:QE,AudioListener:bV,AudioLoader:yV,AxesHelper:a8,BackSide:Sn,BasicDepthPacking:dk,BasicShadowMap:LF,BatchedMesh:Ik,Bone:x_,BooleanKeyframeTrack:Gu,Box2:jV,Box3:tn,Box3Helper:r8,BoxGeometry:zu,BoxHelper:t8,BufferAttribute:tr,BufferGeometry:It,BufferGeometryLoader:cO,ByteType:dE,Cache:Co,Camera:Ym,CameraHelper:e8,CanvasTexture:R6,CapsuleGeometry:S_,CatmullRomCurve3:Lk,CineonToneMapping:ik,CircleGeometry:w_,ClampToEdgeWrapping:ua,Clock:$E,Color:Qe,ColorKeyframeTrack:XE,ColorManagement:Zt,CompressedArrayTexture:C6,CompressedCubeTexture:T6,CompressedTexture:b_,CompressedTextureLoader:uV,ConeGeometry:M_,ConstantAlphaFactor:ZF,ConstantColorFactor:qF,Controls:o8,CubeCamera:CE,CubeReflectionMapping:Go,CubeRefractionMapping:Vl,CubeTexture:qm,CubeTextureLoader:hV,CubeUVReflectionMapping:Yd,CubicBezierCurve:OE,CubicBezierCurve3:Fk,CubicInterpolant:$k,CullFaceBack:QS,CullFaceFront:DF,CullFaceFrontBack:XH,CullFaceNone:IF,Curve:Ss,CurvePath:Ok,CustomBlending:FF,CustomToneMapping:nk,CylinderGeometry:Kd,Cylindrical:VV,Data3DTexture:v_,DataArrayTexture:Jm,DataTexture:Ws,DataTextureLoader:dV,DataUtils:r6,DecrementStencilOp:i9,DecrementWrapStencilOp:a9,DefaultLoadingManager:Yh,DepthFormat:ou,DepthStencilFormat:Eu,DepthTexture:FE,DetachedBindMode:ok,DirectionalLight:ZE,DirectionalLightHelper:$V,DiscreteInterpolant:eO,DodecahedronGeometry:E_,DoubleSide:ja,DstAlphaFactor:jF,DstColorFactor:XF,DynamicCopyUsage:_9,DynamicDrawUsage:lu,DynamicReadUsage:g9,EdgesGeometry:Nk,EllipseCurve:A_,EqualCompare:vk,EqualDepth:ky,EqualStencilFunc:c9,EquirectangularReflectionMapping:dm,EquirectangularRefractionMapping:pm,Euler:va,EventDispatcher:$s,ExtrudeGeometry:T_,FileLoader:ya,Float16BufferAttribute:l6,Float32BufferAttribute:ht,FloatType:zn,Fog:__,FogExp2:y_,FramebufferTexture:E6,FrontSide:Ks,Frustum:Qm,GLBufferAttribute:HV,GLSL1:b9,GLSL3:nw,GreaterCompare:yk,GreaterDepth:Ny,GreaterEqualCompare:xk,GreaterEqualDepth:Oy,GreaterEqualStencilFunc:p9,GreaterStencilFunc:h9,GridHelper:ZV,Group:Eo,HalfFloatType:qd,HemisphereLight:iO,HemisphereLightHelper:KV,IcosahedronGeometry:R_,ImageBitmapLoader:uO,ImageLoader:Sm,ImageUtils:Mk,IncrementStencilOp:r9,IncrementWrapStencilOp:n9,InstancedBufferAttribute:Tu,InstancedBufferGeometry:lO,InstancedInterleavedBuffer:GV,InstancedMesh:IE,Int16BufferAttribute:s6,Int32BufferAttribute:o6,Int8BufferAttribute:i6,IntType:c_,InterleavedBuffer:Km,InterleavedBufferAttribute:Wl,Interpolant:Qd,InterpolateDiscrete:Td,InterpolateLinear:Rd,InterpolateSmooth:Wv,InvertStencilOp:s9,KeepStencilOp:kc,KeyframeTrack:ws,LOD:Bk,LatheGeometry:eg,Layers:uu,LessCompare:gk,LessDepth:Fy,LessEqualCompare:SE,LessEqualDepth:wu,LessEqualStencilFunc:u9,LessStencilFunc:l9,Light:rc,LightProbe:oO,Line:Vo,Line3:WV,LineBasicMaterial:an,LineCurve:NE,LineCurve3:kk,LineDashedMaterial:Kk,LineLoop:DE,LineSegments:As,LinearFilter:qr,LinearInterpolant:WE,LinearMipMapLinearFilter:KH,LinearMipMapNearestFilter:qH,LinearMipmapLinearFilter:Xa,LinearMipmapNearestFilter:cd,LinearSRGBColorSpace:Cu,LinearToneMapping:tk,LinearTransfer:mm,Loader:sn,LoaderUtils:kl,LoadingManager:JE,LoopOnce:lk,LoopPingPong:uk,LoopRepeat:ck,LuminanceAlphaFormat:yE,LuminanceFormat:vE,MOUSE:Lc,Material:pi,MaterialLoader:k_,MathUtils:Ak,Matrix2:iC,Matrix3:Bt,Matrix4:vt,MaxEquation:UF,Mesh:Kr,MeshBasicMaterial:ha,MeshDepthMaterial:HE,MeshDistanceMaterial:VE,MeshLambertMaterial:Yk,MeshMatcapMaterial:qk,MeshNormalMaterial:Jk,MeshPhongMaterial:Wk,MeshPhysicalMaterial:$a,MeshStandardMaterial:ig,MeshToonMaterial:Xk,MinEquation:NF,MirroredRepeatWrapping:Ed,MixOperation:$F,MultiplyBlending:tw,MultiplyOperation:Wm,NearestFilter:Mi,NearestMipMapLinearFilter:YH,NearestMipMapNearestFilter:JH,NearestMipmapLinearFilter:Yc,NearestMipmapNearestFilter:l_,NeutralToneMapping:sk,NeverCompare:mk,NeverDepth:Dy,NeverStencilFunc:o9,NoBlending:Bo,NoColorSpace:bo,NoToneMapping:js,NormalAnimationBlendMode:m_,NormalBlending:su,NotEqualCompare:_k,NotEqualDepth:Uy,NotEqualStencilFunc:d9,NumberKeyframeTrack:Pu,Object3D:Yt,ObjectLoader:gV,ObjectSpaceNormalMap:fk,OctahedronGeometry:tg,OneFactor:GF,OneMinusConstantAlphaFactor:QF,OneMinusConstantColorFactor:KF,OneMinusDstAlphaFactor:WF,OneMinusDstColorFactor:JF,OneMinusSrcAlphaFactor:Iy,OneMinusSrcColorFactor:VF,OrthographicCamera:vs,PCFShadowMap:s_,PCFSoftShadowMap:bf,PMREMGenerator:dw,Path:_m,PerspectiveCamera:Er,Plane:_o,PlaneGeometry:Zd,PlaneHelper:i8,PointLight:KE,PointLightHelper:YV,Points:LE,PointsMaterial:$m,PolarGridHelper:QV,PolyhedronGeometry:tc,PositionalAudio:SV,PropertyBinding:Kt,PropertyMixer:pO,QuadraticBezierCurve:UE,QuadraticBezierCurve3:zE,Quaternion:Ei,QuaternionKeyframeTrack:Bu,QuaternionLinearInterpolant:tO,RED_GREEN_RGTC2_Format:u1,RED_RGTC1_Format:xE,REVISION:Jd,RGBADepthPacking:pk,RGBAFormat:en,RGBAIntegerFormat:f_,RGBA_ASTC_10x10_Format:n1,RGBA_ASTC_10x5_Format:t1,RGBA_ASTC_10x6_Format:r1,RGBA_ASTC_10x8_Format:i1,RGBA_ASTC_12x10_Format:a1,RGBA_ASTC_12x12_Format:s1,RGBA_ASTC_4x4_Format:Jy,RGBA_ASTC_5x4_Format:Yy,RGBA_ASTC_5x5_Format:qy,RGBA_ASTC_6x5_Format:Ky,RGBA_ASTC_6x6_Format:Zy,RGBA_ASTC_8x5_Format:Qy,RGBA_ASTC_8x6_Format:$y,RGBA_ASTC_8x8_Format:e1,RGBA_BPTC_Format:Ef,RGBA_ETC2_EAC_Format:Xy,RGBA_PVRTC_2BPPV1_Format:Vy,RGBA_PVRTC_4BPPV1_Format:Hy,RGBA_S3TC_DXT1_Format:Sf,RGBA_S3TC_DXT3_Format:wf,RGBA_S3TC_DXT5_Format:Mf,RGBDepthPacking:QH,RGBFormat:gE,RGBIntegerFormat:ZH,RGB_BPTC_SIGNED_Format:o1,RGB_BPTC_UNSIGNED_Format:l1,RGB_ETC1_Format:jy,RGB_ETC2_Format:Wy,RGB_PVRTC_2BPPV1_Format:Gy,RGB_PVRTC_4BPPV1_Format:zy,RGB_S3TC_DXT1_Format:Af,RGDepthPacking:$H,RGFormat:_E,RGIntegerFormat:p_,RawShaderMaterial:jk,Ray:Uu,Raycaster:mO,RectAreaLight:aO,RedFormat:d_,RedIntegerFormat:Xm,ReinhardToneMapping:rk,RenderTarget:g_,RenderTarget3D:OV,RenderTargetArray:NV,RepeatWrapping:jl,ReplaceStencilOp:t9,ReverseSubtractEquation:OF,RingGeometry:P_,SIGNED_RED_GREEN_RGTC2_Format:h1,SIGNED_RED_RGTC1_Format:c1,SRGBColorSpace:kn,SRGBTransfer:lr,Scene:RE,ShaderChunk:Ft,ShaderLib:ds,ShaderMaterial:bs,ShadowMaterial:Vk,Shape:hu,ShapeGeometry:B_,ShapePath:s8,ShapeUtils:Xs,ShortType:pE,Skeleton:Zm,SkeletonHelper:JV,SkinnedMesh:BE,Source:Zc,Sphere:Li,SphereGeometry:rg,Spherical:uw,SphericalHarmonics3:sO,SplineCurve:GE,SpotLight:qE,SpotLightHelper:XV,Sprite:Pk,SpriteMaterial:PE,SrcAlphaFactor:By,SrcAlphaSaturateFactor:YF,SrcColorFactor:HF,StaticCopyUsage:y9,StaticDrawUsage:gm,StaticReadUsage:m9,StereoCamera:_V,StreamCopyUsage:x9,StreamDrawUsage:f9,StreamReadUsage:v9,StringKeyframeTrack:Hu,SubtractEquation:kF,SubtractiveBlending:ew,TOUCH:Fc,TangentSpaceNormalMap:ec,TetrahedronGeometry:I_,Texture:Tr,TextureLoader:rO,TextureUtils:d8,TorusGeometry:D_,TorusKnotGeometry:L_,Triangle:Nn,TriangleFanDrawMode:d1,TriangleStripDrawMode:AE,TrianglesDrawMode:hk,TubeGeometry:F_,UVMapping:o_,Uint16BufferAttribute:ME,Uint32BufferAttribute:EE,Uint8BufferAttribute:n6,Uint8ClampedBufferAttribute:a6,Uniform:rC,UniformsGroup:zV,UniformsLib:Ze,UniformsUtils:Tk,UnsignedByteType:xs,UnsignedInt248Type:Mu,UnsignedInt5999Type:fE,UnsignedIntType:Ho,UnsignedShort4444Type:u_,UnsignedShort5551Type:h_,UnsignedShortType:Cd,VSMShadowMap:cs,Vector2:_e,Vector3:N,Vector4:$t,VectorKeyframeTrack:Iu,VideoTexture:M6,WebGL3DRenderTarget:X9,WebGLArrayRenderTarget:W9,WebGLCoordinateSystem:ps,WebGLCubeRenderTarget:TE,WebGLRenderTarget:Zs,WebGLRenderer:SO,WebGLUtils:AO,WebGPUCoordinateSystem:vm,WireframeGeometry:Hk,WrapAroundEnding:fm,ZeroCurvatureEnding:qc,ZeroFactor:zF,ZeroSlopeEnding:Kc,ZeroStencilOp:e9,createCanvasElement:wk},Symbol.toStringTag,{value:"Module"}));var wO={exports:{}},Vu={};/**
* @license React
* react-reconciler-constants.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/Vu.ConcurrentRoot=1;Vu.ContinuousEventPriority=4;Vu.DefaultEventPriority=16;Vu.DiscreteEventPriority=1;Vu.IdleEventPriority=536870912;Vu.LegacyRoot=0;wO.exports=Vu;var Kh=wO.exports;function YX(r){let e;const t=new Set,i=(o,l)=>{const c=typeof o=="function"?o(e):o;if(c!==e){const h=e;e=l?c:Object.assign({},e,c),t.forEach(p=>p(e,h))}},n=()=>e,a=(o,l=n,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=l(e);function p(){const f=l(e);if(!c(h,f)){const m=h;o(h=f,m)}}return t.add(p),()=>t.delete(p)},s={setState:i,getState:n,subscribe:(o,l,c)=>l||c?a(o,l,c):(t.add(o),()=>t.delete(o)),destroy:()=>t.clear()};return e=r(i,n,s),s}const qX=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),LB=qX?W.useEffect:W.useLayoutEffect;function KX(r){const e=typeof r=="function"?YX(r):r,t=(i=e.getState,n=Object.is)=>{const[,a]=W.useReducer(_=>_+1,0),s=e.getState(),o=W.useRef(s),l=W.useRef(i),c=W.useRef(n),h=W.useRef(!1),p=W.useRef();p.current===void 0&&(p.current=i(s));let f,m=!1;(o.current!==s||l.current!==i||c.current!==n||h.current)&&(f=i(s),m=!n(p.current,f)),LB(()=>{m&&(p.current=f),o.current=s,l.current=i,c.current=n,h.current=!1});const g=W.useRef(s);LB(()=>{const _=()=>{try{const b=e.getState(),A=l.current(b);c.current(p.current,A)||(o.current=b,p.current=A,a())}catch{h.current=!0,a()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const x=m?f:p.current;return W.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const n=i.length<=0;return{value:i.shift(),done:n}}}},t}const ZX=r=>typeof r=="object"&&typeof r.then=="function",$c=[];function MO(r,e,t=(i,n)=>i===n){if(r===e)return!0;if(!r||!e)return!1;const i=r.length;if(e.length!==i)return!1;for(let n=0;n<i;n++)if(!t(r[n],e[n]))return!1;return!0}function EO(r,e=null,t=!1,i={}){e===null&&(e=[r]);for(const a of $c)if(MO(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const n={keys:e,equal:i.equal,remove:()=>{const a=$c.indexOf(n);a!==-1&&$c.splice(a,1)},promise:(ZX(r)?r:r(...e)).then(a=>{n.response=a,i.lifespan&&i.lifespan>0&&(n.timeout=setTimeout(n.remove,i.lifespan))}).catch(a=>n.error=a)};if($c.push(n),!t)throw n.promise}const QX=(r,e,t)=>EO(r,e,!1,t),$X=(r,e,t)=>void EO(r,e,!0,t),eJ=r=>{if(r===void 0||r.length===0)$c.splice(0,$c.length);else{const e=$c.find(t=>MO(r,t.keys,t.equal));e&&e.remove()}};var CO={exports:{}},TO={exports:{}},RO={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(r){function e(O,F){var q=O.length;O.push(F);e:for(;0<q;){var pe=q-1>>>1,we=O[pe];if(0<n(we,F))O[pe]=F,O[q]=we,q=pe;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var F=O[0],q=O.pop();if(q!==F){O[0]=q;e:for(var pe=0,we=O.length,Le=we>>>1;pe<Le;){var se=2*(pe+1)-1,ye=O[se],Se=se+1,Ee=O[Se];if(0>n(ye,q))Se<we&&0>n(Ee,ye)?(O[pe]=Ee,O[Se]=q,pe=Se):(O[pe]=ye,O[se]=q,pe=se);else if(Se<we&&0>n(Ee,q))O[pe]=Ee,O[Se]=q,pe=Se;else break e}}return F}function n(O,F){var q=O.sortIndex-F.sortIndex;return q!==0?q:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,p=null,f=3,m=!1,g=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var F=t(c);F!==null;){if(F.callback===null)i(c);else if(F.startTime<=O)i(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function w(O){if(x=!1,A(O),!g)if(t(l)!==null)g=!0,X(T);else{var F=t(c);F!==null&&ie(w,F.startTime-O)}}function T(O,F){g=!1,x&&(x=!1,v(I),I=-1),m=!0;var q=f;try{for(A(F),p=t(l);p!==null&&(!(p.expirationTime>F)||O&&!D());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,f=p.priorityLevel;var we=pe(p.expirationTime<=F);F=r.unstable_now(),typeof we=="function"?p.callback=we:p===t(l)&&i(l),A(F)}else i(l);p=t(l)}if(p!==null)var Le=!0;else{var se=t(c);se!==null&&ie(w,se.startTime-F),Le=!1}return Le}finally{p=null,f=q,m=!1}}var E=!1,B=null,I=-1,C=5,R=-1;function D(){return!(r.unstable_now()-R<C)}function V(){if(B!==null){var O=r.unstable_now();R=O;var F=!0;try{F=B(!0,O)}finally{F?j():(E=!1,B=null)}}else E=!1}var j;if(typeof b=="function")j=function(){b(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=V,j=function(){Q.postMessage(null)}}else j=function(){_(V,0)};function X(O){B=O,E||(E=!0,j())}function ie(O,F){I=_(function(){O(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_continueExecution=function(){g||m||(g=!0,X(T))},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(O){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var q=f;f=F;try{return O()}finally{f=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=f;f=O;try{return F()}finally{f=q}},r.unstable_scheduleCallback=function(O,F,q){var pe=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?pe+q:pe):q=pe,O){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=q+we,O={id:h++,callback:F,priorityLevel:O,startTime:q,expirationTime:we,sortIndex:-1},q>pe?(O.sortIndex=q,e(c,O),t(l)===null&&O===t(c)&&(x?(v(I),I=-1):x=!0,ie(w,q-pe))):(O.sortIndex=we,e(l,O),g||m||(g=!0,X(T))),O},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(O){var F=f;return function(){var q=f;f=F;try{return O.apply(this,arguments)}finally{f=q}}}})(RO);TO.exports=RO;var fw=TO.exports;/**
* @license React
* react-reconciler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tJ=function(r){var e={},t=W,i=fw,n=Object.assign;function a(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),w=Symbol.iterator;function T(u){return u===null||typeof u!="object"?null:(u=w&&u[w]||u["@@iterator"],typeof u=="function"?u:null)}function E(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case c:return"Fragment";case l:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case m:return(u.displayName||"Context")+".Consumer";case f:return(u._context.displayName||"Context")+".Provider";case g:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case v:return d=u.displayName||null,d!==null?d:E(u.type)||"Memo";case b:d=u._payload,u=u._init;try{return E(u(d))}catch{}}return null}function B(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function I(u){var d=u,y=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(y=d.return),u=d.return;while(u)}return d.tag===3?y:null}function C(u){if(I(u)!==u)throw Error(a(188))}function R(u){var d=u.alternate;if(!d){if(d=I(u),d===null)throw Error(a(188));return d!==u?null:u}for(var y=u,S=d;;){var M=y.return;if(M===null)break;var P=M.alternate;if(P===null){if(S=M.return,S!==null){y=S;continue}break}if(M.child===P.child){for(P=M.child;P;){if(P===y)return C(M),u;if(P===S)return C(M),d;P=P.sibling}throw Error(a(188))}if(y.return!==S.return)y=M,S=P;else{for(var G=!1,$=M.child;$;){if($===y){G=!0,y=M,S=P;break}if($===S){G=!0,S=M,y=P;break}$=$.sibling}if(!G){for($=P.child;$;){if($===y){G=!0,y=P,S=M;break}if($===S){G=!0,S=P,y=M;break}$=$.sibling}if(!G)throw Error(a(189))}}if(y.alternate!==S)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?u:d}function D(u){return u=R(u),u!==null?V(u):null}function V(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=V(u);if(d!==null)return d;u=u.sibling}return null}function j(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var d=j(u);if(d!==null)return d}u=u.sibling}return null}var Z=Array.isArray,Q=r.getPublicInstance,X=r.getRootHostContext,ie=r.getChildHostContext,O=r.prepareForCommit,F=r.resetAfterCommit,q=r.createInstance,pe=r.appendInitialChild,we=r.finalizeInitialChildren,Le=r.prepareUpdate,se=r.shouldSetTextContent,ye=r.createTextInstance,Se=r.scheduleTimeout,Ee=r.cancelTimeout,je=r.noTimeout,it=r.isPrimaryRenderer,Ne=r.supportsMutation,ue=r.supportsPersistence,oe=r.supportsHydration,xe=r.getInstanceFromNode,z=r.preparePortalMount,ke=r.getCurrentEventPriority,Y=r.detachDeletedInstance,Ue=r.supportsMicrotasks,Fe=r.scheduleMicrotask,ut=r.supportsTestSelectors,Te=r.findFiberRoot,U=r.getBoundingRect,L=r.getTextContent,ee=r.isHiddenSubtree,me=r.matchAccessibilityRole,Ae=r.setFocusIfFocusable,de=r.setupIntersectionObserver,Ve=r.appendChild,ze=r.appendChildToContainer,We=r.commitTextUpdate,wt=r.commitMount,Me=r.commitUpdate,tt=r.insertBefore,ct=r.insertInContainerBefore,pt=r.removeChild,H=r.removeChildFromContainer,ge=r.resetTextContent,Pe=r.hideInstance,Ie=r.hideTextInstance,J=r.unhideInstance,Be=r.unhideTextInstance,ce=r.clearContainer,be=r.cloneInstance,Ge=r.createContainerChildSet,De=r.appendChildToContainerChildSet,yt=r.finalizeContainerChildren,Ht=r.replaceContainerChildren,Re=r.cloneHiddenInstance,nt=r.cloneHiddenTextInstance,Xt=r.canHydrateInstance,Xe=r.canHydrateTextInstance,Et=r.canHydrateSuspenseInstance,gt=r.isSuspenseInstancePending,xt=r.isSuspenseInstanceFallback,Ar=r.registerSuspenseInstanceRetry,Ct=r.getNextHydratableSibling,mr=r.getFirstHydratableChild,Rr=r.getFirstHydratableChildWithinContainer,ur=r.getFirstHydratableChildWithinSuspenseInstance,sr=r.hydrateInstance,rr=r.hydrateTextInstance,Oi=r.hydrateSuspenseInstance,hr=r.getNextHydratableInstanceAfterSuspenseInstance,gi=r.commitHydratedContainer,wa=r.commitHydratedSuspenseInstance,Vr=r.clearSuspenseBoundary,jr=r.clearSuspenseBoundaryFromContainer,Qr=r.shouldDeleteUnhydratedTailInstances,k=r.didNotMatchHydratedContainerTextInstance,te=r.didNotMatchHydratedTextInstance,ae;function ne(u){if(ae===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);ae=d&&d[1]||""}return`
`+ae+u}var K=!1;function Ce(u,d){if(!u||K)return"";K=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(He){var S=He}Reflect.construct(u,[],d)}else{try{d.call()}catch(He){S=He}u.call(d.prototype)}else{try{throw Error()}catch(He){S=He}u()}}catch(He){if(He&&S&&typeof He.stack=="string"){for(var M=He.stack.split(`
`),P=S.stack.split(`
`),G=M.length-1,$=P.length-1;1<=G&&0<=$&&M[G]!==P[$];)$--;for(;1<=G&&0<=$;G--,$--)if(M[G]!==P[$]){if(G!==1||$!==1)do if(G--,$--,0>$||M[G]!==P[$]){var ve=`
`+M[G].replace(" at new "," at ");return u.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",u.displayName)),ve}while(1<=G&&0<=$);break}}}finally{K=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?ne(u):""}var et=Object.prototype.hasOwnProperty,Je=[],Ye=-1;function dt(u){return{current:u}}function Ke(u){0>Ye||(u.current=Je[Ye],Je[Ye]=null,Ye--)}function qe(u,d){Ye++,Je[Ye]=u.current,u.current=d}var Lt={},Mt=dt(Lt),qt=dt(!1),Wt=Lt;function Qt(u,d){var y=u.type.contextTypes;if(!y)return Lt;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var M={},P;for(P in y)M[P]=d[P];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=M),M}function at(u){return u=u.childContextTypes,u!=null}function $r(){Ke(qt),Ke(Mt)}function Ms(u,d,y){if(Mt.current!==Lt)throw Error(a(168));qe(Mt,d),qe(qt,y)}function Cn(u,d,y){var S=u.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var M in S)if(!(M in d))throw Error(a(108,B(u)||"Unknown",M));return n({},y,S)}function es(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Lt,Wt=Mt.current,qe(Mt,u),qe(qt,qt.current),!0}function Ni(u,d,y){var S=u.stateNode;if(!S)throw Error(a(169));y?(u=Cn(u,d,Wt),S.__reactInternalMemoizedMergedChildContext=u,Ke(qt),Ke(Mt),qe(Mt,u)):Ke(qt),qe(qt,y)}var Ti=Math.clz32?Math.clz32:Rn,gr=Math.log,Tn=Math.LN2;function Rn(u){return u>>>=0,u===0?32:31-(gr(u)/Tn|0)|0}var Nr=64,Ui=4194304;function to(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ma(u,d){var y=u.pendingLanes;if(y===0)return 0;var S=0,M=u.suspendedLanes,P=u.pingedLanes,G=y&268435455;if(G!==0){var $=G&~M;$!==0?S=to($):(P&=G,P!==0&&(S=to(P)))}else G=y&~M,G!==0?S=to(G):P!==0&&(S=to(P));if(S===0)return 0;if(d!==0&&d!==S&&!(d&M)&&(M=S&-S,P=d&-d,M>=P||M===16&&(P&4194240)!==0))return d;if(S&4&&(S|=y&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=S;0<d;)y=31-Ti(d),M=1<<y,S|=u[y],d&=~M;return S}function e4(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t4(u,d){for(var y=u.suspendedLanes,S=u.pingedLanes,M=u.expirationTimes,P=u.pendingLanes;0<P;){var G=31-Ti(P),$=1<<G,ve=M[G];ve===-1?(!($&y)||$&S)&&(M[G]=e4($,d)):ve<=d&&(u.expiredLanes|=$),P&=~$}}function Q_(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function $_(u){for(var d=[],y=0;31>y;y++)d.push(u);return d}function tp(u,d,y){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-Ti(d),u[d]=y}function r4(u,d){var y=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<y;){var M=31-Ti(y),P=1<<M;d[M]=0,S[M]=-1,u[M]=-1,y&=~P}}function ex(u,d){var y=u.entangledLanes|=d;for(u=u.entanglements;y;){var S=31-Ti(y),M=1<<S;M&d|u[S]&d&&(u[S]|=d),y&=~M}}var ir=0;function uT(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var tx=i.unstable_scheduleCallback,hT=i.unstable_cancelCallback,i4=i.unstable_shouldYield,n4=i.unstable_requestPaint,vi=i.unstable_now,rx=i.unstable_ImmediatePriority,a4=i.unstable_UserBlockingPriority,ix=i.unstable_NormalPriority,s4=i.unstable_IdlePriority,fg=null,Es=null;function o4(u){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(fg,u,void 0,(u.current.flags&128)===128)}catch{}}function l4(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Cs=typeof Object.is=="function"?Object.is:l4,ro=null,mg=!1,nx=!1;function dT(u){ro===null?ro=[u]:ro.push(u)}function c4(u){mg=!0,dT(u)}function Ts(){if(!nx&&ro!==null){nx=!0;var u=0,d=ir;try{var y=ro;for(ir=1;u<y.length;u++){var S=y[u];do S=S(!0);while(S!==null)}ro=null,mg=!1}catch(M){throw ro!==null&&(ro=ro.slice(u+1)),tx(rx,Ts),M}finally{ir=d,nx=!1}}return null}var u4=s.ReactCurrentBatchConfig;function gg(u,d){if(Cs(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var y=Object.keys(u),S=Object.keys(d);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var M=y[S];if(!et.call(d,M)||!Cs(u[M],d[M]))return!1}return!0}function h4(u){switch(u.tag){case 5:return ne(u.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return u=Ce(u.type,!1),u;case 11:return u=Ce(u.type.render,!1),u;case 1:return u=Ce(u.type,!0),u;default:return""}}function ts(u,d){if(u&&u.defaultProps){d=n({},d),u=u.defaultProps;for(var y in u)d[y]===void 0&&(d[y]=u[y]);return d}return d}var vg=dt(null),yg=null,Ju=null,ax=null;function sx(){ax=Ju=yg=null}function pT(u,d,y){it?(qe(vg,d._currentValue),d._currentValue=y):(qe(vg,d._currentValue2),d._currentValue2=y)}function ox(u){var d=vg.current;Ke(vg),it?u._currentValue=d:u._currentValue2=d}function lx(u,d,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),u===y)break;u=u.return}}function Yu(u,d){yg=u,ax=Ju=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&d&&(Qn=!0),u.firstContext=null)}function Ea(u){var d=it?u._currentValue:u._currentValue2;if(ax!==u)if(u={context:u,memoizedValue:d,next:null},Ju===null){if(yg===null)throw Error(a(308));Ju=u,yg.dependencies={lanes:0,firstContext:u}}else Ju=Ju.next=u;return d}var Rs=null,Yo=!1;function cx(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function io(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function qo(u,d){var y=u.updateQueue;y!==null&&(y=y.shared,ei!==null&&u.mode&1&&!(Nt&2)?(u=y.interleaved,u===null?(d.next=d,Rs===null?Rs=[y]:Rs.push(y)):(d.next=u.next,u.next=d),y.interleaved=d):(u=y.pending,u===null?d.next=d:(d.next=u.next,u.next=d),y.pending=d))}function _g(u,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var S=d.lanes;S&=u.pendingLanes,y|=S,d.lanes=y,ex(u,y)}}function mT(u,d){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var M=null,P=null;if(y=y.firstBaseUpdate,y!==null){do{var G={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};P===null?M=P=G:P=P.next=G,y=y.next}while(y!==null);P===null?M=P=d:P=P.next=d}else M=P=d;y={baseState:S.baseState,firstBaseUpdate:M,lastBaseUpdate:P,shared:S.shared,effects:S.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=d:u.next=d,y.lastBaseUpdate=d}function xg(u,d,y,S){var M=u.updateQueue;Yo=!1;var P=M.firstBaseUpdate,G=M.lastBaseUpdate,$=M.shared.pending;if($!==null){M.shared.pending=null;var ve=$,He=ve.next;ve.next=null,G===null?P=He:G.next=He,G=ve;var ot=u.alternate;ot!==null&&(ot=ot.updateQueue,$=ot.lastBaseUpdate,$!==G&&($===null?ot.firstBaseUpdate=He:$.next=He,ot.lastBaseUpdate=ve))}if(P!==null){var Rt=M.baseState;G=0,ot=He=ve=null,$=P;do{var bt=$.lane,dr=$.eventTime;if((S&bt)===bt){ot!==null&&(ot=ot.next={eventTime:dr,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var ft=u,Vi=$;switch(bt=d,dr=y,Vi.tag){case 1:if(ft=Vi.payload,typeof ft=="function"){Rt=ft.call(dr,Rt,bt);break e}Rt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Vi.payload,bt=typeof ft=="function"?ft.call(dr,Rt,bt):ft,bt==null)break e;Rt=n({},Rt,bt);break e;case 2:Yo=!0}}$.callback!==null&&$.lane!==0&&(u.flags|=64,bt=M.effects,bt===null?M.effects=[$]:bt.push($))}else dr={eventTime:dr,lane:bt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ot===null?(He=ot=dr,ve=Rt):ot=ot.next=dr,G|=bt;if($=$.next,$===null){if($=M.shared.pending,$===null)break;bt=$,$=bt.next,bt.next=null,M.lastBaseUpdate=bt,M.shared.pending=null}}while(1);if(ot===null&&(ve=Rt),M.baseState=ve,M.firstBaseUpdate=He,M.lastBaseUpdate=ot,d=M.shared.interleaved,d!==null){M=d;do G|=M.lane,M=M.next;while(M!==d)}else P===null&&(M.shared.lanes=0);ih|=G,u.lanes=G,u.memoizedState=Rt}}function gT(u,d,y){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var S=u[d],M=S.callback;if(M!==null){if(S.callback=null,S=y,typeof M!="function")throw Error(a(191,M));M.call(S)}}}var vT=new t.Component().refs;function ux(u,d,y,S){d=u.memoizedState,y=y(S,d),y=y==null?d:n({},d,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var bg={isMounted:function(u){return(u=u._reactInternals)?I(u)===u:!1},enqueueSetState:function(u,d,y){u=u._reactInternals;var S=ln(),M=Qo(u),P=io(S,M);P.payload=d,y!=null&&(P.callback=y),qo(u,P),d=Ba(u,M,S),d!==null&&_g(d,u,M)},enqueueReplaceState:function(u,d,y){u=u._reactInternals;var S=ln(),M=Qo(u),P=io(S,M);P.tag=1,P.payload=d,y!=null&&(P.callback=y),qo(u,P),d=Ba(u,M,S),d!==null&&_g(d,u,M)},enqueueForceUpdate:function(u,d){u=u._reactInternals;var y=ln(),S=Qo(u),M=io(y,S);M.tag=2,d!=null&&(M.callback=d),qo(u,M),d=Ba(u,S,y),d!==null&&_g(d,u,S)}};function yT(u,d,y,S,M,P,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,P,G):d.prototype&&d.prototype.isPureReactComponent?!gg(y,S)||!gg(M,P):!0}function _T(u,d,y){var S=!1,M=Lt,P=d.contextType;return typeof P=="object"&&P!==null?P=Ea(P):(M=at(d)?Wt:Mt.current,S=d.contextTypes,P=(S=S!=null)?Qt(u,M):Lt),d=new d(y,P),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bg,u.stateNode=d,d._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=M,u.__reactInternalMemoizedMaskedChildContext=P),d}function xT(u,d,y,S){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,S),d.state!==u&&bg.enqueueReplaceState(d,d.state,null)}function hx(u,d,y,S){var M=u.stateNode;M.props=y,M.state=u.memoizedState,M.refs=vT,cx(u);var P=d.contextType;typeof P=="object"&&P!==null?M.context=Ea(P):(P=at(d)?Wt:Mt.current,M.context=Qt(u,P)),M.state=u.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(ux(u,d,P,y),M.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(d=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),d!==M.state&&bg.enqueueReplaceState(M,M.state,null),xg(u,y,M,S),M.state=u.memoizedState),typeof M.componentDidMount=="function"&&(u.flags|=4194308)}var qu=[],Ku=0,Ag=null,Sg=0,Ca=[],Ta=0,ac=null,no=1,ao="";function sc(u,d){qu[Ku++]=Sg,qu[Ku++]=Ag,Ag=u,Sg=d}function bT(u,d,y){Ca[Ta++]=no,Ca[Ta++]=ao,Ca[Ta++]=ac,ac=u;var S=no;u=ao;var M=32-Ti(S)-1;S&=~(1<<M),y+=1;var P=32-Ti(d)+M;if(30<P){var G=M-M%5;P=(S&(1<<G)-1).toString(32),S>>=G,M-=G,no=1<<32-Ti(d)+M|y<<M|S,ao=P+u}else no=1<<P|y<<M|S,ao=u}function dx(u){u.return!==null&&(sc(u,1),bT(u,1,0))}function px(u){for(;u===Ag;)Ag=qu[--Ku],qu[Ku]=null,Sg=qu[--Ku],qu[Ku]=null;for(;u===ac;)ac=Ca[--Ta],Ca[Ta]=null,ao=Ca[--Ta],Ca[Ta]=null,no=Ca[--Ta],Ca[Ta]=null}var Kn=null,Zn=null,Sr=!1,rp=!1,rs=null;function AT(u,d){var y=Ia(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=u,d=u.deletions,d===null?(u.deletions=[y],u.flags|=16):d.push(y)}function ST(u,d){switch(u.tag){case 5:return d=Xt(d,u.type,u.pendingProps),d!==null?(u.stateNode=d,Kn=u,Zn=mr(d),!0):!1;case 6:return d=Xe(d,u.pendingProps),d!==null?(u.stateNode=d,Kn=u,Zn=null,!0):!1;case 13:if(d=Et(d),d!==null){var y=ac!==null?{id:no,overflow:ao}:null;return u.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Ia(18,null,null,0),y.stateNode=d,y.return=u,u.child=y,Kn=u,Zn=null,!0}return!1;default:return!1}}function fx(u){return(u.mode&1)!==0&&(u.flags&128)===0}function mx(u){if(Sr){var d=Zn;if(d){var y=d;if(!ST(u,d)){if(fx(u))throw Error(a(418));d=Ct(y);var S=Kn;d&&ST(u,d)?AT(S,y):(u.flags=u.flags&-4097|2,Sr=!1,Kn=u)}}else{if(fx(u))throw Error(a(418));u.flags=u.flags&-4097|2,Sr=!1,Kn=u}}}function wT(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Kn=u}function ip(u){if(!oe||u!==Kn)return!1;if(!Sr)return wT(u),Sr=!0,!1;if(u.tag!==3&&(u.tag!==5||Qr(u.type)&&!se(u.type,u.memoizedProps))){var d=Zn;if(d){if(fx(u)){for(u=Zn;u;)u=Ct(u);throw Error(a(418))}for(;d;)AT(u,d),d=Ct(d)}}if(wT(u),u.tag===13){if(!oe)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));Zn=hr(u)}else Zn=Kn?Ct(u.stateNode):null;return!0}function Zu(){oe&&(Zn=Kn=null,rp=Sr=!1)}function gx(u){rs===null?rs=[u]:rs.push(u)}function np(u,d,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(a(309));var S=y.stateNode}if(!S)throw Error(a(147,u));var M=S,P=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===P?d.ref:(d=function(G){var $=M.refs;$===vT&&($=M.refs={}),G===null?delete $[P]:$[P]=G},d._stringRef=P,d)}if(typeof u!="string")throw Error(a(284));if(!y._owner)throw Error(a(290,u))}return u}function wg(u,d){throw u=Object.prototype.toString.call(d),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function MT(u){var d=u._init;return d(u._payload)}function ET(u){function d(le,re){if(u){var fe=le.deletions;fe===null?(le.deletions=[re],le.flags|=16):fe.push(re)}}function y(le,re){if(!u)return null;for(;re!==null;)d(le,re),re=re.sibling;return null}function S(le,re){for(le=new Map;re!==null;)re.key!==null?le.set(re.key,re):le.set(re.index,re),re=re.sibling;return le}function M(le,re){return le=el(le,re),le.index=0,le.sibling=null,le}function P(le,re,fe){return le.index=fe,u?(fe=le.alternate,fe!==null?(fe=fe.index,fe<re?(le.flags|=2,re):fe):(le.flags|=2,re)):(le.flags|=1048576,re)}function G(le){return u&&le.alternate===null&&(le.flags|=2),le}function $(le,re,fe,rt){return re===null||re.tag!==6?(re=Qx(fe,le.mode,rt),re.return=le,re):(re=M(re,fe),re.return=le,re)}function ve(le,re,fe,rt){var mt=fe.type;return mt===c?ot(le,re,fe.props.children,rt,fe.key):re!==null&&(re.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&MT(mt)===re.type)?(rt=M(re,fe.props),rt.ref=np(le,re,fe),rt.return=le,rt):(rt=t0(fe.type,fe.key,fe.props,null,le.mode,rt),rt.ref=np(le,re,fe),rt.return=le,rt)}function He(le,re,fe,rt){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=$x(fe,le.mode,rt),re.return=le,re):(re=M(re,fe.children||[]),re.return=le,re)}function ot(le,re,fe,rt,mt){return re===null||re.tag!==7?(re=pc(fe,le.mode,rt,mt),re.return=le,re):(re=M(re,fe),re.return=le,re)}function Rt(le,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Qx(""+re,le.mode,fe),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case o:return fe=t0(re.type,re.key,re.props,null,le.mode,fe),fe.ref=np(le,null,re),fe.return=le,fe;case l:return re=$x(re,le.mode,fe),re.return=le,re;case b:var rt=re._init;return Rt(le,rt(re._payload),fe)}if(Z(re)||T(re))return re=pc(re,le.mode,fe,null),re.return=le,re;wg(le,re)}return null}function bt(le,re,fe,rt){var mt=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return mt!==null?null:$(le,re,""+fe,rt);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case o:return fe.key===mt?ve(le,re,fe,rt):null;case l:return fe.key===mt?He(le,re,fe,rt):null;case b:return mt=fe._init,bt(le,re,mt(fe._payload),rt)}if(Z(fe)||T(fe))return mt!==null?null:ot(le,re,fe,rt,null);wg(le,fe)}return null}function dr(le,re,fe,rt,mt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return le=le.get(fe)||null,$(re,le,""+rt,mt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case o:return le=le.get(rt.key===null?fe:rt.key)||null,ve(re,le,rt,mt);case l:return le=le.get(rt.key===null?fe:rt.key)||null,He(re,le,rt,mt);case b:var kt=rt._init;return dr(le,re,fe,kt(rt._payload),mt)}if(Z(rt)||T(rt))return le=le.get(fe)||null,ot(re,le,rt,mt,null);wg(re,rt)}return null}function ft(le,re,fe,rt){for(var mt=null,kt=null,Pt=re,nr=re=0,_i=null;Pt!==null&&nr<fe.length;nr++){Pt.index>nr?(_i=Pt,Pt=null):_i=Pt.sibling;var ar=bt(le,Pt,fe[nr],rt);if(ar===null){Pt===null&&(Pt=_i);break}u&&Pt&&ar.alternate===null&&d(le,Pt),re=P(ar,re,nr),kt===null?mt=ar:kt.sibling=ar,kt=ar,Pt=_i}if(nr===fe.length)return y(le,Pt),Sr&&sc(le,nr),mt;if(Pt===null){for(;nr<fe.length;nr++)Pt=Rt(le,fe[nr],rt),Pt!==null&&(re=P(Pt,re,nr),kt===null?mt=Pt:kt.sibling=Pt,kt=Pt);return Sr&&sc(le,nr),mt}for(Pt=S(le,Pt);nr<fe.length;nr++)_i=dr(Pt,le,nr,fe[nr],rt),_i!==null&&(u&&_i.alternate!==null&&Pt.delete(_i.key===null?nr:_i.key),re=P(_i,re,nr),kt===null?mt=_i:kt.sibling=_i,kt=_i);return u&&Pt.forEach(function(tl){return d(le,tl)}),Sr&&sc(le,nr),mt}function Vi(le,re,fe,rt){var mt=T(fe);if(typeof mt!="function")throw Error(a(150));if(fe=mt.call(fe),fe==null)throw Error(a(151));for(var kt=mt=null,Pt=re,nr=re=0,_i=null,ar=fe.next();Pt!==null&&!ar.done;nr++,ar=fe.next()){Pt.index>nr?(_i=Pt,Pt=null):_i=Pt.sibling;var tl=bt(le,Pt,ar.value,rt);if(tl===null){Pt===null&&(Pt=_i);break}u&&Pt&&tl.alternate===null&&d(le,Pt),re=P(tl,re,nr),kt===null?mt=tl:kt.sibling=tl,kt=tl,Pt=_i}if(ar.done)return y(le,Pt),Sr&&sc(le,nr),mt;if(Pt===null){for(;!ar.done;nr++,ar=fe.next())ar=Rt(le,ar.value,rt),ar!==null&&(re=P(ar,re,nr),kt===null?mt=ar:kt.sibling=ar,kt=ar);return Sr&&sc(le,nr),mt}for(Pt=S(le,Pt);!ar.done;nr++,ar=fe.next())ar=dr(Pt,le,nr,ar.value,rt),ar!==null&&(u&&ar.alternate!==null&&Pt.delete(ar.key===null?nr:ar.key),re=P(ar,re,nr),kt===null?mt=ar:kt.sibling=ar,kt=ar);return u&&Pt.forEach(function(G4){return d(le,G4)}),Sr&&sc(le,nr),mt}function Da(le,re,fe,rt){if(typeof fe=="object"&&fe!==null&&fe.type===c&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case o:e:{for(var mt=fe.key,kt=re;kt!==null;){if(kt.key===mt){if(mt=fe.type,mt===c){if(kt.tag===7){y(le,kt.sibling),re=M(kt,fe.props.children),re.return=le,le=re;break e}}else if(kt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&MT(mt)===kt.type){y(le,kt.sibling),re=M(kt,fe.props),re.ref=np(le,kt,fe),re.return=le,le=re;break e}y(le,kt);break}else d(le,kt);kt=kt.sibling}fe.type===c?(re=pc(fe.props.children,le.mode,rt,fe.key),re.return=le,le=re):(rt=t0(fe.type,fe.key,fe.props,null,le.mode,rt),rt.ref=np(le,re,fe),rt.return=le,le=rt)}return G(le);case l:e:{for(kt=fe.key;re!==null;){if(re.key===kt)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){y(le,re.sibling),re=M(re,fe.children||[]),re.return=le,le=re;break e}else{y(le,re);break}else d(le,re);re=re.sibling}re=$x(fe,le.mode,rt),re.return=le,le=re}return G(le);case b:return kt=fe._init,Da(le,re,kt(fe._payload),rt)}if(Z(fe))return ft(le,re,fe,rt);if(T(fe))return Vi(le,re,fe,rt);wg(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,re!==null&&re.tag===6?(y(le,re.sibling),re=M(re,fe),re.return=le,le=re):(y(le,re),re=Qx(fe,le.mode,rt),re.return=le,le=re),G(le)):y(le,re)}return Da}var Qu=ET(!0),CT=ET(!1),ap={},Ra=dt(ap),sp=dt(ap),$u=dt(ap);function Ps(u){if(u===ap)throw Error(a(174));return u}function vx(u,d){qe($u,d),qe(sp,u),qe(Ra,ap),u=X(d),Ke(Ra),qe(Ra,u)}function eh(){Ke(Ra),Ke(sp),Ke($u)}function TT(u){var d=Ps($u.current),y=Ps(Ra.current);d=ie(y,u.type,d),y!==d&&(qe(sp,u),qe(Ra,d))}function yx(u){sp.current===u&&(Ke(Ra),Ke(sp))}var Pr=dt(0);function Mg(u){for(var d=u;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||gt(y)||xt(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var _x=[];function xx(){for(var u=0;u<_x.length;u++){var d=_x[u];it?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}_x.length=0}var Eg=s.ReactCurrentDispatcher,Pa=s.ReactCurrentBatchConfig,th=0,Ur=null,zi=null,yi=null,Cg=!1,op=!1,lp=0,d4=0;function Gi(){throw Error(a(321))}function bx(u,d){if(d===null)return!1;for(var y=0;y<d.length&&y<u.length;y++)if(!Cs(u[y],d[y]))return!1;return!0}function Ax(u,d,y,S,M,P){if(th=P,Ur=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Eg.current=u===null||u.memoizedState===null?g4:v4,u=y(S,M),op){P=0;do{if(op=!1,lp=0,25<=P)throw Error(a(301));P+=1,yi=zi=null,d.updateQueue=null,Eg.current=y4,u=y(S,M)}while(op)}if(Eg.current=Ig,d=zi!==null&&zi.next!==null,th=0,yi=zi=Ur=null,Cg=!1,d)throw Error(a(300));return u}function Sx(){var u=lp!==0;return lp=0,u}function so(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?Ur.memoizedState=yi=u:yi=yi.next=u,yi}function Bs(){if(zi===null){var u=Ur.alternate;u=u!==null?u.memoizedState:null}else u=zi.next;var d=yi===null?Ur.memoizedState:yi.next;if(d!==null)yi=d,zi=u;else{if(u===null)throw Error(a(310));zi=u,u={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},yi===null?Ur.memoizedState=yi=u:yi=yi.next=u}return yi}function oc(u,d){return typeof d=="function"?d(u):d}function Tg(u){var d=Bs(),y=d.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=u;var S=zi,M=S.baseQueue,P=y.pending;if(P!==null){if(M!==null){var G=M.next;M.next=P.next,P.next=G}S.baseQueue=M=P,y.pending=null}if(M!==null){P=M.next,S=S.baseState;var $=G=null,ve=null,He=P;do{var ot=He.lane;if((th&ot)===ot)ve!==null&&(ve=ve.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),S=He.hasEagerState?He.eagerState:u(S,He.action);else{var Rt={lane:ot,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};ve===null?($=ve=Rt,G=S):ve=ve.next=Rt,Ur.lanes|=ot,ih|=ot}He=He.next}while(He!==null&&He!==P);ve===null?G=S:ve.next=$,Cs(S,d.memoizedState)||(Qn=!0),d.memoizedState=S,d.baseState=G,d.baseQueue=ve,y.lastRenderedState=S}if(u=y.interleaved,u!==null){M=u;do P=M.lane,Ur.lanes|=P,ih|=P,M=M.next;while(M!==u)}else M===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function Rg(u){var d=Bs(),y=d.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=u;var S=y.dispatch,M=y.pending,P=d.memoizedState;if(M!==null){y.pending=null;var G=M=M.next;do P=u(P,G.action),G=G.next;while(G!==M);Cs(P,d.memoizedState)||(Qn=!0),d.memoizedState=P,d.baseQueue===null&&(d.baseState=P),y.lastRenderedState=P}return[P,S]}function RT(){}function PT(u,d){var y=Ur,S=Bs(),M=d(),P=!Cs(S.memoizedState,M);if(P&&(S.memoizedState=M,Qn=!0),S=S.queue,up(DT.bind(null,y,S,u),[u]),S.getSnapshot!==d||P||yi!==null&&yi.memoizedState.tag&1){if(y.flags|=2048,cp(9,IT.bind(null,y,S,M,d),void 0,null),ei===null)throw Error(a(349));th&30||BT(y,d,M)}return M}function BT(u,d,y){u.flags|=16384,u={getSnapshot:d,value:y},d=Ur.updateQueue,d===null?(d={lastEffect:null,stores:null},Ur.updateQueue=d,d.stores=[u]):(y=d.stores,y===null?d.stores=[u]:y.push(u))}function IT(u,d,y,S){d.value=y,d.getSnapshot=S,LT(d)&&Ba(u,1,-1)}function DT(u,d,y){return y(function(){LT(d)&&Ba(u,1,-1)})}function LT(u){var d=u.getSnapshot;u=u.value;try{var y=d();return!Cs(u,y)}catch{return!0}}function wx(u){var d=so();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:u},d.queue=u,u=u.dispatch=m4.bind(null,Ur,u),[d.memoizedState,u]}function cp(u,d,y,S){return u={tag:u,create:d,destroy:y,deps:S,next:null},d=Ur.updateQueue,d===null?(d={lastEffect:null,stores:null},Ur.updateQueue=d,d.lastEffect=u.next=u):(y=d.lastEffect,y===null?d.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,d.lastEffect=u)),u}function FT(){return Bs().memoizedState}function Pg(u,d,y,S){var M=so();Ur.flags|=u,M.memoizedState=cp(1|d,y,void 0,S===void 0?null:S)}function Bg(u,d,y,S){var M=Bs();S=S===void 0?null:S;var P=void 0;if(zi!==null){var G=zi.memoizedState;if(P=G.destroy,S!==null&&bx(S,G.deps)){M.memoizedState=cp(d,y,P,S);return}}Ur.flags|=u,M.memoizedState=cp(1|d,y,P,S)}function Mx(u,d){return Pg(8390656,8,u,d)}function up(u,d){return Bg(2048,8,u,d)}function kT(u,d){return Bg(4,2,u,d)}function OT(u,d){return Bg(4,4,u,d)}function NT(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function UT(u,d,y){return y=y!=null?y.concat([u]):null,Bg(4,4,NT.bind(null,d,u),y)}function Ex(){}function zT(u,d){var y=Bs();d=d===void 0?null:d;var S=y.memoizedState;return S!==null&&d!==null&&bx(d,S[1])?S[0]:(y.memoizedState=[u,d],u)}function GT(u,d){var y=Bs();d=d===void 0?null:d;var S=y.memoizedState;return S!==null&&d!==null&&bx(d,S[1])?S[0]:(u=u(),y.memoizedState=[u,d],u)}function p4(u,d){var y=ir;ir=y!==0&&4>y?y:4,u(!0);var S=Pa.transition;Pa.transition={};try{u(!1),d()}finally{ir=y,Pa.transition=S}}function HT(){return Bs().memoizedState}function f4(u,d,y){var S=Qo(u);y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},VT(u)?jT(d,y):(WT(u,d,y),y=ln(),u=Ba(u,S,y),u!==null&&XT(u,d,S))}function m4(u,d,y){var S=Qo(u),M={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(VT(u))jT(d,M);else{WT(u,d,M);var P=u.alternate;if(u.lanes===0&&(P===null||P.lanes===0)&&(P=d.lastRenderedReducer,P!==null))try{var G=d.lastRenderedState,$=P(G,y);if(M.hasEagerState=!0,M.eagerState=$,Cs($,G))return}catch{}finally{}y=ln(),u=Ba(u,S,y),u!==null&&XT(u,d,S)}}function VT(u){var d=u.alternate;return u===Ur||d!==null&&d===Ur}function jT(u,d){op=Cg=!0;var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}function WT(u,d,y){ei!==null&&u.mode&1&&!(Nt&2)?(u=d.interleaved,u===null?(y.next=y,Rs===null?Rs=[d]:Rs.push(d)):(y.next=u.next,u.next=y),d.interleaved=y):(u=d.pending,u===null?y.next=y:(y.next=u.next,u.next=y),d.pending=y)}function XT(u,d,y){if(y&4194240){var S=d.lanes;S&=u.pendingLanes,y|=S,d.lanes=y,ex(u,y)}}var Ig={readContext:Ea,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},g4={readContext:Ea,useCallback:function(u,d){return so().memoizedState=[u,d===void 0?null:d],u},useContext:Ea,useEffect:Mx,useImperativeHandle:function(u,d,y){return y=y!=null?y.concat([u]):null,Pg(4194308,4,NT.bind(null,d,u),y)},useLayoutEffect:function(u,d){return Pg(4194308,4,u,d)},useInsertionEffect:function(u,d){return Pg(4,2,u,d)},useMemo:function(u,d){var y=so();return d=d===void 0?null:d,u=u(),y.memoizedState=[u,d],u},useReducer:function(u,d,y){var S=so();return d=y!==void 0?y(d):d,S.memoizedState=S.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},S.queue=u,u=u.dispatch=f4.bind(null,Ur,u),[S.memoizedState,u]},useRef:function(u){var d=so();return u={current:u},d.memoizedState=u},useState:wx,useDebugValue:Ex,useDeferredValue:function(u){var d=wx(u),y=d[0],S=d[1];return Mx(function(){var M=Pa.transition;Pa.transition={};try{S(u)}finally{Pa.transition=M}},[u]),y},useTransition:function(){var u=wx(!1),d=u[0];return u=p4.bind(null,u[1]),so().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,y){var S=Ur,M=so();if(Sr){if(y===void 0)throw Error(a(407));y=y()}else{if(y=d(),ei===null)throw Error(a(349));th&30||BT(S,d,y)}M.memoizedState=y;var P={value:y,getSnapshot:d};return M.queue=P,Mx(DT.bind(null,S,P,u),[u]),S.flags|=2048,cp(9,IT.bind(null,S,P,y,d),void 0,null),y},useId:function(){var u=so(),d=ei.identifierPrefix;if(Sr){var y=ao,S=no;y=(S&~(1<<32-Ti(S)-1)).toString(32)+y,d=":"+d+"R"+y,y=lp++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=d4++,d=":"+d+"r"+y.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},v4={readContext:Ea,useCallback:zT,useContext:Ea,useEffect:up,useImperativeHandle:UT,useInsertionEffect:kT,useLayoutEffect:OT,useMemo:GT,useReducer:Tg,useRef:FT,useState:function(){return Tg(oc)},useDebugValue:Ex,useDeferredValue:function(u){var d=Tg(oc),y=d[0],S=d[1];return up(function(){var M=Pa.transition;Pa.transition={};try{S(u)}finally{Pa.transition=M}},[u]),y},useTransition:function(){var u=Tg(oc)[0],d=Bs().memoizedState;return[u,d]},useMutableSource:RT,useSyncExternalStore:PT,useId:HT,unstable_isNewReconciler:!1},y4={readContext:Ea,useCallback:zT,useContext:Ea,useEffect:up,useImperativeHandle:UT,useInsertionEffect:kT,useLayoutEffect:OT,useMemo:GT,useReducer:Rg,useRef:FT,useState:function(){return Rg(oc)},useDebugValue:Ex,useDeferredValue:function(u){var d=Rg(oc),y=d[0],S=d[1];return up(function(){var M=Pa.transition;Pa.transition={};try{S(u)}finally{Pa.transition=M}},[u]),y},useTransition:function(){var u=Rg(oc)[0],d=Bs().memoizedState;return[u,d]},useMutableSource:RT,useSyncExternalStore:PT,useId:HT,unstable_isNewReconciler:!1};function Cx(u,d){try{var y="",S=d;do y+=h4(S),S=S.return;while(S);var M=y}catch(P){M=`
Error generating stack: `+P.message+`
`+P.stack}return{value:u,source:d,stack:M}}function Tx(u,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var _4=typeof WeakMap=="function"?WeakMap:Map;function JT(u,d,y){y=io(-1,y),y.tag=3,y.payload={element:null};var S=d.value;return y.callback=function(){Yg||(Yg=!0,Wx=S),Tx(u,d)},y}function YT(u,d,y){y=io(-1,y),y.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var M=d.value;y.payload=function(){return S(M)},y.callback=function(){Tx(u,d)}}var P=u.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(y.callback=function(){Tx(u,d),typeof S!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),y}function qT(u,d,y){var S=u.pingCache;if(S===null){S=u.pingCache=new _4;var M=new Set;S.set(d,M)}else M=S.get(d),M===void 0&&(M=new Set,S.set(d,M));M.has(y)||(M.add(y),u=D4.bind(null,u,d,y),d.then(u,u))}function KT(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function ZT(u,d,y,S,M){return u.mode&1?(u.flags|=65536,u.lanes=M,u):(u===d?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=io(-1,1),d.tag=2,qo(y,d))),y.lanes|=1),u)}function Is(u){u.flags|=4}function QT(u,d){if(u!==null&&u.child===d.child)return!0;if(d.flags&16)return!1;for(u=d.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var hp,dp,Dg,Lg;if(Ne)hp=function(u,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)pe(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},dp=function(){},Dg=function(u,d,y,S,M){if(u=u.memoizedProps,u!==S){var P=d.stateNode,G=Ps(Ra.current);y=Le(P,y,u,S,M,G),(d.updateQueue=y)&&Is(d)}},Lg=function(u,d,y,S){y!==S&&Is(d)};else if(ue){hp=function(u,d,y,S){for(var M=d.child;M!==null;){if(M.tag===5){var P=M.stateNode;y&&S&&(P=Re(P,M.type,M.memoizedProps,M)),pe(u,P)}else if(M.tag===6)P=M.stateNode,y&&S&&(P=nt(P,M.memoizedProps,M)),pe(u,P);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)P=M.child,P!==null&&(P.return=M),hp(u,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var $T=function(u,d,y,S){for(var M=d.child;M!==null;){if(M.tag===5){var P=M.stateNode;y&&S&&(P=Re(P,M.type,M.memoizedProps,M)),De(u,P)}else if(M.tag===6)P=M.stateNode,y&&S&&(P=nt(P,M.memoizedProps,M)),De(u,P);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)P=M.child,P!==null&&(P.return=M),$T(u,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};dp=function(u,d){var y=d.stateNode;if(!QT(u,d)){u=y.containerInfo;var S=Ge(u);$T(S,d,!1,!1),y.pendingChildren=S,Is(d),yt(u,S)}},Dg=function(u,d,y,S,M){var P=u.stateNode,G=u.memoizedProps;if((u=QT(u,d))&&G===S)d.stateNode=P;else{var $=d.stateNode,ve=Ps(Ra.current),He=null;G!==S&&(He=Le($,y,G,S,M,ve)),u&&He===null?d.stateNode=P:(P=be(P,He,y,G,S,d,u,$),we(P,y,S,M,ve)&&Is(d),d.stateNode=P,u?Is(d):hp(P,d,!1,!1))}},Lg=function(u,d,y,S){y!==S?(u=Ps($u.current),y=Ps(Ra.current),d.stateNode=ye(S,u,y,d),Is(d)):d.stateNode=u.stateNode}}else dp=function(){},Dg=function(){},Lg=function(){};function pp(u,d){if(!Sr)switch(u.tailMode){case"hidden":d=u.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function Hi(u){var d=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(d)for(var M=u.child;M!==null;)y|=M.lanes|M.childLanes,S|=M.subtreeFlags&14680064,S|=M.flags&14680064,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)y|=M.lanes|M.childLanes,S|=M.subtreeFlags,S|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=S,u.childLanes=y,d}function x4(u,d,y){var S=d.pendingProps;switch(px(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(d),null;case 1:return at(d.type)&&$r(),Hi(d),null;case 3:return S=d.stateNode,eh(),Ke(qt),Ke(Mt),xx(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(ip(d)?Is(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,rs!==null&&(Yx(rs),rs=null))),dp(u,d),Hi(d),null;case 5:yx(d),y=Ps($u.current);var M=d.type;if(u!==null&&d.stateNode!=null)Dg(u,d,M,S,y),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(a(166));return Hi(d),null}if(u=Ps(Ra.current),ip(d)){if(!oe)throw Error(a(175));u=sr(d.stateNode,d.type,d.memoizedProps,y,u,d,!rp),d.updateQueue=u,u!==null&&Is(d)}else{var P=q(M,S,y,u,d);hp(P,d,!1,!1),d.stateNode=P,we(P,M,S,y,u)&&Is(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Hi(d),null;case 6:if(u&&d.stateNode!=null)Lg(u,d,u.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(a(166));if(u=Ps($u.current),y=Ps(Ra.current),ip(d)){if(!oe)throw Error(a(176));if(u=d.stateNode,S=d.memoizedProps,(y=rr(u,S,d,!rp))&&(M=Kn,M!==null))switch(P=(M.mode&1)!==0,M.tag){case 3:k(M.stateNode.containerInfo,u,S,P);break;case 5:te(M.type,M.memoizedProps,M.stateNode,u,S,P)}y&&Is(d)}else d.stateNode=ye(S,u,y,d)}return Hi(d),null;case 13:if(Ke(Pr),S=d.memoizedState,Sr&&Zn!==null&&d.mode&1&&!(d.flags&128)){for(u=Zn;u;)u=Ct(u);return Zu(),d.flags|=98560,d}if(S!==null&&S.dehydrated!==null){if(S=ip(d),u===null){if(!S)throw Error(a(318));if(!oe)throw Error(a(344));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));Oi(u,d)}else Zu(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Hi(d),null}return rs!==null&&(Yx(rs),rs=null),d.flags&128?(d.lanes=y,d):(S=S!==null,y=!1,u===null?ip(d):y=u.memoizedState!==null,S&&!y&&(d.child.flags|=8192,d.mode&1&&(u===null||Pr.current&1?li===0&&(li=3):Kx())),d.updateQueue!==null&&(d.flags|=4),Hi(d),null);case 4:return eh(),dp(u,d),u===null&&z(d.stateNode.containerInfo),Hi(d),null;case 10:return ox(d.type._context),Hi(d),null;case 17:return at(d.type)&&$r(),Hi(d),null;case 19:if(Ke(Pr),M=d.memoizedState,M===null)return Hi(d),null;if(S=(d.flags&128)!==0,P=M.rendering,P===null)if(S)pp(M,!1);else{if(li!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(P=Mg(u),P!==null){for(d.flags|=128,pp(M,!1),u=P.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),d.subtreeFlags=0,u=y,S=d.child;S!==null;)y=S,M=u,y.flags&=14680066,P=y.alternate,P===null?(y.childLanes=0,y.lanes=M,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=P.childLanes,y.lanes=P.lanes,y.child=P.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=P.memoizedProps,y.memoizedState=P.memoizedState,y.updateQueue=P.updateQueue,y.type=P.type,M=P.dependencies,y.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),S=S.sibling;return qe(Pr,Pr.current&1|2),d.child}u=u.sibling}M.tail!==null&&vi()>jx&&(d.flags|=128,S=!0,pp(M,!1),d.lanes=4194304)}else{if(!S)if(u=Mg(P),u!==null){if(d.flags|=128,S=!0,u=u.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),pp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!P.alternate&&!Sr)return Hi(d),null}else 2*vi()-M.renderingStartTime>jx&&y!==1073741824&&(d.flags|=128,S=!0,pp(M,!1),d.lanes=4194304);M.isBackwards?(P.sibling=d.child,d.child=P):(u=M.last,u!==null?u.sibling=P:d.child=P,M.last=P)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=vi(),d.sibling=null,u=Pr.current,qe(Pr,S?u&1|2:u&1),d):(Hi(d),null);case 22:case 23:return qx(),S=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(d.flags|=8192),S&&d.mode&1?$n&1073741824&&(Hi(d),Ne&&d.subtreeFlags&6&&(d.flags|=8192)):Hi(d),null;case 24:return null;case 25:return null}throw Error(a(156,d.tag))}var b4=s.ReactCurrentOwner,Qn=!1;function on(u,d,y,S){d.child=u===null?CT(d,null,y,S):Qu(d,u.child,y,S)}function e2(u,d,y,S,M){y=y.render;var P=d.ref;return Yu(d,M),S=Ax(u,d,y,S,P,M),y=Sx(),u!==null&&!Qn?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~M,oo(u,d,M)):(Sr&&y&&dx(d),d.flags|=1,on(u,d,S,M),d.child)}function t2(u,d,y,S,M){if(u===null){var P=y.type;return typeof P=="function"&&!Zx(P)&&P.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=P,r2(u,d,P,S,M)):(u=t0(y.type,null,S,d,d.mode,M),u.ref=d.ref,u.return=d,d.child=u)}if(P=u.child,!(u.lanes&M)){var G=P.memoizedProps;if(y=y.compare,y=y!==null?y:gg,y(G,S)&&u.ref===d.ref)return oo(u,d,M)}return d.flags|=1,u=el(P,S),u.ref=d.ref,u.return=d,d.child=u}function r2(u,d,y,S,M){if(u!==null&&gg(u.memoizedProps,S)&&u.ref===d.ref)if(Qn=!1,(u.lanes&M)!==0)u.flags&131072&&(Qn=!0);else return d.lanes=u.lanes,oo(u,d,M);return Rx(u,d,y,S,M)}function i2(u,d,y){var S=d.pendingProps,M=S.children,P=u!==null?u.memoizedState:null;if(S.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},qe(rh,$n),$n|=y;else if(y&1073741824)d.memoizedState={baseLanes:0,cachePool:null},S=P!==null?P.baseLanes:y,qe(rh,$n),$n|=S;else return u=P!==null?P.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null},d.updateQueue=null,qe(rh,$n),$n|=u,null;else P!==null?(S=P.baseLanes|y,d.memoizedState=null):S=y,qe(rh,$n),$n|=S;return on(u,d,M,y),d.child}function n2(u,d){var y=d.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function Rx(u,d,y,S,M){var P=at(y)?Wt:Mt.current;return P=Qt(d,P),Yu(d,M),y=Ax(u,d,y,S,P,M),S=Sx(),u!==null&&!Qn?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~M,oo(u,d,M)):(Sr&&S&&dx(d),d.flags|=1,on(u,d,y,M),d.child)}function a2(u,d,y,S,M){if(at(y)){var P=!0;es(d)}else P=!1;if(Yu(d,M),d.stateNode===null)u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),_T(d,y,S),hx(d,y,S,M),S=!0;else if(u===null){var G=d.stateNode,$=d.memoizedProps;G.props=$;var ve=G.context,He=y.contextType;typeof He=="object"&&He!==null?He=Ea(He):(He=at(y)?Wt:Mt.current,He=Qt(d,He));var ot=y.getDerivedStateFromProps,Rt=typeof ot=="function"||typeof G.getSnapshotBeforeUpdate=="function";Rt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||($!==S||ve!==He)&&xT(d,G,S,He),Yo=!1;var bt=d.memoizedState;G.state=bt,xg(d,S,G,M),ve=d.memoizedState,$!==S||bt!==ve||qt.current||Yo?(typeof ot=="function"&&(ux(d,y,ot,S),ve=d.memoizedState),($=Yo||yT(d,y,$,S,bt,ve,He))?(Rt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=ve),G.props=S,G.state=ve,G.context=He,S=$):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{G=d.stateNode,fT(u,d),$=d.memoizedProps,He=d.type===d.elementType?$:ts(d.type,$),G.props=He,Rt=d.pendingProps,bt=G.context,ve=y.contextType,typeof ve=="object"&&ve!==null?ve=Ea(ve):(ve=at(y)?Wt:Mt.current,ve=Qt(d,ve));var dr=y.getDerivedStateFromProps;(ot=typeof dr=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||($!==Rt||bt!==ve)&&xT(d,G,S,ve),Yo=!1,bt=d.memoizedState,G.state=bt,xg(d,S,G,M);var ft=d.memoizedState;$!==Rt||bt!==ft||qt.current||Yo?(typeof dr=="function"&&(ux(d,y,dr,S),ft=d.memoizedState),(He=Yo||yT(d,y,He,S,bt,ft,ve)||!1)?(ot||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(S,ft,ve),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(S,ft,ve)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||$===u.memoizedProps&&bt===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&bt===u.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=ft),G.props=S,G.state=ft,G.context=ve,S=He):(typeof G.componentDidUpdate!="function"||$===u.memoizedProps&&bt===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&bt===u.memoizedState||(d.flags|=1024),S=!1)}return Px(u,d,y,S,P,M)}function Px(u,d,y,S,M,P){n2(u,d);var G=(d.flags&128)!==0;if(!S&&!G)return M&&Ni(d,y,!1),oo(u,d,P);S=d.stateNode,b4.current=d;var $=G&&typeof y.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,u!==null&&G?(d.child=Qu(d,u.child,null,P),d.child=Qu(d,null,$,P)):on(u,d,$,P),d.memoizedState=S.state,M&&Ni(d,y,!0),d.child}function s2(u){var d=u.stateNode;d.pendingContext?Ms(u,d.pendingContext,d.pendingContext!==d.context):d.context&&Ms(u,d.context,!1),vx(u,d.containerInfo)}function o2(u,d,y,S,M){return Zu(),gx(M),d.flags|=256,on(u,d,y,S),d.child}var Fg={dehydrated:null,treeContext:null,retryLane:0};function kg(u){return{baseLanes:u,cachePool:null}}function l2(u,d,y){var S=d.pendingProps,M=Pr.current,P=!1,G=(d.flags&128)!==0,$;if(($=G)||($=u!==null&&u.memoizedState===null?!1:(M&2)!==0),$?(P=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(M|=1),qe(Pr,M&1),u===null)return mx(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(d.mode&1?xt(u)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(M=S.children,u=S.fallback,P?(S=d.mode,P=d.child,M={mode:"hidden",children:M},!(S&1)&&P!==null?(P.childLanes=0,P.pendingProps=M):P=r0(M,S,0,null),u=pc(u,S,y,null),P.return=d,u.return=d,P.sibling=u,d.child=P,d.child.memoizedState=kg(y),d.memoizedState=Fg,u):Bx(d,M));if(M=u.memoizedState,M!==null){if($=M.dehydrated,$!==null){if(G)return d.flags&256?(d.flags&=-257,Og(u,d,y,Error(a(422)))):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(P=S.fallback,M=d.mode,S=r0({mode:"visible",children:S.children},M,0,null),P=pc(P,M,y,null),P.flags|=2,S.return=d,P.return=d,S.sibling=P,d.child=S,d.mode&1&&Qu(d,u.child,null,y),d.child.memoizedState=kg(y),d.memoizedState=Fg,P);if(!(d.mode&1))d=Og(u,d,y,null);else if(xt($))d=Og(u,d,y,Error(a(419)));else if(S=(y&u.childLanes)!==0,Qn||S){if(S=ei,S!==null){switch(y&-y){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}S=P&(S.suspendedLanes|y)?0:P,S!==0&&S!==M.retryLane&&(M.retryLane=S,Ba(u,S,-1))}Kx(),d=Og(u,d,y,Error(a(421)))}else gt($)?(d.flags|=128,d.child=u.child,d=L4.bind(null,u),Ar($,d),d=null):(y=M.treeContext,oe&&(Zn=ur($),Kn=d,Sr=!0,rs=null,rp=!1,y!==null&&(Ca[Ta++]=no,Ca[Ta++]=ao,Ca[Ta++]=ac,no=y.id,ao=y.overflow,ac=d)),d=Bx(d,d.pendingProps.children),d.flags|=4096);return d}return P?(S=u2(u,d,S.children,S.fallback,y),P=d.child,M=u.child.memoizedState,P.memoizedState=M===null?kg(y):{baseLanes:M.baseLanes|y,cachePool:null},P.childLanes=u.childLanes&~y,d.memoizedState=Fg,S):(y=c2(u,d,S.children,y),d.memoizedState=null,y)}return P?(S=u2(u,d,S.children,S.fallback,y),P=d.child,M=u.child.memoizedState,P.memoizedState=M===null?kg(y):{baseLanes:M.baseLanes|y,cachePool:null},P.childLanes=u.childLanes&~y,d.memoizedState=Fg,S):(y=c2(u,d,S.children,y),d.memoizedState=null,y)}function Bx(u,d){return d=r0({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function c2(u,d,y,S){var M=u.child;return u=M.sibling,y=el(M,{mode:"visible",children:y}),!(d.mode&1)&&(y.lanes=S),y.return=d,y.sibling=null,u!==null&&(S=d.deletions,S===null?(d.deletions=[u],d.flags|=16):S.push(u)),d.child=y}function u2(u,d,y,S,M){var P=d.mode;u=u.child;var G=u.sibling,$={mode:"hidden",children:y};return!(P&1)&&d.child!==u?(y=d.child,y.childLanes=0,y.pendingProps=$,d.deletions=null):(y=el(u,$),y.subtreeFlags=u.subtreeFlags&14680064),G!==null?S=el(G,S):(S=pc(S,P,M,null),S.flags|=2),S.return=d,y.return=d,y.sibling=S,d.child=y,S}function Og(u,d,y,S){return S!==null&&gx(S),Qu(d,u.child,null,y),u=Bx(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function h2(u,d,y){u.lanes|=d;var S=u.alternate;S!==null&&(S.lanes|=d),lx(u.return,d,y)}function Ix(u,d,y,S,M){var P=u.memoizedState;P===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:M}:(P.isBackwards=d,P.rendering=null,P.renderingStartTime=0,P.last=S,P.tail=y,P.tailMode=M)}function d2(u,d,y){var S=d.pendingProps,M=S.revealOrder,P=S.tail;if(on(u,d,S.children,y),S=Pr.current,S&2)S=S&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&h2(u,y,d);else if(u.tag===19)h2(u,y,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(qe(Pr,S),!(d.mode&1))d.memoizedState=null;else switch(M){case"forwards":for(y=d.child,M=null;y!==null;)u=y.alternate,u!==null&&Mg(u)===null&&(M=y),y=y.sibling;y=M,y===null?(M=d.child,d.child=null):(M=y.sibling,y.sibling=null),Ix(d,!1,M,y,P);break;case"backwards":for(y=null,M=d.child,d.child=null;M!==null;){if(u=M.alternate,u!==null&&Mg(u)===null){d.child=M;break}u=M.sibling,M.sibling=y,y=M,M=u}Ix(d,!0,y,null,P);break;case"together":Ix(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function oo(u,d,y){if(u!==null&&(d.dependencies=u.dependencies),ih|=d.lanes,!(y&d.childLanes))return null;if(u!==null&&d.child!==u.child)throw Error(a(153));if(d.child!==null){for(u=d.child,y=el(u,u.pendingProps),d.child=y,y.return=d;u.sibling!==null;)u=u.sibling,y=y.sibling=el(u,u.pendingProps),y.return=d;y.sibling=null}return d.child}function A4(u,d,y){switch(d.tag){case 3:s2(d),Zu();break;case 5:TT(d);break;case 1:at(d.type)&&es(d);break;case 4:vx(d,d.stateNode.containerInfo);break;case 10:pT(d,d.type._context,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(qe(Pr,Pr.current&1),d.flags|=128,null):y&d.child.childLanes?l2(u,d,y):(qe(Pr,Pr.current&1),u=oo(u,d,y),u!==null?u.sibling:null);qe(Pr,Pr.current&1);break;case 19:if(S=(y&d.childLanes)!==0,u.flags&128){if(S)return d2(u,d,y);d.flags|=128}var M=d.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),qe(Pr,Pr.current),S)break;return null;case 22:case 23:return d.lanes=0,i2(u,d,y)}return oo(u,d,y)}function S4(u,d){switch(px(d),d.tag){case 1:return at(d.type)&&$r(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return eh(),Ke(qt),Ke(Mt),xx(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 5:return yx(d),null;case 13:if(Ke(Pr),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(a(340));Zu()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Ke(Pr),null;case 4:return eh(),null;case 10:return ox(d.type._context),null;case 22:case 23:return qx(),null;case 24:return null;default:return null}}var Ng=!1,lc=!1,w4=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ug(u,d){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){In(u,d,S)}else y.current=null}function p2(u,d,y){try{y()}catch(S){In(u,d,S)}}var f2=!1;function M4(u,d){for(O(u.containerInfo),$e=d;$e!==null;)if(u=$e,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,$e=d;else for(;$e!==null;){u=$e;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,M=y.memoizedState,P=u.stateNode,G=P.getSnapshotBeforeUpdate(u.elementType===u.type?S:ts(u.type,S),M);P.__reactInternalSnapshotBeforeUpdate=G}break;case 3:Ne&&ce(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch($){In(u,u.return,$)}if(d=u.sibling,d!==null){d.return=u.return,$e=d;break}$e=u.return}return y=f2,f2=!1,y}function cc(u,d,y){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var M=S=S.next;do{if((M.tag&u)===u){var P=M.destroy;M.destroy=void 0,P!==void 0&&p2(d,y,P)}M=M.next}while(M!==S)}}function fp(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&u)===u){var S=y.create;y.destroy=S()}y=y.next}while(y!==d)}}function Dx(u){var d=u.ref;if(d!==null){var y=u.stateNode;switch(u.tag){case 5:u=Q(y);break;default:u=y}typeof d=="function"?d(u):d.current=u}}function m2(u,d,y){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(fg,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(u=d.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var S=u=u.next;do{var M=S,P=M.destroy;M=M.tag,P!==void 0&&(M&2||M&4)&&p2(d,y,P),S=S.next}while(S!==u)}break;case 1:if(Ug(d,y),u=d.stateNode,typeof u.componentWillUnmount=="function")try{u.props=d.memoizedProps,u.state=d.memoizedState,u.componentWillUnmount()}catch(G){In(d,y,G)}break;case 5:Ug(d,y);break;case 4:Ne?b2(u,d,y):ue&&ue&&(d=d.stateNode.containerInfo,y=Ge(d),Ht(d,y))}}function g2(u,d,y){for(var S=d;;)if(m2(u,S,y),S.child===null||Ne&&S.tag===4){if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function v2(u){var d=u.alternate;d!==null&&(u.alternate=null,v2(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&Y(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function y2(u){return u.tag===5||u.tag===3||u.tag===4}function _2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||y2(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function x2(u){if(Ne){e:{for(var d=u.return;d!==null;){if(y2(d))break e;d=d.return}throw Error(a(160))}var y=d;switch(y.tag){case 5:d=y.stateNode,y.flags&32&&(ge(d),y.flags&=-33),y=_2(u),Fx(u,y,d);break;case 3:case 4:d=y.stateNode.containerInfo,y=_2(u),Lx(u,y,d);break;default:throw Error(a(161))}}}function Lx(u,d,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?ct(y,u,d):ze(y,u);else if(S!==4&&(u=u.child,u!==null))for(Lx(u,d,y),u=u.sibling;u!==null;)Lx(u,d,y),u=u.sibling}function Fx(u,d,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?tt(y,u,d):Ve(y,u);else if(S!==4&&(u=u.child,u!==null))for(Fx(u,d,y),u=u.sibling;u!==null;)Fx(u,d,y),u=u.sibling}function b2(u,d,y){for(var S=d,M=!1,P,G;;){if(!M){M=S.return;e:for(;;){if(M===null)throw Error(a(160));switch(P=M.stateNode,M.tag){case 5:G=!1;break e;case 3:P=P.containerInfo,G=!0;break e;case 4:P=P.containerInfo,G=!0;break e}M=M.return}M=!0}if(S.tag===5||S.tag===6)g2(u,S,y),G?H(P,S.stateNode):pt(P,S.stateNode);else if(S.tag===18)G?jr(P,S.stateNode):Vr(P,S.stateNode);else if(S.tag===4){if(S.child!==null){P=S.stateNode.containerInfo,G=!0,S.child.return=S,S=S.child;continue}}else if(m2(u,S,y),S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return,S.tag===4&&(M=!1)}S.sibling.return=S.return,S=S.sibling}}function kx(u,d){if(Ne){switch(d.tag){case 0:case 11:case 14:case 15:cc(3,d,d.return),fp(3,d),cc(5,d,d.return);return;case 1:return;case 5:var y=d.stateNode;if(y!=null){var S=d.memoizedProps;u=u!==null?u.memoizedProps:S;var M=d.type,P=d.updateQueue;d.updateQueue=null,P!==null&&Me(y,P,M,u,S,d)}return;case 6:if(d.stateNode===null)throw Error(a(162));y=d.memoizedProps,We(d.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:oe&&u!==null&&u.memoizedState.isDehydrated&&gi(d.stateNode.containerInfo);return;case 12:return;case 13:zg(d);return;case 19:zg(d);return;case 17:return}throw Error(a(163))}switch(d.tag){case 0:case 11:case 14:case 15:cc(3,d,d.return),fp(3,d),cc(5,d,d.return);return;case 12:return;case 13:zg(d);return;case 19:zg(d);return;case 3:oe&&u!==null&&u.memoizedState.isDehydrated&&gi(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(ue){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Ht(d.containerInfo,d.pendingChildren);break e}throw Error(a(163))}}function zg(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new w4),d.forEach(function(S){var M=F4.bind(null,u,S);y.has(S)||(y.add(S),S.then(M,M))})}}function E4(u,d){for($e=d;$e!==null;){d=$e;var y=d.deletions;if(y!==null)for(var S=0;S<y.length;S++){var M=y[S];try{var P=u;Ne?b2(P,M,d):g2(P,M,d);var G=M.alternate;G!==null&&(G.return=null),M.return=null}catch(mt){In(M,d,mt)}}if(y=d.child,d.subtreeFlags&12854&&y!==null)y.return=d,$e=y;else for(;$e!==null;){d=$e;try{var $=d.flags;if($&32&&Ne&&ge(d.stateNode),$&512){var ve=d.alternate;if(ve!==null){var He=ve.ref;He!==null&&(typeof He=="function"?He(null):He.current=null)}}if($&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var ot=d.alternate;(ot===null||ot.memoizedState===null)&&(Vx=vi())}break;case 22:var Rt=d.memoizedState!==null,bt=d.alternate,dr=bt!==null&&bt.memoizedState!==null;if(y=d,Ne){e:if(S=y,M=Rt,P=null,Ne)for(var ft=S;;){if(ft.tag===5){if(P===null){P=ft;var Vi=ft.stateNode;M?Pe(Vi):J(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(P===null){var Da=ft.stateNode;M?Ie(Da):Be(Da,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===S)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===S)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===S)break e;P===ft&&(P=null),ft=ft.return}P===ft&&(P=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Rt&&!dr&&y.mode&1){$e=y;for(var le=y.child;le!==null;){for(y=$e=le;$e!==null;){S=$e;var re=S.child;switch(S.tag){case 0:case 11:case 14:case 15:cc(4,S,S.return);break;case 1:Ug(S,S.return);var fe=S.stateNode;if(typeof fe.componentWillUnmount=="function"){var rt=S.return;try{fe.props=S.memoizedProps,fe.state=S.memoizedState,fe.componentWillUnmount()}catch(mt){In(S,rt,mt)}}break;case 5:Ug(S,S.return);break;case 22:if(S.memoizedState!==null){w2(y);continue}}re!==null?(re.return=S,$e=re):w2(y)}le=le.sibling}}}switch($&4102){case 2:x2(d),d.flags&=-3;break;case 6:x2(d),d.flags&=-3,kx(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,kx(d.alternate,d);break;case 4:kx(d.alternate,d)}}catch(mt){In(d,d.return,mt)}if(y=d.sibling,y!==null){y.return=d.return,$e=y;break}$e=d.return}}}function C4(u,d,y){$e=u,A2(u)}function A2(u,d,y){for(var S=(u.mode&1)!==0;$e!==null;){var M=$e,P=M.child;if(M.tag===22&&S){var G=M.memoizedState!==null||Ng;if(!G){var $=M.alternate,ve=$!==null&&$.memoizedState!==null||lc;$=Ng;var He=lc;if(Ng=G,(lc=ve)&&!He)for($e=M;$e!==null;)G=$e,ve=G.child,G.tag===22&&G.memoizedState!==null?M2(M):ve!==null?(ve.return=G,$e=ve):M2(M);for(;P!==null;)$e=P,A2(P),P=P.sibling;$e=M,Ng=$,lc=He}S2(u)}else M.subtreeFlags&8772&&P!==null?(P.return=M,$e=P):S2(u)}}function S2(u){for(;$e!==null;){var d=$e;if(d.flags&8772){var y=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:lc||fp(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!lc)if(y===null)S.componentDidMount();else{var M=d.elementType===d.type?y.memoizedProps:ts(d.type,y.memoizedProps);S.componentDidUpdate(M,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var P=d.updateQueue;P!==null&&gT(d,P,S);break;case 3:var G=d.updateQueue;if(G!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=Q(d.child.stateNode);break;case 1:y=d.child.stateNode}gT(d,G,y)}break;case 5:var $=d.stateNode;y===null&&d.flags&4&&wt($,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&d.memoizedState===null){var ve=d.alternate;if(ve!==null){var He=ve.memoizedState;if(He!==null){var ot=He.dehydrated;ot!==null&&wa(ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}lc||d.flags&512&&Dx(d)}catch(Rt){In(d,d.return,Rt)}}if(d===u){$e=null;break}if(y=d.sibling,y!==null){y.return=d.return,$e=y;break}$e=d.return}}function w2(u){for(;$e!==null;){var d=$e;if(d===u){$e=null;break}var y=d.sibling;if(y!==null){y.return=d.return,$e=y;break}$e=d.return}}function M2(u){for(;$e!==null;){var d=$e;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{fp(4,d)}catch(ve){In(d,y,ve)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var M=d.return;try{S.componentDidMount()}catch(ve){In(d,M,ve)}}var P=d.return;try{Dx(d)}catch(ve){In(d,P,ve)}break;case 5:var G=d.return;try{Dx(d)}catch(ve){In(d,G,ve)}}}catch(ve){In(d,d.return,ve)}if(d===u){$e=null;break}var $=d.sibling;if($!==null){$.return=d.return,$e=$;break}$e=d.return}}var Gg=0,Hg=1,Vg=2,jg=3,Wg=4;if(typeof Symbol=="function"&&Symbol.for){var mp=Symbol.for;Gg=mp("selector.component"),Hg=mp("selector.has_pseudo_class"),Vg=mp("selector.role"),jg=mp("selector.test_id"),Wg=mp("selector.text")}function Ox(u){var d=xe(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(a(364));return d}if(u=Te(u),u===null)throw Error(a(362));return u.stateNode.current}function Nx(u,d){switch(d.$$typeof){case Gg:if(u.type===d.value)return!0;break;case Hg:e:{d=d.value,u=[u,0];for(var y=0;y<u.length;){var S=u[y++],M=u[y++],P=d[M];if(S.tag!==5||!ee(S)){for(;P!=null&&Nx(S,P);)M++,P=d[M];if(M===d.length){d=!0;break e}else for(S=S.child;S!==null;)u.push(S,M),S=S.sibling}}d=!1}return d;case Vg:if(u.tag===5&&me(u.stateNode,d.value))return!0;break;case Wg:if((u.tag===5||u.tag===6)&&(u=L(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case jg:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Ux(u){switch(u.$$typeof){case Gg:return"<"+(E(u.value)||"Unknown")+">";case Hg:return":has("+(Ux(u)||"")+")";case Vg:return'[role="'+u.value+'"]';case Wg:return'"'+u.value+'"';case jg:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function E2(u,d){var y=[];u=[u,0];for(var S=0;S<u.length;){var M=u[S++],P=u[S++],G=d[P];if(M.tag!==5||!ee(M)){for(;G!=null&&Nx(M,G);)P++,G=d[P];if(P===d.length)y.push(M);else for(M=M.child;M!==null;)u.push(M,P),M=M.sibling}}return y}function zx(u,d){if(!ut)throw Error(a(363));u=Ox(u),u=E2(u,d),d=[],u=Array.from(u);for(var y=0;y<u.length;){var S=u[y++];if(S.tag===5)ee(S)||d.push(S.stateNode);else for(S=S.child;S!==null;)u.push(S),S=S.sibling}return d}var T4=Math.ceil,Xg=s.ReactCurrentDispatcher,Gx=s.ReactCurrentOwner,Wr=s.ReactCurrentBatchConfig,Nt=0,ei=null,ti=null,Ri=0,$n=0,rh=dt(0),li=0,gp=null,ih=0,Jg=0,Hx=0,vp=null,Pn=null,Vx=0,jx=1/0;function nh(){jx=vi()+500}var Yg=!1,Wx=null,Ko=null,qg=!1,Zo=null,Kg=0,yp=0,Xx=null,Zg=-1,Qg=0;function ln(){return Nt&6?vi():Zg!==-1?Zg:Zg=vi()}function Qo(u){return u.mode&1?Nt&2&&Ri!==0?Ri&-Ri:u4.transition!==null?(Qg===0&&(u=Nr,Nr<<=1,!(Nr&4194240)&&(Nr=64),Qg=u),Qg):(u=ir,u!==0?u:ke()):1}function Ba(u,d,y){if(50<yp)throw yp=0,Xx=null,Error(a(185));var S=$g(u,d);return S===null?null:(tp(S,d,y),(!(Nt&2)||S!==ei)&&(S===ei&&(!(Nt&2)&&(Jg|=d),li===4&&$o(S,Ri)),Bn(S,y),d===1&&Nt===0&&!(u.mode&1)&&(nh(),mg&&Ts())),S)}function $g(u,d){u.lanes|=d;var y=u.alternate;for(y!==null&&(y.lanes|=d),y=u,u=u.return;u!==null;)u.childLanes|=d,y=u.alternate,y!==null&&(y.childLanes|=d),y=u,u=u.return;return y.tag===3?y.stateNode:null}function Bn(u,d){var y=u.callbackNode;t4(u,d);var S=Ma(u,u===ei?Ri:0);if(S===0)y!==null&&hT(y),u.callbackNode=null,u.callbackPriority=0;else if(d=S&-S,u.callbackPriority!==d){if(y!=null&&hT(y),d===1)u.tag===0?c4(T2.bind(null,u)):dT(T2.bind(null,u)),Ue?Fe(function(){Nt===0&&Ts()}):tx(rx,Ts),y=null;else{switch(uT(S)){case 1:y=rx;break;case 4:y=a4;break;case 16:y=ix;break;case 536870912:y=s4;break;default:y=ix}y=O2(y,C2.bind(null,u))}u.callbackPriority=d,u.callbackNode=y}}function C2(u,d){if(Zg=-1,Qg=0,Nt&6)throw Error(a(327));var y=u.callbackNode;if(dc()&&u.callbackNode!==y)return null;var S=Ma(u,u===ei?Ri:0);if(S===0)return null;if(S&30||S&u.expiredLanes||d)d=e0(u,S);else{d=S;var M=Nt;Nt|=2;var P=B2();(ei!==u||Ri!==d)&&(nh(),uc(u,d));do try{B4();break}catch($){P2(u,$)}while(1);sx(),Xg.current=P,Nt=M,ti!==null?d=0:(ei=null,Ri=0,d=li)}if(d!==0){if(d===2&&(M=Q_(u),M!==0&&(S=M,d=Jx(u,M))),d===1)throw y=gp,uc(u,0),$o(u,S),Bn(u,vi()),y;if(d===6)$o(u,S);else{if(M=u.current.alternate,!(S&30)&&!R4(M)&&(d=e0(u,S),d===2&&(P=Q_(u),P!==0&&(S=P,d=Jx(u,P))),d===1))throw y=gp,uc(u,0),$o(u,S),Bn(u,vi()),y;switch(u.finishedWork=M,u.finishedLanes=S,d){case 0:case 1:throw Error(a(345));case 2:hc(u,Pn);break;case 3:if($o(u,S),(S&130023424)===S&&(d=Vx+500-vi(),10<d)){if(Ma(u,0)!==0)break;if(M=u.suspendedLanes,(M&S)!==S){ln(),u.pingedLanes|=u.suspendedLanes&M;break}u.timeoutHandle=Se(hc.bind(null,u,Pn),d);break}hc(u,Pn);break;case 4:if($o(u,S),(S&4194240)===S)break;for(d=u.eventTimes,M=-1;0<S;){var G=31-Ti(S);P=1<<G,G=d[G],G>M&&(M=G),S&=~P}if(S=M,S=vi()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*T4(S/1960))-S,10<S){u.timeoutHandle=Se(hc.bind(null,u,Pn),S);break}hc(u,Pn);break;case 5:hc(u,Pn);break;default:throw Error(a(329))}}}return Bn(u,vi()),u.callbackNode===y?C2.bind(null,u):null}function Jx(u,d){var y=vp;return u.current.memoizedState.isDehydrated&&(uc(u,d).flags|=256),u=e0(u,d),u!==2&&(d=Pn,Pn=y,d!==null&&Yx(d)),u}function Yx(u){Pn===null?Pn=u:Pn.push.apply(Pn,u)}function R4(u){for(var d=u;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var M=y[S],P=M.getSnapshot;M=M.value;try{if(!Cs(P(),M))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function $o(u,d){for(d&=~Hx,d&=~Jg,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var y=31-Ti(d),S=1<<y;u[y]=-1,d&=~S}}function T2(u){if(Nt&6)throw Error(a(327));dc();var d=Ma(u,0);if(!(d&1))return Bn(u,vi()),null;var y=e0(u,d);if(u.tag!==0&&y===2){var S=Q_(u);S!==0&&(d=S,y=Jx(u,S))}if(y===1)throw y=gp,uc(u,0),$o(u,d),Bn(u,vi()),y;if(y===6)throw Error(a(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,hc(u,Pn),Bn(u,vi()),null}function R2(u){Zo!==null&&Zo.tag===0&&!(Nt&6)&&dc();var d=Nt;Nt|=1;var y=Wr.transition,S=ir;try{if(Wr.transition=null,ir=1,u)return u()}finally{ir=S,Wr.transition=y,Nt=d,!(Nt&6)&&Ts()}}function qx(){$n=rh.current,Ke(rh)}function uc(u,d){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==je&&(u.timeoutHandle=je,Ee(y)),ti!==null)for(y=ti.return;y!==null;){var S=y;switch(px(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&$r();break;case 3:eh(),Ke(qt),Ke(Mt),xx();break;case 5:yx(S);break;case 4:eh();break;case 13:Ke(Pr);break;case 19:Ke(Pr);break;case 10:ox(S.type._context);break;case 22:case 23:qx()}y=y.return}if(ei=u,ti=u=el(u.current,null),Ri=$n=d,li=0,gp=null,Hx=Jg=ih=0,Pn=vp=null,Rs!==null){for(d=0;d<Rs.length;d++)if(y=Rs[d],S=y.interleaved,S!==null){y.interleaved=null;var M=S.next,P=y.pending;if(P!==null){var G=P.next;P.next=M,S.next=G}y.pending=S}Rs=null}return u}function P2(u,d){do{var y=ti;try{if(sx(),Eg.current=Ig,Cg){for(var S=Ur.memoizedState;S!==null;){var M=S.queue;M!==null&&(M.pending=null),S=S.next}Cg=!1}if(th=0,yi=zi=Ur=null,op=!1,lp=0,Gx.current=null,y===null||y.return===null){li=1,gp=d,ti=null;break}e:{var P=u,G=y.return,$=y,ve=d;if(d=Ri,$.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var He=ve,ot=$,Rt=ot.tag;if(!(ot.mode&1)&&(Rt===0||Rt===11||Rt===15)){var bt=ot.alternate;bt?(ot.updateQueue=bt.updateQueue,ot.memoizedState=bt.memoizedState,ot.lanes=bt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var dr=KT(G);if(dr!==null){dr.flags&=-257,ZT(dr,G,$,P,d),dr.mode&1&&qT(P,He,d),d=dr,ve=He;var ft=d.updateQueue;if(ft===null){var Vi=new Set;Vi.add(ve),d.updateQueue=Vi}else ft.add(ve);break e}else{if(!(d&1)){qT(P,He,d),Kx();break e}ve=Error(a(426))}}else if(Sr&&$.mode&1){var Da=KT(G);if(Da!==null){!(Da.flags&65536)&&(Da.flags|=256),ZT(Da,G,$,P,d),gx(ve);break e}}P=ve,li!==4&&(li=2),vp===null?vp=[P]:vp.push(P),ve=Cx(ve,$),$=G;do{switch($.tag){case 3:$.flags|=65536,d&=-d,$.lanes|=d;var le=JT($,ve,d);mT($,le);break e;case 1:P=ve;var re=$.type,fe=$.stateNode;if(!($.flags&128)&&(typeof re.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Ko===null||!Ko.has(fe)))){$.flags|=65536,d&=-d,$.lanes|=d;var rt=YT($,P,d);mT($,rt);break e}}$=$.return}while($!==null)}D2(y)}catch(mt){d=mt,ti===y&&y!==null&&(ti=y=y.return);continue}break}while(1)}function B2(){var u=Xg.current;return Xg.current=Ig,u===null?Ig:u}function Kx(){(li===0||li===3||li===2)&&(li=4),ei===null||!(ih&268435455)&&!(Jg&268435455)||$o(ei,Ri)}function e0(u,d){var y=Nt;Nt|=2;var S=B2();ei===u&&Ri===d||uc(u,d);do try{P4();break}catch(M){P2(u,M)}while(1);if(sx(),Nt=y,Xg.current=S,ti!==null)throw Error(a(261));return ei=null,Ri=0,li}function P4(){for(;ti!==null;)I2(ti)}function B4(){for(;ti!==null&&!i4();)I2(ti)}function I2(u){var d=k2(u.alternate,u,$n);u.memoizedProps=u.pendingProps,d===null?D2(u):ti=d,Gx.current=null}function D2(u){var d=u;do{var y=d.alternate;if(u=d.return,d.flags&32768){if(y=S4(y,d),y!==null){y.flags&=32767,ti=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{li=6,ti=null;return}}else if(y=x4(y,d,$n),y!==null){ti=y;return}if(d=d.sibling,d!==null){ti=d;return}ti=d=u}while(d!==null);li===0&&(li=5)}function hc(u,d){var y=ir,S=Wr.transition;try{Wr.transition=null,ir=1,I4(u,d,y)}finally{Wr.transition=S,ir=y}return null}function I4(u,d,y){do dc();while(Zo!==null);if(Nt&6)throw Error(a(327));var S=u.finishedWork,M=u.finishedLanes;if(S===null)return null;if(u.finishedWork=null,u.finishedLanes=0,S===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0;var P=S.lanes|S.childLanes;if(r4(u,P),u===ei&&(ti=ei=null,Ri=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||qg||(qg=!0,O2(ix,function(){return dc(),null})),P=(S.flags&15990)!==0,S.subtreeFlags&15990||P){P=Wr.transition,Wr.transition=null;var G=ir;ir=1;var $=Nt;Nt|=4,Gx.current=null,M4(u,S),E4(u,S),F(u.containerInfo),u.current=S,C4(S),n4(),Nt=$,ir=G,Wr.transition=P}else u.current=S;if(qg&&(qg=!1,Zo=u,Kg=M),P=u.pendingLanes,P===0&&(Ko=null),o4(S.stateNode),Bn(u,vi()),d!==null)for(y=u.onRecoverableError,S=0;S<d.length;S++)y(d[S]);if(Yg)throw Yg=!1,u=Wx,Wx=null,u;return Kg&1&&u.tag!==0&&dc(),P=u.pendingLanes,P&1?u===Xx?yp++:(yp=0,Xx=u):yp=0,Ts(),null}function dc(){if(Zo!==null){var u=uT(Kg),d=Wr.transition,y=ir;try{if(Wr.transition=null,ir=16>u?16:u,Zo===null)var S=!1;else{if(u=Zo,Zo=null,Kg=0,Nt&6)throw Error(a(331));var M=Nt;for(Nt|=4,$e=u.current;$e!==null;){var P=$e,G=P.child;if($e.flags&16){var $=P.deletions;if($!==null){for(var ve=0;ve<$.length;ve++){var He=$[ve];for($e=He;$e!==null;){var ot=$e;switch(ot.tag){case 0:case 11:case 15:cc(8,ot,P)}var Rt=ot.child;if(Rt!==null)Rt.return=ot,$e=Rt;else for(;$e!==null;){ot=$e;var bt=ot.sibling,dr=ot.return;if(v2(ot),ot===He){$e=null;break}if(bt!==null){bt.return=dr,$e=bt;break}$e=dr}}}var ft=P.alternate;if(ft!==null){var Vi=ft.child;if(Vi!==null){ft.child=null;do{var Da=Vi.sibling;Vi.sibling=null,Vi=Da}while(Vi!==null)}}$e=P}}if(P.subtreeFlags&2064&&G!==null)G.return=P,$e=G;else e:for(;$e!==null;){if(P=$e,P.flags&2048)switch(P.tag){case 0:case 11:case 15:cc(9,P,P.return)}var le=P.sibling;if(le!==null){le.return=P.return,$e=le;break e}$e=P.return}}var re=u.current;for($e=re;$e!==null;){G=$e;var fe=G.child;if(G.subtreeFlags&2064&&fe!==null)fe.return=G,$e=fe;else e:for(G=re;$e!==null;){if($=$e,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:fp(9,$)}}catch(mt){In($,$.return,mt)}if($===G){$e=null;break e}var rt=$.sibling;if(rt!==null){rt.return=$.return,$e=rt;break e}$e=$.return}}if(Nt=M,Ts(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(fg,u)}catch{}S=!0}return S}finally{ir=y,Wr.transition=d}}return!1}function L2(u,d,y){d=Cx(y,d),d=JT(u,d,1),qo(u,d),d=ln(),u=$g(u,1),u!==null&&(tp(u,1,d),Bn(u,d))}function In(u,d,y){if(u.tag===3)L2(u,u,y);else for(;d!==null;){if(d.tag===3){L2(d,u,y);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ko===null||!Ko.has(S))){u=Cx(y,u),u=YT(d,u,1),qo(d,u),u=ln(),d=$g(d,1),d!==null&&(tp(d,1,u),Bn(d,u));break}}d=d.return}}function D4(u,d,y){var S=u.pingCache;S!==null&&S.delete(d),d=ln(),u.pingedLanes|=u.suspendedLanes&y,ei===u&&(Ri&y)===y&&(li===4||li===3&&(Ri&130023424)===Ri&&500>vi()-Vx?uc(u,0):Hx|=y),Bn(u,d)}function F2(u,d){d===0&&(u.mode&1?(d=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):d=1);var y=ln();u=$g(u,d),u!==null&&(tp(u,d,y),Bn(u,y))}function L4(u){var d=u.memoizedState,y=0;d!==null&&(y=d.retryLane),F2(u,y)}function F4(u,d){var y=0;switch(u.tag){case 13:var S=u.stateNode,M=u.memoizedState;M!==null&&(y=M.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(a(314))}S!==null&&S.delete(d),F2(u,y)}var k2;k2=function(u,d,y){if(u!==null)if(u.memoizedProps!==d.pendingProps||qt.current)Qn=!0;else{if(!(u.lanes&y)&&!(d.flags&128))return Qn=!1,A4(u,d,y);Qn=!!(u.flags&131072)}else Qn=!1,Sr&&d.flags&1048576&&bT(d,Sg,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps;var M=Qt(d,Mt.current);Yu(d,y),M=Ax(null,d,S,u,M,y);var P=Sx();return d.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,at(S)?(P=!0,es(d)):P=!1,d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,cx(d),M.updater=bg,d.stateNode=M,M._reactInternals=d,hx(d,S,u,y),d=Px(null,d,S,!0,P,y)):(d.tag=0,Sr&&P&&dx(d),on(null,d,M,y),d=d.child),d;case 16:S=d.elementType;e:{switch(u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps,M=S._init,S=M(S._payload),d.type=S,M=d.tag=O4(S),u=ts(S,u),M){case 0:d=Rx(null,d,S,u,y);break e;case 1:d=a2(null,d,S,u,y);break e;case 11:d=e2(null,d,S,u,y);break e;case 14:d=t2(null,d,S,ts(S.type,u),y);break e}throw Error(a(306,S,""))}return d;case 0:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:ts(S,M),Rx(u,d,S,M,y);case 1:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:ts(S,M),a2(u,d,S,M,y);case 3:e:{if(s2(d),u===null)throw Error(a(387));S=d.pendingProps,P=d.memoizedState,M=P.element,fT(u,d),xg(d,S,null,y);var G=d.memoizedState;if(S=G.element,oe&&P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:G.cache,transitions:G.transitions},d.updateQueue.baseState=P,d.memoizedState=P,d.flags&256){M=Error(a(423)),d=o2(u,d,S,y,M);break e}else if(S!==M){M=Error(a(424)),d=o2(u,d,S,y,M);break e}else for(oe&&(Zn=Rr(d.stateNode.containerInfo),Kn=d,Sr=!0,rs=null,rp=!1),y=CT(d,null,S,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Zu(),S===M){d=oo(u,d,y);break e}on(u,d,S,y)}d=d.child}return d;case 5:return TT(d),u===null&&mx(d),S=d.type,M=d.pendingProps,P=u!==null?u.memoizedProps:null,G=M.children,se(S,M)?G=null:P!==null&&se(S,P)&&(d.flags|=32),n2(u,d),on(u,d,G,y),d.child;case 6:return u===null&&mx(d),null;case 13:return l2(u,d,y);case 4:return vx(d,d.stateNode.containerInfo),S=d.pendingProps,u===null?d.child=Qu(d,null,S,y):on(u,d,S,y),d.child;case 11:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:ts(S,M),e2(u,d,S,M,y);case 7:return on(u,d,d.pendingProps,y),d.child;case 8:return on(u,d,d.pendingProps.children,y),d.child;case 12:return on(u,d,d.pendingProps.children,y),d.child;case 10:e:{if(S=d.type._context,M=d.pendingProps,P=d.memoizedProps,G=M.value,pT(d,S,G),P!==null)if(Cs(P.value,G)){if(P.children===M.children&&!qt.current){d=oo(u,d,y);break e}}else for(P=d.child,P!==null&&(P.return=d);P!==null;){var $=P.dependencies;if($!==null){G=P.child;for(var ve=$.firstContext;ve!==null;){if(ve.context===S){if(P.tag===1){ve=io(-1,y&-y),ve.tag=2;var He=P.updateQueue;if(He!==null){He=He.shared;var ot=He.pending;ot===null?ve.next=ve:(ve.next=ot.next,ot.next=ve),He.pending=ve}}P.lanes|=y,ve=P.alternate,ve!==null&&(ve.lanes|=y),lx(P.return,y,d),$.lanes|=y;break}ve=ve.next}}else if(P.tag===10)G=P.type===d.type?null:P.child;else if(P.tag===18){if(G=P.return,G===null)throw Error(a(341));G.lanes|=y,$=G.alternate,$!==null&&($.lanes|=y),lx(G,y,d),G=P.sibling}else G=P.child;if(G!==null)G.return=P;else for(G=P;G!==null;){if(G===d){G=null;break}if(P=G.sibling,P!==null){P.return=G.return,G=P;break}G=G.return}P=G}on(u,d,M.children,y),d=d.child}return d;case 9:return M=d.type,S=d.pendingProps.children,Yu(d,y),M=Ea(M),S=S(M),d.flags|=1,on(u,d,S,y),d.child;case 14:return S=d.type,M=ts(S,d.pendingProps),M=ts(S.type,M),t2(u,d,S,M,y);case 15:return r2(u,d,d.type,d.pendingProps,y);case 17:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:ts(S,M),u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,at(S)?(u=!0,es(d)):u=!1,Yu(d,y),_T(d,S,M),hx(d,S,M,y),Px(null,d,S,!0,u,y);case 19:return d2(u,d,y);case 22:return i2(u,d,y)}throw Error(a(156,d.tag))};function O2(u,d){return tx(u,d)}function k4(u,d,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(u,d,y,S){return new k4(u,d,y,S)}function Zx(u){return u=u.prototype,!(!u||!u.isReactComponent)}function O4(u){if(typeof u=="function")return Zx(u)?1:0;if(u!=null){if(u=u.$$typeof,u===g)return 11;if(u===v)return 14}return 2}function el(u,d){var y=u.alternate;return y===null?(y=Ia(u.tag,d,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=d,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,d=u.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function t0(u,d,y,S,M,P){var G=2;if(S=u,typeof u=="function")Zx(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case c:return pc(y.children,M,P,d);case h:G=8,M|=8;break;case p:return u=Ia(12,y,d,M|2),u.elementType=p,u.lanes=P,u;case x:return u=Ia(13,y,d,M),u.elementType=x,u.lanes=P,u;case _:return u=Ia(19,y,d,M),u.elementType=_,u.lanes=P,u;case A:return r0(y,M,P,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case f:G=10;break e;case m:G=9;break e;case g:G=11;break e;case v:G=14;break e;case b:G=16,S=null;break e}throw Error(a(130,u==null?u:typeof u,""))}return d=Ia(G,y,d,M),d.elementType=u,d.type=S,d.lanes=P,d}function pc(u,d,y,S){return u=Ia(7,u,S,d),u.lanes=y,u}function r0(u,d,y,S){return u=Ia(22,u,S,d),u.elementType=A,u.lanes=y,u.stateNode={},u}function Qx(u,d,y){return u=Ia(6,u,null,d),u.lanes=y,u}function $x(u,d,y){return d=Ia(4,u.children!==null?u.children:[],u.key,d),d.lanes=y,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function N4(u,d,y,S,M){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=je,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$_(0),this.expirationTimes=$_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$_(0),this.identifierPrefix=S,this.onRecoverableError=M,oe&&(this.mutableSourceEagerHydrationData=null)}function N2(u,d,y,S,M,P,G,$,ve){return u=new N4(u,d,y,$,ve),d===1?(d=1,P===!0&&(d|=8)):d=0,P=Ia(3,null,null,d),u.current=P,P.stateNode=u,P.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null},cx(P),u}function U2(u){if(!u)return Lt;u=u._reactInternals;e:{if(I(u)!==u||u.tag!==1)throw Error(a(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(at(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(a(171))}if(u.tag===1){var y=u.type;if(at(y))return Cn(u,y,d)}return d}function z2(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=D(d),u===null?null:u.stateNode}function G2(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<d?y:d}}function eb(u,d){G2(u,d),(u=u.alternate)&&G2(u,d)}function U4(u){return u=D(u),u===null?null:u.stateNode}function z4(){return null}return e.attemptContinuousHydration=function(u){if(u.tag===13){var d=ln();Ba(u,134217728,d),eb(u,134217728)}},e.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=ln(),y=Qo(u);Ba(u,y,d),eb(u,y)}},e.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var y=to(d.pendingLanes);y!==0&&(ex(d,y|1),Bn(d,vi()),!(Nt&6)&&(nh(),Ts()))}break;case 13:var S=ln();R2(function(){return Ba(u,1,S)}),eb(u,1)}},e.batchedUpdates=function(u,d){var y=Nt;Nt|=1;try{return u(d)}finally{Nt=y,Nt===0&&(nh(),mg&&Ts())}},e.createComponentSelector=function(u){return{$$typeof:Gg,value:u}},e.createContainer=function(u,d,y,S,M,P,G){return N2(u,d,!1,null,y,S,M,P,G)},e.createHasPseudoClassSelector=function(u){return{$$typeof:Hg,value:u}},e.createHydrationContainer=function(u,d,y,S,M,P,G,$,ve){return u=N2(y,S,!0,u,M,P,G,$,ve),u.context=U2(null),y=u.current,S=ln(),M=Qo(y),P=io(S,M),P.callback=d??null,qo(y,P),u.current.lanes=M,tp(u,M,S),Bn(u,S),u},e.createPortal=function(u,d,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:u,containerInfo:d,implementation:y}},e.createRoleSelector=function(u){return{$$typeof:Vg,value:u}},e.createTestNameSelector=function(u){return{$$typeof:jg,value:u}},e.createTextSelector=function(u){return{$$typeof:Wg,value:u}},e.deferredUpdates=function(u){var d=ir,y=Wr.transition;try{return Wr.transition=null,ir=16,u()}finally{ir=d,Wr.transition=y}},e.discreteUpdates=function(u,d,y,S,M){var P=ir,G=Wr.transition;try{return Wr.transition=null,ir=1,u(d,y,S,M)}finally{ir=P,Wr.transition=G,Nt===0&&nh()}},e.findAllNodes=zx,e.findBoundingRects=function(u,d){if(!ut)throw Error(a(363));d=zx(u,d),u=[];for(var y=0;y<d.length;y++)u.push(U(d[y]));for(d=u.length-1;0<d;d--){y=u[d];for(var S=y.x,M=S+y.width,P=y.y,G=P+y.height,$=d-1;0<=$;$--)if(d!==$){var ve=u[$],He=ve.x,ot=He+ve.width,Rt=ve.y,bt=Rt+ve.height;if(S>=He&&P>=Rt&&M<=ot&&G<=bt){u.splice(d,1);break}else if(S!==He||y.width!==ve.width||bt<P||Rt>G){if(!(P!==Rt||y.height!==ve.height||ot<S||He>M)){He>S&&(ve.width+=He-S,ve.x=S),ot<M&&(ve.width=M-He),u.splice(d,1);break}}else{Rt>P&&(ve.height+=Rt-P,ve.y=P),bt<G&&(ve.height=G-Rt),u.splice(d,1);break}}}return u},e.findHostInstance=z2,e.findHostInstanceWithNoPortals=function(u){return u=R(u),u=u!==null?j(u):null,u===null?null:u.stateNode},e.findHostInstanceWithWarning=function(u){return z2(u)},e.flushControlled=function(u){var d=Nt;Nt|=1;var y=Wr.transition,S=ir;try{Wr.transition=null,ir=1,u()}finally{ir=S,Wr.transition=y,Nt=d,Nt===0&&(nh(),Ts())}},e.flushPassiveEffects=dc,e.flushSync=R2,e.focusWithin=function(u,d){if(!ut)throw Error(a(363));for(u=Ox(u),d=E2(u,d),d=Array.from(d),u=0;u<d.length;){var y=d[u++];if(!ee(y)){if(y.tag===5&&Ae(y.stateNode))return!0;for(y=y.child;y!==null;)d.push(y),y=y.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ir},e.getFindAllNodesFailureDescription=function(u,d){if(!ut)throw Error(a(363));var y=0,S=[];u=[Ox(u),0];for(var M=0;M<u.length;){var P=u[M++],G=u[M++],$=d[G];if((P.tag!==5||!ee(P))&&(Nx(P,$)&&(S.push(Ux($)),G++,G>y&&(y=G)),G<d.length))for(P=P.child;P!==null;)u.push(P,G),P=P.sibling}if(y<d.length){for(u=[];y<d.length;y++)u.push(Ux(d[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},e.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return Q(u.child.stateNode);default:return u.child.stateNode}},e.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:U4,findFiberByHostInstance:u.findFiberByHostInstance||z4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{fg=d.inject(u),Es=d}catch{}u=!!d.checkDCE}}return u},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(u,d,y,S){if(!ut)throw Error(a(363));u=zx(u,d);var M=de(u,y,S).disconnect;return{disconnect:function(){M()}}},e.registerMutableSourceForHydration=function(u,d){var y=d._getVersion;y=y(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,y]:u.mutableSourceEagerHydrationData.push(d,y)},e.runWithPriority=function(u,d){var y=ir;try{return ir=u,d()}finally{ir=y}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(u,d,y,S){var M=d.current,P=ln(),G=Qo(M);return y=U2(y),d.context===null?d.context=y:d.pendingContext=y,d=io(P,G),d.payload={element:u},S=S===void 0?null:S,S!==null&&(d.callback=S),qo(M,d),u=Ba(M,G,P),u!==null&&_g(u,M,G),G},e};CO.exports=tJ;var rJ=CO.exports;const iJ=oD(rJ),aC={},nJ=r=>void Object.assign(aC,r);function aJ(r,e){function t(c,{args:h=[],attach:p,...f},m){let g=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(f.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=f.object;x=Ph(_,{type:c,root:m,attach:p,primitive:!0})}else{const _=aC[g];if(!_)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=Ph(new _(...h),{type:c,root:m,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),g!=="inject"&&yA(x,f),x}function i(c,h){let p=!1;if(h){var f,m;(f=h.__r3f)!=null&&f.attach?vA(c,h,h.__r3f.attach):h.isObject3D&&c.isObject3D&&(c.add(h),p=!0),p||(m=c.__r3f)==null||m.objects.push(h),h.__r3f||Ph(h,{}),h.__r3f.parent=c,gw(h),Bh(h)}}function n(c,h,p){let f=!1;if(h){var m,g;if((m=h.__r3f)!=null&&m.attach)vA(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){h.parent=c,h.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:h});const x=c.children.filter(v=>v!==h),_=x.indexOf(p);c.children=[...x.slice(0,_),h,...x.slice(_)],f=!0}f||(g=c.__r3f)==null||g.objects.push(h),h.__r3f||Ph(h,{}),h.__r3f.parent=c,gw(h),Bh(h)}}function a(c,h,p=!1){c&&[...c].forEach(f=>s(h,f,p))}function s(c,h,p){if(h){var f,m,g;if(h.__r3f&&(h.__r3f.parent=null),(f=c.__r3f)!=null&&f.objects&&(c.__r3f.objects=c.__r3f.objects.filter(A=>A!==h)),(m=h.__r3f)!=null&&m.attach)UB(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){var x;c.remove(h),(x=h.__r3f)!=null&&x.root&&fJ(Jv(h),h)}const v=(g=h.__r3f)==null?void 0:g.primitive,b=!v&&(p===void 0?h.dispose!==null:p);if(!v){var _;a((_=h.__r3f)==null?void 0:_.objects,h,b),a(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const A=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?fw.unstable_scheduleCallback(fw.unstable_IdlePriority,A):A()}Bh(c)}}function o(c,h,p,f){var m;const g=(m=c.__r3f)==null?void 0:m.parent;if(!g)return;const x=t(h,p,c.__r3f.root);if(c.children){for(const _ of c.children)_.__r3f&&i(x,_);c.children=c.children.filter(_=>!_.__r3f)}c.__r3f.objects.forEach(_=>i(x,_)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||s(g,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(g,x),x.raycast&&x.__r3f.eventCount&&Jv(x).getState().internal.interaction.push(x),[f,f.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const l=()=>{};return{reconciler:iJ({createInstance:t,removeChild:s,appendChild:i,appendInitialChild:i,insertBefore:n,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,h)=>{if(!h)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,i(p,h))},removeChildFromContainer:(c,h)=>{h&&s(c.getState().scene,h)},insertInContainerBefore:(c,h,p)=>{if(!h||!p)return;const f=c.getState().scene;f.__r3f&&n(f,h,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var h;return!!((h=c==null?void 0:c.__r3f)!=null?h:{}).handlers},prepareUpdate(c,h,p,f){var m;if(((m=c==null?void 0:c.__r3f)!=null?m:{}).primitive&&f.object&&f.object!==c)return[!0];{const{args:g=[],children:x,..._}=f,{args:v=[],children:b,...A}=p;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((T,E)=>T!==v[E]))return[!0];const w=kO(c,_,A,!0);return w.changes.length?[!1,w]:null}},commitUpdate(c,[h,p],f,m,g,x){h?o(c,f,g,x):yA(c,p)},commitMount(c,h,p,f){var m;const g=(m=c.__r3f)!=null?m:{};c.raycast&&g.handlers&&g.eventCount&&Jv(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Ph(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var h;const{attach:p,parent:f}=(h=c.__r3f)!=null?h:{};p&&f&&UB(f,c,p),c.isObject3D&&(c.visible=!1),Bh(c)},unhideInstance(c,h){var p;const{attach:f,parent:m}=(p=c.__r3f)!=null?p:{};f&&m&&vA(m,c,f),(c.isObject3D&&h.visible==null||h.visible)&&(c.visible=!0),Bh(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Kh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&yr.fun(performance.now)?performance.now:yr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:yr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:yA}}var FB,kB;const gA=r=>"colorSpace"in r||"outputColorSpace"in r,PO=()=>{var r;return(r=aC.ColorManagement)!=null?r:null},BO=r=>r&&r.isOrthographicCamera,sJ=r=>r&&r.hasOwnProperty("current"),ng=typeof window<"u"&&((FB=window.document)!=null&&FB.createElement||((kB=window.navigator)==null?void 0:kB.product)==="ReactNative")?W.useLayoutEffect:W.useEffect;function IO(r){const e=W.useRef(r);return ng(()=>void(e.current=r),[r]),e}function oJ({set:r}){return ng(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}class DO extends W.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}DO.getDerivedStateFromError=()=>({error:!0});const LO="__default",OB=new Map,lJ=r=>r&&!!r.memoized&&!!r.changes;function FO(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}const Up=r=>{var e;return(e=r.__r3f)==null?void 0:e.root.getState()};function Jv(r){let e=r.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yr={obj:r=>r===Object(r)&&!yr.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:i="reference",strict:n=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(yr.str(r)||yr.num(r)||yr.boo(r))return r===e;const a=yr.obj(r);if(a&&i==="reference")return r===e;const s=yr.arr(r);if(s&&t==="reference")return r===e;if((s||a)&&r===e)return!0;let o;for(o in r)if(!(o in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(o in n?e:r)if(!yr.equ(r[o],e[o],{strict:n,objects:"reference"}))return!1}else for(o in n?e:r)if(r[o]!==e[o])return!1;if(yr.und(o)){if(s&&r.length===0&&e.length===0||a&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function cJ(r){const e={nodes:{},materials:{}};return r&&r.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function uJ(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(const e in r)e.dispose==null||e.dispose(),delete r[e]}function Ph(r,e){const t=r;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},r}function mw(r,e){let t=r;if(e.includes("-")){const i=e.split("-"),n=i.pop();return t=i.reduce((a,s)=>a[s],r),{target:t,key:n}}else return{target:t,key:e}}const NB=/-\d+$/;function vA(r,e,t){if(yr.str(t)){if(NB.test(t)){const a=t.replace(NB,""),{target:s,key:o}=mw(r,a);Array.isArray(s[o])||(s[o]=[])}const{target:i,key:n}=mw(r,t);e.__r3f.previousAttach=i[n],i[n]=e}else e.__r3f.previousAttach=t(r,e)}function UB(r,e,t){var i,n;if(yr.str(t)){const{target:a,key:s}=mw(r,t),o=e.__r3f.previousAttach;o===void 0?delete a[s]:a[s]=o}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(r,e);(n=e.__r3f)==null||delete n.previousAttach}function kO(r,{children:e,key:t,ref:i,...n},{children:a,key:s,ref:o,...l}={},c=!1){const h=r.__r3f,p=Object.entries(n),f=[];if(c){const g=Object.keys(l);for(let x=0;x<g.length;x++)n.hasOwnProperty(g[x])||p.unshift([g[x],LO+"remove"])}p.forEach(([g,x])=>{var _;if((_=r.__r3f)!=null&&_.primitive&&g==="object"||yr.equ(x,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return f.push([g,x,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),f.push([g,x,!1,v]);for(const b in n){const A=n[b];b.startsWith(`${g}-`)&&f.push([b,A,!1,b.split("-")])}});const m={...n};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:f}}const hJ=typeof process<"u"&&!1;function yA(r,e){var t;const i=r.__r3f,n=i==null?void 0:i.root,a=n==null||n.getState==null?void 0:n.getState(),{memoized:s,changes:o}=lJ(e)?e:kO(r,e),l=i==null?void 0:i.eventCount;r.__r3f&&(r.__r3f.memoizedProps=s);for(let p=0;p<o.length;p++){let[f,m,g,x]=o[p];if(gA(r)){const b="srgb",A="srgb-linear";f==="encoding"?(f="colorSpace",m=m===3001?b:A):f==="outputEncoding"&&(f="outputColorSpace",m=m===3001?b:A)}let _=r,v=_[f];if(x.length&&(v=x.reduce((b,A)=>b[A],r),!(v&&v.set))){const[b,...A]=x.reverse();_=A.reverse().reduce((w,T)=>w[T],r),f=b}if(m===LO+"remove")if(_.constructor){let b=OB.get(_.constructor);b||(b=new _.constructor,OB.set(_.constructor,b)),m=b[f]}else m=0;if(g&&i)m?i.handlers[f]=m:delete i.handlers[f],i.eventCount=Object.keys(i.handlers).length;else if(v&&v.set&&(v.copy||v instanceof uu)){if(Array.isArray(m))v.fromArray?v.fromArray(m):v.set(...m);else if(v.copy&&m&&m.constructor&&(hJ?v.constructor.name===m.constructor.name:v.constructor===m.constructor))v.copy(m);else if(m!==void 0){var c;const b=(c=v)==null?void 0:c.isColor;!b&&v.setScalar?v.setScalar(m):v instanceof uu&&m instanceof uu?v.mask=m.mask:v.set(m),!PO()&&a&&!a.linear&&b&&v.convertSRGBToLinear()}}else{var h;if(_[f]=m,(h=_[f])!=null&&h.isTexture&&_[f].format===en&&_[f].type===xs&&a){const b=_[f];gA(b)&&gA(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}}Bh(r)}if(i&&i.parent&&r.raycast&&l!==i.eventCount){const p=Jv(r).getState().internal,f=p.interaction.indexOf(r);f>-1&&p.interaction.splice(f,1),i.eventCount&&p.interaction.push(r)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(t=r.__r3f)!=null&&t.parent&&gw(r),r}function Bh(r){var e,t;const i=(e=r.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function gw(r){r.onUpdate==null||r.onUpdate(r)}function dJ(r,e){r.manual||(BO(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix(),r.updateMatrixWorld())}function hv(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function pJ(){var r;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Kh.DefaultEventPriority;switch((r=e.event)==null?void 0:r.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Kh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Kh.ContinuousEventPriority;default:return Kh.DefaultEventPriority}}function OO(r,e,t,i){const n=t.get(e);n&&(t.delete(e),t.size===0&&(r.delete(i),n.target.releasePointerCapture(i)))}function fJ(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,n)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(n)}),t.capturedMap.forEach((i,n)=>{OO(t.capturedMap,e,i,n)})}function mJ(r){function e(l){const{internal:c}=r.getState(),h=l.offsetX-c.initialClick[0],p=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function i(l,c){const h=r.getState(),p=new Set,f=[],m=c?c(h.internal.interaction):h.internal.interaction;for(let v=0;v<m.length;v++){const b=Up(m[v]);b&&(b.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function g(v){const b=Up(v);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var A;b.events.compute==null||b.events.compute(l,b,(A=b.previousRoot)==null?void 0:A.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(v,!0):[]}let x=m.flatMap(g).sort((v,b)=>{const A=Up(v.object),w=Up(b.object);return!A||!w?v.distance-b.distance:w.events.priority-A.events.priority||v.distance-b.distance}).filter(v=>{const b=hv(v);return p.has(b)?!1:(p.add(b),!0)});h.events.filter&&(x=h.events.filter(x,h));for(const v of x){let b=v.object;for(;b;){var _;(_=b.__r3f)!=null&&_.eventCount&&f.push({...v,eventObject:b}),b=b.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let v of h.internal.capturedMap.get(l.pointerId).values())p.has(hv(v.intersection))||f.push(v.intersection);return f}function n(l,c,h,p){const f=r.getState();if(l.length){const m={stopped:!1};for(const g of l){const x=Up(g.object)||f,{raycaster:_,pointer:v,camera:b,internal:A}=x,w=new N(v.x,v.y,0).unproject(b),T=R=>{var D,V;return(D=(V=A.capturedMap.get(R))==null?void 0:V.has(g.eventObject))!=null?D:!1},E=R=>{const D={intersection:g,target:c.target};A.capturedMap.has(R)?A.capturedMap.get(R).set(g.eventObject,D):A.capturedMap.set(R,new Map([[g.eventObject,D]])),c.target.setPointerCapture(R)},B=R=>{const D=A.capturedMap.get(R);D&&OO(A.capturedMap,g.eventObject,D,R)};let I={};for(let R in c){let D=c[R];typeof D!="function"&&(I[R]=D)}let C={...g,...I,pointer:v,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:w,ray:_.ray,camera:b,stopPropagation(){const R="pointerId"in c&&A.capturedMap.get(c.pointerId);if((!R||R.has(g.eventObject))&&(C.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(D=>D.eventObject===g.eventObject))){const D=l.slice(0,l.indexOf(g));a([...D,g])}},target:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:B},currentTarget:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:B},nativeEvent:c};if(p(C),m.stopped===!0)break}}return l}function a(l){const{internal:c}=r.getState();for(const h of c.hovered.values())if(!l.length||!l.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const p=h.eventObject.__r3f,f=p==null?void 0:p.handlers;if(c.hovered.delete(hv(h)),p!=null&&p.eventCount){const m={...h,intersections:l};f.onPointerOut==null||f.onPointerOut(m),f.onPointerLeave==null||f.onPointerLeave(m)}}}function s(l,c){for(let h=0;h<c.length;h++){const p=c[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:h}=r.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),a([]))})}}return function(c){const{onPointerMissed:h,internal:p}=r.getState();p.lastEvent.current=c;const f=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",g=i(c,f?t:void 0),x=m?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=g.map(v=>v.eventObject)),m&&!g.length&&x<=2&&(s(c,p.interaction),h&&h(c)),f&&a(g);function _(v){const b=v.eventObject,A=b.__r3f,w=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(f){if(w.onPointerOver||w.onPointerEnter||w.onPointerOut||w.onPointerLeave){const T=hv(v),E=p.hovered.get(T);E?E.stopped&&v.stopPropagation():(p.hovered.set(T,v),w.onPointerOver==null||w.onPointerOver(v),w.onPointerEnter==null||w.onPointerEnter(v))}w.onPointerMove==null||w.onPointerMove(v)}else{const T=w[l];T?(!m||p.initialHits.includes(b))&&(s(c,p.interaction.filter(E=>!p.initialHits.includes(E))),T(v)):m&&p.initialHits.includes(b)&&s(c,p.interaction.filter(E=>!p.initialHits.includes(E)))}}n(g,c,x,_)}}return{handlePointer:o}}const NO=r=>!!(r!=null&&r.render),UO=W.createContext(null),gJ=(r,e)=>{const t=KX((o,l)=>{const c=new N,h=new N,p=new N;function f(_=l().camera,v=h,b=l().size){const{width:A,height:w,top:T,left:E}=b,B=A/w;v.isVector3?p.copy(v):p.set(...v);const I=_.getWorldPosition(c).distanceTo(p);if(BO(_))return{width:A/_.zoom,height:w/_.zoom,top:T,left:E,factor:1,distance:I,aspect:B};{const C=_.fov*Math.PI/180,R=2*Math.tan(C/2)*I,D=R*(A/w);return{width:D,height:R,top:T,left:E,factor:A/D,distance:I,aspect:B}}}let m;const g=_=>o(v=>({performance:{...v.performance,current:_}})),x=new _e;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>r(l(),_),advance:(_,v)=>e(_,v,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $E,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();m&&clearTimeout(m),_.performance.current!==_.performance.min&&g(_.performance.min),m=setTimeout(()=>g(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:_=>o(v=>({...v,events:{...v.events,..._}})),setSize:(_,v,b,A,w)=>{const T=l().camera,E={width:_,height:v,top:A||0,left:w||0,updateStyle:b};o(B=>({size:E,viewport:{...B.viewport,...f(T,h,E)}}))},setDpr:_=>o(v=>{const b=FO(_);return{viewport:{...v.viewport,dpr:b,initialDpr:v.viewport.initialDpr||b}}}),setFrameloop:(_="always")=>{const v=l().clock;v.stop(),v.elapsedTime=0,_!=="never"&&(v.start(),v.elapsedTime=0),o(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:W.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,v,b)=>{const A=l().internal;return A.priority=A.priority+(v>0?1:0),A.subscribers.push({ref:_,priority:v,store:b}),A.subscribers=A.subscribers.sort((w,T)=>w.priority-T.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(v>0?1:0),w.subscribers=w.subscribers.filter(T=>T.ref!==_))}}}}}),i=t.getState();let n=i.size,a=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:h,set:p}=t.getState();if(l.width!==n.width||l.height!==n.height||c.dpr!==a){var f;n=l,a=c.dpr,dJ(o,l),h.setPixelRatio(c.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}o!==s&&(s=o,p(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>r(o)),t};let dv,vJ=new Set,yJ=new Set,_J=new Set;function _A(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function zp(r,e){switch(r){case"before":return _A(vJ,e);case"after":return _A(yJ,e);case"tail":return _A(_J,e)}}let xA,bA;function AA(r,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(i=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),xA=e.internal.subscribers,dv=0;dv<xA.length;dv++)bA=xA[dv],bA.ref.current(bA.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function xJ(r){let e=!1,t=!1,i,n,a;function s(c){n=requestAnimationFrame(s),e=!0,i=0,zp("before",c),t=!0;for(const p of r.values()){var h;a=p.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((h=a.gl.xr)!=null&&h.isPresenting)&&(i+=AA(c,a))}if(t=!1,zp("after",c),i===0)return zp("tail",c),e=!1,cancelAnimationFrame(n)}function o(c,h=1){var p;if(!c)return r.forEach(f=>o(f.store.getState(),h));(p=c.gl.xr)!=null&&p.isPresenting||!c.internal.active||c.frameloop==="never"||(h>1?c.internal.frames=Math.min(60,c.internal.frames+h):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function l(c,h=!0,p,f){if(h&&zp("before",c),p)AA(c,p,f);else for(const m of r.values())AA(c,m.store.getState());h&&zp("after",c)}return{loop:s,invalidate:o,advance:l}}function zO(){const r=W.useContext(UO);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function Ua(r=t=>t,e){return zO()(r,e)}function ag(r,e=0){const t=zO(),i=t.getState().internal.subscribe,n=IO(r);return ng(()=>i(n,e,t),[e,i,t]),null}const zB=new WeakMap;function GO(r,e){return function(t,...i){let n=zB.get(t);return n||(n=new t,zB.set(t,n)),r&&r(n),Promise.all(i.map(a=>new Promise((s,o)=>n.load(a,l=>{l.scene&&Object.assign(l,cJ(l.scene)),s(l)},e,l=>o(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`))))))}}function sg(r,e,t,i){const n=Array.isArray(e)?e:[e],a=QX(GO(t,i),[r,...n],{equal:yr.equ});return Array.isArray(e)?a:a[0]}sg.preload=function(r,e,t){const i=Array.isArray(e)?e:[e];return $X(GO(t),[r,...i])};sg.clear=function(r,e){const t=Array.isArray(e)?e:[e];return eJ([r,...t])};const Dd=new Map,{invalidate:GB,advance:HB}=xJ(Dd),{reconciler:g1,applyProps:wh}=aJ(Dd,pJ),Mh={objects:"shallow",strict:!1},bJ=(r,e)=>{const t=typeof r=="function"?r(e):r;return NO(t)?t:new SO({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r})};function AJ(r,e){const t=typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement;if(e){const{width:i,height:n,top:a,left:s,updateStyle:o=t}=e;return{width:i,height:n,top:a,left:s,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:i,height:n,top:a,left:s}=r.parentElement.getBoundingClientRect();return{width:i,height:n,top:a,left:s,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function SJ(r){const e=Dd.get(r),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const n=typeof reportError=="function"?reportError:console.error,a=i||gJ(GB,HB),s=t||g1.createContainer(a,Kh.ConcurrentRoot,null,!1,null,"",n,null);e||Dd.set(r,{fiber:s,store:a});let o,l=!1,c;return{configure(h={}){let{gl:p,size:f,scene:m,events:g,onCreated:x,shadows:_=!1,linear:v=!1,flat:b=!1,legacy:A=!1,orthographic:w=!1,frameloop:T="always",dpr:E=[1,2],performance:B,raycaster:I,camera:C,onPointerMissed:R}=h,D=a.getState(),V=D.gl;D.gl||D.set({gl:V=bJ(p,r)});let j=D.raycaster;j||D.set({raycaster:j=new mO});const{params:Z,...Q}=I||{};if(yr.equ(Q,j,Mh)||wh(j,{...Q}),yr.equ(Z,j.params,Mh)||wh(j,{params:{...j.params,...Z}}),!D.camera||D.camera===c&&!yr.equ(c,C,Mh)){c=C;const q=C instanceof Ym,pe=q?C:w?new vs(0,0,0,0,.1,1e3):new Er(75,0,.1,1e3);q||(pe.position.z=5,C&&(wh(pe,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(pe.manual=!0,pe.updateProjectionMatrix())),!D.camera&&!(C!=null&&C.rotation)&&pe.lookAt(0,0,0)),D.set({camera:pe}),j.camera=pe}if(!D.scene){let q;m!=null&&m.isScene?q=m:(q=new RE,m&&wh(q,m)),D.set({scene:Ph(q)})}if(!D.xr){var X;const q=(Le,se)=>{const ye=a.getState();ye.frameloop!=="never"&&HB(Le,!0,ye,se)},pe=()=>{const Le=a.getState();Le.gl.xr.enabled=Le.gl.xr.isPresenting,Le.gl.xr.setAnimationLoop(Le.gl.xr.isPresenting?q:null),Le.gl.xr.isPresenting||GB(Le)},we={connect(){const Le=a.getState().gl;Le.xr.addEventListener("sessionstart",pe),Le.xr.addEventListener("sessionend",pe)},disconnect(){const Le=a.getState().gl;Le.xr.removeEventListener("sessionstart",pe),Le.xr.removeEventListener("sessionend",pe)}};typeof((X=V.xr)==null?void 0:X.addEventListener)=="function"&&we.connect(),D.set({xr:we})}if(V.shadowMap){const q=V.shadowMap.enabled,pe=V.shadowMap.type;if(V.shadowMap.enabled=!!_,yr.boo(_))V.shadowMap.type=bf;else if(yr.str(_)){var ie;const we={basic:LF,percentage:s_,soft:bf,variance:cs};V.shadowMap.type=(ie=we[_])!=null?ie:bf}else yr.obj(_)&&Object.assign(V.shadowMap,_);(q!==V.shadowMap.enabled||pe!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const O=PO();O&&("enabled"in O?O.enabled=!A:"legacyMode"in O&&(O.legacyMode=A)),l||wh(V,{outputEncoding:v?3e3:3001,toneMapping:b?js:hE}),D.legacy!==A&&D.set(()=>({legacy:A})),D.linear!==v&&D.set(()=>({linear:v})),D.flat!==b&&D.set(()=>({flat:b})),p&&!yr.fun(p)&&!NO(p)&&!yr.equ(p,V,Mh)&&wh(V,p),g&&!D.events.handlers&&D.set({events:g(a)});const F=AJ(r,f);return yr.equ(F,D.size,Mh)||D.setSize(F.width,F.height,F.updateStyle,F.top,F.left),E&&D.viewport.dpr!==FO(E)&&D.setDpr(E),D.frameloop!==T&&D.setFrameloop(T),D.onPointerMissed||D.set({onPointerMissed:R}),B&&!yr.equ(B,D.performance,Mh)&&D.set(q=>({performance:{...q.performance,...B}})),o=x,l=!0,this},render(h){return l||this.configure(),g1.updateContainer(he(wJ,{store:a,children:h,onCreated:o,rootElement:r}),s,null,()=>{}),a},unmount(){HO(r)}}}function wJ({store:r,children:e,onCreated:t,rootElement:i}){return ng(()=>{const n=r.getState();n.set(a=>({internal:{...a.internal,active:!0}})),t&&t(n),r.getState().events.connected||n.events.connect==null||n.events.connect(i)},[]),he(UO.Provider,{value:r,children:e})}function HO(r,e){const t=Dd.get(r),i=t==null?void 0:t.fiber;if(i){const n=t==null?void 0:t.store.getState();n&&(n.internal.active=!1),g1.updateContainer(null,i,null,()=>{n&&setTimeout(()=>{try{var a,s,o,l;n.events.disconnect==null||n.events.disconnect(),(a=n.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=n.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=n.gl)!=null&&l.xr&&n.xr.disconnect(),uJ(n),Dd.delete(r),e&&e(r)}catch{}},500)})}}g1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:W.version});const SA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function MJ(r){const{handlePointer:e}=mJ(r);return{priority:1,enabled:!0,compute(t,i,n){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(SA).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:n}=r.getState();(t=n.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var i;const{set:n,events:a}=r.getState();a.disconnect==null||a.disconnect(),n(s=>({events:{...s.events,connected:t}})),Object.entries((i=a.handlers)!=null?i:[]).forEach(([s,o])=>{const[l,c]=SA[s];t.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:t,events:i}=r.getState();if(i.connected){var n;Object.entries((n=i.handlers)!=null?n:[]).forEach(([a,s])=>{if(i&&i.connected instanceof HTMLElement){const[o]=SA[a];i.connected.removeEventListener(o,s)}}),t(a=>({events:{...a.events,connected:void 0}}))}}}}function VB(r,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...i),e)}}function EJ({debounce:r,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const n=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!n)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=W.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=W.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=r?typeof r=="number"?r:r.scroll:null,c=r?typeof r=="number"?r:r.resize:null,h=W.useRef(!1);W.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,f,m]=W.useMemo(()=>{const v=()=>{if(!o.current.element)return;const{left:b,top:A,width:w,height:T,bottom:E,right:B,x:I,y:C}=o.current.element.getBoundingClientRect(),R={left:b,top:A,width:w,height:T,bottom:E,right:B,x:I,y:C};o.current.element instanceof HTMLElement&&i&&(R.height=o.current.element.offsetHeight,R.width=o.current.element.offsetWidth),Object.freeze(R),h.current&&!PJ(o.current.lastBounds,R)&&s(o.current.lastBounds=R)};return[v,c?VB(v,c):v,l?VB(v,l):v]},[s,i,l,c]);function g(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",m,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function x(){o.current.element&&(o.current.resizeObserver=new n(m),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(v=>v.addEventListener("scroll",m,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const _=v=>{!v||v===o.current.element||(g(),o.current.element=v,o.current.scrollContainers=VO(v),x())};return TJ(m,!!e),CJ(f),W.useEffect(()=>{g(),x()},[e,m,f]),W.useEffect(()=>g,[]),[_,a,p]}function CJ(r){W.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function TJ(r,e){W.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function VO(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:i,overflowY:n}=window.getComputedStyle(r);return[t,i,n].some(a=>a==="auto"||a==="scroll")&&e.push(r),[...e,...VO(r.parentElement)]}const RJ=["x","y","top","bottom","left","right","width","height"],PJ=(r,e)=>RJ.every(t=>r[t]===e[t]);var BJ=Object.defineProperty,IJ=Object.defineProperties,DJ=Object.getOwnPropertyDescriptors,jB=Object.getOwnPropertySymbols,LJ=Object.prototype.hasOwnProperty,FJ=Object.prototype.propertyIsEnumerable,WB=(r,e,t)=>e in r?BJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,XB=(r,e)=>{for(var t in e||(e={}))LJ.call(e,t)&&WB(r,t,e[t]);if(jB)for(var t of jB(e))FJ.call(e,t)&&WB(r,t,e[t]);return r},kJ=(r,e)=>IJ(r,DJ(e)),JB,YB;typeof window<"u"&&((JB=window.document)!=null&&JB.createElement||((YB=window.navigator)==null?void 0:YB.product)==="ReactNative")?W.useLayoutEffect:W.useEffect;function jO(r,e,t){if(!r)return;if(t(r)===!0)return r;let i=e?r.return:r.child;for(;i;){const n=jO(i,e,t);if(n)return n;i=e?null:i.sibling}}function WO(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const qB=console.error;console.error=function(){const r=[...arguments].join("");if(r!=null&&r.startsWith("Warning:")&&r.includes("useContext")){console.error=qB;return}return qB.apply(this,arguments)};const sC=WO(W.createContext(null));class XO extends W.Component{render(){return W.createElement(sC.Provider,{value:this._reactInternals},this.props.children)}}function OJ(){const r=W.useContext(sC);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=W.useId();return W.useMemo(()=>{for(const t of[r,r==null?void 0:r.alternate]){if(!t)continue;const i=jO(t,!1,n=>{let a=n.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[r,e])}function NJ(){const r=OJ(),[e]=W.useState(()=>new Map);e.clear();let t=r;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==sC&&!e.has(i)&&e.set(i,W.useContext(WO(i)))}t=t.return}return e}function UJ(){const r=NJ();return W.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>i=>W.createElement(e,null,W.createElement(t.Provider,kJ(XB({},i),{value:r.get(t)}))),e=>W.createElement(XO,XB({},e))),[r])}const zJ=W.forwardRef(function({children:r,fallback:e,resize:t,style:i,gl:n,events:a=MJ,eventSource:s,eventPrefix:o,shadows:l,linear:c,flat:h,legacy:p,orthographic:f,frameloop:m,dpr:g,performance:x,raycaster:_,camera:v,scene:b,onPointerMissed:A,onCreated:w,...T},E){W.useMemo(()=>nJ(JX),[]);const B=UJ(),[I,C]=EJ({scroll:!0,debounce:{scroll:50,resize:0},...t}),R=W.useRef(null),D=W.useRef(null);W.useImperativeHandle(E,()=>R.current);const V=IO(A),[j,Z]=W.useState(!1),[Q,X]=W.useState(!1);if(j)throw j;if(Q)throw Q;const ie=W.useRef(null);return ng(()=>{const O=R.current;C.width>0&&C.height>0&&O&&(ie.current||(ie.current=SJ(O)),ie.current.configure({gl:n,events:a,shadows:l,linear:c,flat:h,legacy:p,orthographic:f,frameloop:m,dpr:g,performance:x,raycaster:_,camera:v,scene:b,size:C,onPointerMissed:(...F)=>V.current==null?void 0:V.current(...F),onCreated:F=>{F.events.connect==null||F.events.connect(s?sJ(s)?s.current:s:D.current),o&&F.setEvents({compute:(q,pe)=>{const we=q[o+"X"],Le=q[o+"Y"];pe.pointer.set(we/pe.size.width*2-1,-(Le/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),w==null||w(F)}}),ie.current.render(he(B,{children:he(DO,{set:X,children:he(W.Suspense,{fallback:he(oJ,{set:Z}),children:r})})})))}),W.useEffect(()=>{const O=R.current;if(O)return()=>HO(O)},[]),he("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:s?"none":"auto",...i},...T,children:he("div",{ref:I,style:{width:"100%",height:"100%"},children:he("canvas",{ref:R,style:{display:"block"},children:e})})})}),oC=W.forwardRef(function(r,e){return he(XO,{children:he(zJ,{...r,ref:e})})});function jo(){return jo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},jo.apply(null,arguments)}const og=new N,lC=new N,GJ=new N,KB=new _e;function HJ(r,e,t){const i=og.setFromMatrixPosition(r.matrixWorld);i.project(e);const n=t.width/2,a=t.height/2;return[i.x*n+n,-(i.y*a)+a]}function VJ(r,e){const t=og.setFromMatrixPosition(r.matrixWorld),i=lC.setFromMatrixPosition(e.matrixWorld),n=t.sub(i),a=e.getWorldDirection(GJ);return n.angleTo(a)>Math.PI/2}function jJ(r,e,t,i){const n=og.setFromMatrixPosition(r.matrixWorld),a=n.clone();a.project(e),KB.set(a.x,a.y),t.setFromCamera(KB,e);const s=t.intersectObjects(i,!0);if(s.length){const o=s[0].distance;return n.distanceTo(t.ray.origin)<o}return!0}function WJ(r,e){if(e instanceof vs)return e.zoom;if(e instanceof Er){const t=og.setFromMatrixPosition(r.matrixWorld),i=lC.setFromMatrixPosition(e.matrixWorld),n=e.fov*Math.PI/180,a=t.distanceTo(i);return 1/(2*Math.tan(n/2)*a)}else return 1}function XJ(r,e,t){if(e instanceof Er||e instanceof vs){const i=og.setFromMatrixPosition(r.matrixWorld),n=lC.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(n),s=(t[1]-t[0])/(e.far-e.near),o=t[1]-s*e.far;return Math.round(s*a+o)}}const vw=r=>Math.abs(r)<1e-10?0:r;function JO(r,e,t=""){let i="matrix3d(";for(let n=0;n!==16;n++)i+=vw(e[n]*r.elements[n])+(n!==15?",":")");return t+i}const JJ=(r=>e=>JO(e,r))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),YJ=(r=>(e,t)=>JO(e,r(t),"translate(-50%,-50%)"))(r=>[1/r,1/r,1/r,1,-1/r,-1/r,-1/r,-1,1/r,1/r,1/r,1,1,1,1,1]);function qJ(r){return r&&typeof r=="object"&&"current"in r}const KJ=W.forwardRef(({children:r,eps:e=.001,style:t,className:i,prepend:n,center:a,fullscreen:s,portal:o,distanceFactor:l,sprite:c=!1,transform:h=!1,occlude:p,onOcclude:f,castShadow:m,receiveShadow:g,material:x,geometry:_,zIndexRange:v=[16777271,0],calculatePosition:b=HJ,as:A="div",wrapperClass:w,pointerEvents:T="auto",...E},B)=>{const{gl:I,camera:C,scene:R,size:D,raycaster:V,events:j,viewport:Z}=Ua(),[Q]=W.useState(()=>document.createElement(A)),X=W.useRef(),ie=W.useRef(null),O=W.useRef(0),F=W.useRef([0,0]),q=W.useRef(null),pe=W.useRef(null),we=(o==null?void 0:o.current)||j.connected||I.domElement.parentNode,Le=W.useRef(null),se=W.useRef(!1),ye=W.useMemo(()=>p&&p!=="blending"||Array.isArray(p)&&p.length&&qJ(p[0]),[p]);W.useLayoutEffect(()=>{const Ne=I.domElement;p&&p==="blending"?(Ne.style.zIndex=`${Math.floor(v[0]/2)}`,Ne.style.position="absolute",Ne.style.pointerEvents="none"):(Ne.style.zIndex=null,Ne.style.position=null,Ne.style.pointerEvents=null)},[p]),W.useLayoutEffect(()=>{if(ie.current){const Ne=X.current=bF(Q);if(R.updateMatrixWorld(),h)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ue=b(ie.current,C,D);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ue[0]}px,${ue[1]}px,0);transform-origin:0 0;`}return we&&(n?we.prepend(Q):we.appendChild(Q)),()=>{we&&we.removeChild(Q),Ne.unmount()}}},[we,h]),W.useLayoutEffect(()=>{w&&(Q.className=w)},[w]);const Se=W.useMemo(()=>h?{position:"absolute",top:0,left:0,width:D.width,height:D.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...s&&{top:-D.height/2,left:-D.width/2,width:D.width,height:D.height},...t},[t,a,s,D,h]),Ee=W.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);W.useLayoutEffect(()=>{if(se.current=!1,h){var Ne;(Ne=X.current)==null||Ne.render(W.createElement("div",{ref:q,style:Se},W.createElement("div",{ref:pe,style:Ee},W.createElement("div",{ref:B,className:i,style:t,children:r}))))}else{var ue;(ue=X.current)==null||ue.render(W.createElement("div",{ref:B,style:Se,className:i,children:r}))}});const je=W.useRef(!0);ag(Ne=>{if(ie.current){C.updateMatrixWorld(),ie.current.updateWorldMatrix(!0,!1);const ue=h?F.current:b(ie.current,C,D);if(h||Math.abs(O.current-C.zoom)>e||Math.abs(F.current[0]-ue[0])>e||Math.abs(F.current[1]-ue[1])>e){const oe=VJ(ie.current,C);let xe=!1;ye&&(Array.isArray(p)?xe=p.map(Ue=>Ue.current):p!=="blending"&&(xe=[R]));const z=je.current;if(xe){const Ue=jJ(ie.current,C,V,xe);je.current=Ue&&!oe}else je.current=!oe;z!==je.current&&(f?f(!je.current):Q.style.display=je.current?"block":"none");const ke=Math.floor(v[0]/2),Y=p?ye?[v[0],ke]:[ke-1,0]:v;if(Q.style.zIndex=`${XJ(ie.current,C,Y)}`,h){const[Ue,Fe]=[D.width/2,D.height/2],ut=C.projectionMatrix.elements[5]*Fe,{isOrthographicCamera:Te,top:U,left:L,bottom:ee,right:me}=C,Ae=JJ(C.matrixWorldInverse),de=Te?`scale(${ut})translate(${vw(-(me+L)/2)}px,${vw((U+ee)/2)}px)`:`translateZ(${ut}px)`;let Ve=ie.current.matrixWorld;c&&(Ve=C.matrixWorldInverse.clone().transpose().copyPosition(Ve).scale(ie.current.scale),Ve.elements[3]=Ve.elements[7]=Ve.elements[11]=0,Ve.elements[15]=1),Q.style.width=D.width+"px",Q.style.height=D.height+"px",Q.style.perspective=Te?"":`${ut}px`,q.current&&pe.current&&(q.current.style.transform=`${de}${Ae}translate(${Ue}px,${Fe}px)`,pe.current.style.transform=YJ(Ve,1/((l||10)/400)))}else{const Ue=l===void 0?1:WJ(ie.current,C)*l;Q.style.transform=`translate3d(${ue[0]}px,${ue[1]}px,0) scale(${Ue})`}F.current=ue,O.current=C.zoom}}if(!ye&&Le.current&&!se.current)if(h){if(q.current){const ue=q.current.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const{isOrthographicCamera:oe}=C;if(oe||_)E.scale&&(Array.isArray(E.scale)?E.scale instanceof N?Le.current.scale.copy(E.scale.clone().divideScalar(1)):Le.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):Le.current.scale.setScalar(1/E.scale));else{const xe=(l||10)/400,z=ue.clientWidth*xe,ke=ue.clientHeight*xe;Le.current.scale.set(z,ke,1)}se.current=!0}}}else{const ue=Q.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const oe=1/Z.factor,xe=ue.clientWidth*oe,z=ue.clientHeight*oe;Le.current.scale.set(xe,z,1),se.current=!0}Le.current.lookAt(Ne.camera.position)}});const it=W.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return W.createElement("group",jo({},E,{ref:ie}),p&&!ye&&W.createElement("mesh",{castShadow:m,receiveShadow:g,ref:Le},_||W.createElement("planeGeometry",null),x||W.createElement("shaderMaterial",{side:ja,vertexShader:it.vertexShader,fragmentShader:it.fragmentShader})))}),ZB=r=>{let e;const t=new Set,i=(o,l)=>{const c=typeof o=="function"?o(e):o;if(!Object.is(c,e)){const h=e;e=l??(typeof c!="object"||c===null)?c:Object.assign({},e,c),t.forEach(p=>p(e,h))}},n=()=>e,a={setState:i,getState:n,getInitialState:()=>s,subscribe:o=>(t.add(o),()=>t.delete(o))},s=e=r(i,n,a);return a},ZJ=r=>r?ZB(r):ZB,QJ=r=>r;function $J(r,e=QJ){const t=bn.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return bn.useDebugValue(t),t}const QB=r=>{const e=ZJ(r),t=i=>$J(e,i);return Object.assign(t,e),t},eY=r=>r?QB(r):QB;let Gp=0;const tY=eY(r=>(Yh.onStart=(e,t,i)=>{r({active:!0,item:e,loaded:t,total:i,progress:(t-Gp)/(i-Gp)*100})},Yh.onLoad=()=>{r({active:!1})},Yh.onError=e=>r(t=>({errors:[...t.errors,e]})),Yh.onProgress=(e,t,i)=>{t===i&&(Gp=i),r({active:!0,item:e,loaded:t,total:i,progress:(t-Gp)/(i-Gp)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),rY=(()=>parseInt(Jd.replace(/\D+/g,"")))();function $B(r,e){if(e===hk)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===d1||e===AE){let t=r.getIndex();if(t===null){const s=[],o=r.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);r.setIndex(s),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const i=t.count-2,n=[];if(t)if(e===d1)for(let s=1;s<=i;s++)n.push(t.getX(0)),n.push(t.getX(s)),n.push(t.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(n.push(t.getX(s)),n.push(t.getX(s+1)),n.push(t.getX(s+2))):(n.push(t.getX(s+2)),n.push(t.getX(s+1)),n.push(t.getX(s)));n.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=r.clone();return a.setIndex(n),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}var iY=Object.defineProperty,nY=(r,e,t)=>e in r?iY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,aY=(r,e,t)=>(nY(r,typeof e!="symbol"?e+"":e,t),t);class sY{constructor(){aY(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const n=i.indexOf(t);n!==-1&&i.splice(n,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const t=this._listeners[e.type];if(t!==void 0){e.target=this;const i=t.slice(0);for(let n=0,a=i.length;n<a;n++)i[n].call(this,e);e.target=null}}}var oY=Object.defineProperty,lY=(r,e,t)=>e in r?oY(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_t=(r,e,t)=>(lY(r,typeof e!="symbol"?e+"":e,t),t);const pv=new Uu,e3=new _o,cY=Math.cos(70*(Math.PI/180)),t3=(r,e)=>(r%e+e)%e;let uY=class extends sY{constructor(r,e){super(),_t(this,"object"),_t(this,"domElement"),_t(this,"enabled",!0),_t(this,"target",new N),_t(this,"minDistance",0),_t(this,"maxDistance",1/0),_t(this,"minZoom",0),_t(this,"maxZoom",1/0),_t(this,"minPolarAngle",0),_t(this,"maxPolarAngle",Math.PI),_t(this,"minAzimuthAngle",-1/0),_t(this,"maxAzimuthAngle",1/0),_t(this,"enableDamping",!1),_t(this,"dampingFactor",.05),_t(this,"enableZoom",!0),_t(this,"zoomSpeed",1),_t(this,"enableRotate",!0),_t(this,"rotateSpeed",1),_t(this,"enablePan",!0),_t(this,"panSpeed",1),_t(this,"screenSpacePanning",!0),_t(this,"keyPanSpeed",7),_t(this,"zoomToCursor",!1),_t(this,"autoRotate",!1),_t(this,"autoRotateSpeed",2),_t(this,"reverseOrbit",!1),_t(this,"reverseHorizontalOrbit",!1),_t(this,"reverseVerticalOrbit",!1),_t(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),_t(this,"mouseButtons",{LEFT:Lc.ROTATE,MIDDLE:Lc.DOLLY,RIGHT:Lc.PAN}),_t(this,"touches",{ONE:Fc.ROTATE,TWO:Fc.DOLLY_PAN}),_t(this,"target0"),_t(this,"position0"),_t(this,"zoom0"),_t(this,"_domElementKeyEvents",null),_t(this,"getPolarAngle"),_t(this,"getAzimuthalAngle"),_t(this,"setPolarAngle"),_t(this,"setAzimuthalAngle"),_t(this,"getDistance"),_t(this,"getZoomScale"),_t(this,"listenToKeyEvents"),_t(this,"stopListenToKeyEvents"),_t(this,"saveState"),_t(this,"reset"),_t(this,"update"),_t(this,"connect"),_t(this,"dispose"),_t(this,"dollyIn"),_t(this,"dollyOut"),_t(this,"getScale"),_t(this,"setScale"),this.object=r,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=H=>{let ge=t3(H,2*Math.PI),Pe=c.phi;Pe<0&&(Pe+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let Ie=Math.abs(ge-Pe);2*Math.PI-Ie<Ie&&(ge<Pe?ge+=2*Math.PI:Pe+=2*Math.PI),h.phi=ge-Pe,t.update()},this.setAzimuthalAngle=H=>{let ge=t3(H,2*Math.PI),Pe=c.theta;Pe<0&&(Pe+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let Ie=Math.abs(ge-Pe);2*Math.PI-Ie<Ie&&(ge<Pe?ge+=2*Math.PI:Pe+=2*Math.PI),h.theta=ge-Pe,t.update()},this.getDistance=()=>t.object.position.distanceTo(t.target),this.listenToKeyEvents=H=>{H.addEventListener("keydown",Ve),this._domElementKeyEvents=H},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ve),this._domElementKeyEvents=null},this.saveState=()=>{t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=()=>{t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(i),t.update(),o=s.NONE},this.update=(()=>{const H=new N,ge=new N(0,1,0),Pe=new Ei().setFromUnitVectors(r.up,ge),Ie=Pe.clone().invert(),J=new N,Be=new Ei,ce=2*Math.PI;return function(){const be=t.object.position;Pe.setFromUnitVectors(r.up,ge),Ie.copy(Pe).invert(),H.copy(be).sub(t.target),H.applyQuaternion(Pe),c.setFromVector3(H),t.autoRotate&&o===s.NONE&&j(D()),t.enableDamping?(c.theta+=h.theta*t.dampingFactor,c.phi+=h.phi*t.dampingFactor):(c.theta+=h.theta,c.phi+=h.phi);let Ge=t.minAzimuthAngle,De=t.maxAzimuthAngle;isFinite(Ge)&&isFinite(De)&&(Ge<-Math.PI?Ge+=ce:Ge>Math.PI&&(Ge-=ce),De<-Math.PI?De+=ce:De>Math.PI&&(De-=ce),Ge<=De?c.theta=Math.max(Ge,Math.min(De,c.theta)):c.theta=c.theta>(Ge+De)/2?Math.max(Ge,c.theta):Math.min(De,c.theta)),c.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,c.phi)),c.makeSafe(),t.enableDamping===!0?t.target.addScaledVector(f,t.dampingFactor):t.target.add(f),t.zoomToCursor&&I||t.object.isOrthographicCamera?c.radius=we(c.radius):c.radius=we(c.radius*p),H.setFromSpherical(c),H.applyQuaternion(Ie),be.copy(t.target).add(H),t.object.matrixAutoUpdate||t.object.updateMatrix(),t.object.lookAt(t.target),t.enableDamping===!0?(h.theta*=1-t.dampingFactor,h.phi*=1-t.dampingFactor,f.multiplyScalar(1-t.dampingFactor)):(h.set(0,0,0),f.set(0,0,0));let yt=!1;if(t.zoomToCursor&&I){let Ht=null;if(t.object instanceof Er&&t.object.isPerspectiveCamera){const Re=H.length();Ht=we(Re*p);const nt=Re-Ht;t.object.position.addScaledVector(E,nt),t.object.updateMatrixWorld()}else if(t.object.isOrthographicCamera){const Re=new N(B.x,B.y,0);Re.unproject(t.object),t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/p)),t.object.updateProjectionMatrix(),yt=!0;const nt=new N(B.x,B.y,0);nt.unproject(t.object),t.object.position.sub(nt).add(Re),t.object.updateMatrixWorld(),Ht=H.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),t.zoomToCursor=!1;Ht!==null&&(t.screenSpacePanning?t.target.set(0,0,-1).transformDirection(t.object.matrix).multiplyScalar(Ht).add(t.object.position):(pv.origin.copy(t.object.position),pv.direction.set(0,0,-1).transformDirection(t.object.matrix),Math.abs(t.object.up.dot(pv.direction))<cY?r.lookAt(t.target):(e3.setFromNormalAndCoplanarPoint(t.object.up,t.target),pv.intersectPlane(e3,t.target))))}else t.object instanceof vs&&t.object.isOrthographicCamera&&(yt=p!==1,yt&&(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/p)),t.object.updateProjectionMatrix()));return p=1,I=!1,yt||J.distanceToSquared(t.object.position)>l||8*(1-Be.dot(t.object.quaternion))>l?(t.dispatchEvent(i),J.copy(t.object.position),Be.copy(t.object.quaternion),yt=!1,!0):!1}})(),this.connect=H=>{t.domElement=H,t.domElement.style.touchAction="none",t.domElement.addEventListener("contextmenu",wt),t.domElement.addEventListener("pointerdown",U),t.domElement.addEventListener("pointercancel",ee),t.domElement.addEventListener("wheel",de)},this.dispose=()=>{var H,ge,Pe,Ie,J,Be;t.domElement&&(t.domElement.style.touchAction="auto"),(H=t.domElement)==null||H.removeEventListener("contextmenu",wt),(ge=t.domElement)==null||ge.removeEventListener("pointerdown",U),(Pe=t.domElement)==null||Pe.removeEventListener("pointercancel",ee),(Ie=t.domElement)==null||Ie.removeEventListener("wheel",de),(J=t.domElement)==null||J.ownerDocument.removeEventListener("pointermove",L),(Be=t.domElement)==null||Be.ownerDocument.removeEventListener("pointerup",ee),t._domElementKeyEvents!==null&&t._domElementKeyEvents.removeEventListener("keydown",Ve)};const t=this,i={type:"change"},n={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=s.NONE;const l=1e-6,c=new uw,h=new uw;let p=1;const f=new N,m=new _e,g=new _e,x=new _e,_=new _e,v=new _e,b=new _e,A=new _e,w=new _e,T=new _e,E=new N,B=new _e;let I=!1;const C=[],R={};function D(){return 2*Math.PI/60/60*t.autoRotateSpeed}function V(){return Math.pow(.95,t.zoomSpeed)}function j(H){t.reverseOrbit||t.reverseHorizontalOrbit?h.theta+=H:h.theta-=H}function Z(H){t.reverseOrbit||t.reverseVerticalOrbit?h.phi+=H:h.phi-=H}const Q=(()=>{const H=new N;return function(ge,Pe){H.setFromMatrixColumn(Pe,0),H.multiplyScalar(-ge),f.add(H)}})(),X=(()=>{const H=new N;return function(ge,Pe){t.screenSpacePanning===!0?H.setFromMatrixColumn(Pe,1):(H.setFromMatrixColumn(Pe,0),H.crossVectors(t.object.up,H)),H.multiplyScalar(ge),f.add(H)}})(),ie=(()=>{const H=new N;return function(ge,Pe){const Ie=t.domElement;if(Ie&&t.object instanceof Er&&t.object.isPerspectiveCamera){const J=t.object.position;H.copy(J).sub(t.target);let Be=H.length();Be*=Math.tan(t.object.fov/2*Math.PI/180),Q(2*ge*Be/Ie.clientHeight,t.object.matrix),X(2*Pe*Be/Ie.clientHeight,t.object.matrix)}else Ie&&t.object instanceof vs&&t.object.isOrthographicCamera?(Q(ge*(t.object.right-t.object.left)/t.object.zoom/Ie.clientWidth,t.object.matrix),X(Pe*(t.object.top-t.object.bottom)/t.object.zoom/Ie.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}})();function O(H){t.object instanceof Er&&t.object.isPerspectiveCamera||t.object instanceof vs&&t.object.isOrthographicCamera?p=H:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function F(H){O(p/H)}function q(H){O(p*H)}function pe(H){if(!t.zoomToCursor||!t.domElement)return;I=!0;const ge=t.domElement.getBoundingClientRect(),Pe=H.clientX-ge.left,Ie=H.clientY-ge.top,J=ge.width,Be=ge.height;B.x=Pe/J*2-1,B.y=-(Ie/Be)*2+1,E.set(B.x,B.y,1).unproject(t.object).sub(t.object.position).normalize()}function we(H){return Math.max(t.minDistance,Math.min(t.maxDistance,H))}function Le(H){m.set(H.clientX,H.clientY)}function se(H){pe(H),A.set(H.clientX,H.clientY)}function ye(H){_.set(H.clientX,H.clientY)}function Se(H){g.set(H.clientX,H.clientY),x.subVectors(g,m).multiplyScalar(t.rotateSpeed);const ge=t.domElement;ge&&(j(2*Math.PI*x.x/ge.clientHeight),Z(2*Math.PI*x.y/ge.clientHeight)),m.copy(g),t.update()}function Ee(H){w.set(H.clientX,H.clientY),T.subVectors(w,A),T.y>0?F(V()):T.y<0&&q(V()),A.copy(w),t.update()}function je(H){v.set(H.clientX,H.clientY),b.subVectors(v,_).multiplyScalar(t.panSpeed),ie(b.x,b.y),_.copy(v),t.update()}function it(H){pe(H),H.deltaY<0?q(V()):H.deltaY>0&&F(V()),t.update()}function Ne(H){let ge=!1;switch(H.code){case t.keys.UP:ie(0,t.keyPanSpeed),ge=!0;break;case t.keys.BOTTOM:ie(0,-t.keyPanSpeed),ge=!0;break;case t.keys.LEFT:ie(t.keyPanSpeed,0),ge=!0;break;case t.keys.RIGHT:ie(-t.keyPanSpeed,0),ge=!0;break}ge&&(H.preventDefault(),t.update())}function ue(){if(C.length==1)m.set(C[0].pageX,C[0].pageY);else{const H=.5*(C[0].pageX+C[1].pageX),ge=.5*(C[0].pageY+C[1].pageY);m.set(H,ge)}}function oe(){if(C.length==1)_.set(C[0].pageX,C[0].pageY);else{const H=.5*(C[0].pageX+C[1].pageX),ge=.5*(C[0].pageY+C[1].pageY);_.set(H,ge)}}function xe(){const H=C[0].pageX-C[1].pageX,ge=C[0].pageY-C[1].pageY,Pe=Math.sqrt(H*H+ge*ge);A.set(0,Pe)}function z(){t.enableZoom&&xe(),t.enablePan&&oe()}function ke(){t.enableZoom&&xe(),t.enableRotate&&ue()}function Y(H){if(C.length==1)g.set(H.pageX,H.pageY);else{const Pe=pt(H),Ie=.5*(H.pageX+Pe.x),J=.5*(H.pageY+Pe.y);g.set(Ie,J)}x.subVectors(g,m).multiplyScalar(t.rotateSpeed);const ge=t.domElement;ge&&(j(2*Math.PI*x.x/ge.clientHeight),Z(2*Math.PI*x.y/ge.clientHeight)),m.copy(g)}function Ue(H){if(C.length==1)v.set(H.pageX,H.pageY);else{const ge=pt(H),Pe=.5*(H.pageX+ge.x),Ie=.5*(H.pageY+ge.y);v.set(Pe,Ie)}b.subVectors(v,_).multiplyScalar(t.panSpeed),ie(b.x,b.y),_.copy(v)}function Fe(H){const ge=pt(H),Pe=H.pageX-ge.x,Ie=H.pageY-ge.y,J=Math.sqrt(Pe*Pe+Ie*Ie);w.set(0,J),T.set(0,Math.pow(w.y/A.y,t.zoomSpeed)),F(T.y),A.copy(w)}function ut(H){t.enableZoom&&Fe(H),t.enablePan&&Ue(H)}function Te(H){t.enableZoom&&Fe(H),t.enableRotate&&Y(H)}function U(H){var ge,Pe;t.enabled!==!1&&(C.length===0&&((ge=t.domElement)==null||ge.ownerDocument.addEventListener("pointermove",L),(Pe=t.domElement)==null||Pe.ownerDocument.addEventListener("pointerup",ee)),Me(H),H.pointerType==="touch"?ze(H):me(H))}function L(H){t.enabled!==!1&&(H.pointerType==="touch"?We(H):Ae(H))}function ee(H){var ge,Pe,Ie;tt(H),C.length===0&&((ge=t.domElement)==null||ge.releasePointerCapture(H.pointerId),(Pe=t.domElement)==null||Pe.ownerDocument.removeEventListener("pointermove",L),(Ie=t.domElement)==null||Ie.ownerDocument.removeEventListener("pointerup",ee)),t.dispatchEvent(a),o=s.NONE}function me(H){let ge;switch(H.button){case 0:ge=t.mouseButtons.LEFT;break;case 1:ge=t.mouseButtons.MIDDLE;break;case 2:ge=t.mouseButtons.RIGHT;break;default:ge=-1}switch(ge){case Lc.DOLLY:if(t.enableZoom===!1)return;se(H),o=s.DOLLY;break;case Lc.ROTATE:if(H.ctrlKey||H.metaKey||H.shiftKey){if(t.enablePan===!1)return;ye(H),o=s.PAN}else{if(t.enableRotate===!1)return;Le(H),o=s.ROTATE}break;case Lc.PAN:if(H.ctrlKey||H.metaKey||H.shiftKey){if(t.enableRotate===!1)return;Le(H),o=s.ROTATE}else{if(t.enablePan===!1)return;ye(H),o=s.PAN}break;default:o=s.NONE}o!==s.NONE&&t.dispatchEvent(n)}function Ae(H){if(t.enabled!==!1)switch(o){case s.ROTATE:if(t.enableRotate===!1)return;Se(H);break;case s.DOLLY:if(t.enableZoom===!1)return;Ee(H);break;case s.PAN:if(t.enablePan===!1)return;je(H);break}}function de(H){t.enabled===!1||t.enableZoom===!1||o!==s.NONE&&o!==s.ROTATE||(H.preventDefault(),t.dispatchEvent(n),it(H),t.dispatchEvent(a))}function Ve(H){t.enabled===!1||t.enablePan===!1||Ne(H)}function ze(H){switch(ct(H),C.length){case 1:switch(t.touches.ONE){case Fc.ROTATE:if(t.enableRotate===!1)return;ue(),o=s.TOUCH_ROTATE;break;case Fc.PAN:if(t.enablePan===!1)return;oe(),o=s.TOUCH_PAN;break;default:o=s.NONE}break;case 2:switch(t.touches.TWO){case Fc.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;z(),o=s.TOUCH_DOLLY_PAN;break;case Fc.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;ke(),o=s.TOUCH_DOLLY_ROTATE;break;default:o=s.NONE}break;default:o=s.NONE}o!==s.NONE&&t.dispatchEvent(n)}function We(H){switch(ct(H),o){case s.TOUCH_ROTATE:if(t.enableRotate===!1)return;Y(H),t.update();break;case s.TOUCH_PAN:if(t.enablePan===!1)return;Ue(H),t.update();break;case s.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;ut(H),t.update();break;case s.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Te(H),t.update();break;default:o=s.NONE}}function wt(H){t.enabled!==!1&&H.preventDefault()}function Me(H){C.push(H)}function tt(H){delete R[H.pointerId];for(let ge=0;ge<C.length;ge++)if(C[ge].pointerId==H.pointerId){C.splice(ge,1);return}}function ct(H){let ge=R[H.pointerId];ge===void 0&&(ge=new _e,R[H.pointerId]=ge),ge.set(H.pageX,H.pageY)}function pt(H){const ge=H.pointerId===C[0].pointerId?C[1]:C[0];return R[ge.pointerId]}this.dollyIn=(H=V())=>{q(H),t.update()},this.dollyOut=(H=V())=>{F(H),t.update()},this.getScale=()=>p,this.setScale=H=>{O(H),t.update()},this.getZoomScale=()=>V(),e!==void 0&&this.connect(e),this.update()}};function v1(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let e="";for(let t=0,i=r.length;t<i;t++)e+=String.fromCharCode(r[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const eu="srgb",Do="srgb-linear",r3=3001,hY=3e3;class cC extends sn{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new gY(t)}),this.register(function(t){return new vY(t)}),this.register(function(t){return new EY(t)}),this.register(function(t){return new CY(t)}),this.register(function(t){return new TY(t)}),this.register(function(t){return new _Y(t)}),this.register(function(t){return new xY(t)}),this.register(function(t){return new bY(t)}),this.register(function(t){return new AY(t)}),this.register(function(t){return new mY(t)}),this.register(function(t){return new SY(t)}),this.register(function(t){return new yY(t)}),this.register(function(t){return new MY(t)}),this.register(function(t){return new wY(t)}),this.register(function(t){return new pY(t)}),this.register(function(t){return new RY(t)}),this.register(function(t){return new PY(t)})}load(e,t,i,n){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const c=kl.extractUrlBase(e);s=kl.resolveURL(c,this.path)}else s=kl.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){n?n(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},l=new ya(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{a.parse(c,s,function(h){t(h),a.manager.itemEnd(e)},o)}catch(h){o(h)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,n){let a;const s={},o={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(v1(new Uint8Array(e.slice(0,4)))===YO){try{s[Vt.KHR_BINARY_GLTF]=new BY(e)}catch(c){n&&n(c);return}a=JSON.parse(s[Vt.KHR_BINARY_GLTF].content)}else a=JSON.parse(v1(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new jY(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[h.name]=h,s[h.name]=!0}if(a.extensionsUsed)for(let c=0;c<a.extensionsUsed.length;++c){const h=a.extensionsUsed[c],p=a.extensionsRequired||[];switch(h){case Vt.KHR_MATERIALS_UNLIT:s[h]=new fY;break;case Vt.KHR_DRACO_MESH_COMPRESSION:s[h]=new IY(a,this.dracoLoader);break;case Vt.KHR_TEXTURE_TRANSFORM:s[h]=new DY;break;case Vt.KHR_MESH_QUANTIZATION:s[h]=new LY;break;default:p.indexOf(h)>=0&&o[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(s),l.setPlugins(o),l.parse(i,n)}parseAsync(e,t){const i=this;return new Promise(function(n,a){i.parse(e,t,n,a)})}}function dY(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const Vt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class pY{constructor(e){this.parser=e,this.name=Vt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,n=t.length;i<n;i++){const a=t[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let n=t.cache.get(i);if(n)return n;const a=t.json,s=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let o;const l=new Qe(16777215);s.color!==void 0&&l.setRGB(s.color[0],s.color[1],s.color[2],Do);const c=s.range!==void 0?s.range:0;switch(s.type){case"directional":o=new ZE(l),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new KE(l),o.distance=c;break;case"spot":o=new qE(l),o.distance=c,s.spot=s.spot||{},s.spot.innerConeAngle=s.spot.innerConeAngle!==void 0?s.spot.innerConeAngle:0,s.spot.outerConeAngle=s.spot.outerConeAngle!==void 0?s.spot.outerConeAngle:Math.PI/4,o.angle=s.spot.outerConeAngle,o.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return o.position.set(0,0,0),o.decay=2,go(o,s),s.intensity!==void 0&&(o.intensity=s.intensity),o.name=t.createUniqueName(s.name||"light_"+e),n=Promise.resolve(o),t.cache.add(i,n),n}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,n=i.json.nodes[e],a=(n.extensions&&n.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(s){return i._getNodeRef(t.cache,a,s)})}}class fY{constructor(){this.name=Vt.KHR_MATERIALS_UNLIT}getMaterialType(){return ha}extendParams(e,t,i){const n=[];e.color=new Qe(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],Do),e.opacity=s[3]}a.baseColorTexture!==void 0&&n.push(i.assignTexture(e,"map",a.baseColorTexture,eu))}return Promise.all(n)}}class mY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name].emissiveStrength;return n!==void 0&&(t.emissiveIntensity=n),Promise.resolve()}}class gY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new _e(o,o)}return Promise.all(a)}}class vY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name];return t.dispersion=n.dispersion!==void 0?n.dispersion:0,Promise.resolve()}}class yY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class _Y{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Qe(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=n.extensions[this.name];if(s.sheenColorFactor!==void 0){const o=s.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],Do)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(i.assignTexture(t,"sheenColorMap",s.sheenColorTexture,eu)),s.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class xY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(i.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class bY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(i.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const o=s.attenuationColor||[1,1,1];return t.attenuationColor=new Qe().setRGB(o[0],o[1],o[2],Do),Promise.all(a)}}class AY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name];return t.ior=n.ior!==void 0?n.ior:1.5,Promise.resolve()}}class SY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(i.assignTexture(t,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return t.specularColor=new Qe().setRGB(o[0],o[1],o[2],Do),s.specularColorTexture!==void 0&&a.push(i.assignTexture(t,"specularColorMap",s.specularColorTexture,eu)),Promise.all(a)}}class wY{constructor(e){this.parser=e,this.name=Vt.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(i.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(a)}}class MY{constructor(e){this.parser=e,this.name=Vt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$a}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(i.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class EY{constructor(e){this.parser=e,this.name=Vt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,n=i.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const a=n.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class CY{constructor(e){this.parser=e,this.name=Vt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,n=i.json,a=n.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=n.images[s.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,s.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class TY{constructor(e){this.parser=e,this.name=Vt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,n=i.json,a=n.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=n.images[s.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,s.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class RY{constructor(e){this.name=Vt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const n=i.extensions[this.name],a=this.parser.getDependency("buffer",n.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(o){const l=n.byteOffset||0,c=n.byteLength||0,h=n.count,p=n.byteStride,f=new Uint8Array(o,l,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(h,p,f,n.mode,n.filter).then(function(m){return m.buffer}):s.ready.then(function(){const m=new ArrayBuffer(h*p);return s.decodeGltfBuffer(new Uint8Array(m),h,p,f,n.mode,n.filter),m})})}else return null}}class PY{constructor(e){this.name=Vt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const n=t.meshes[i.mesh];for(const l of n.primitives)if(l.mode!==Na.TRIANGLES&&l.mode!==Na.TRIANGLE_STRIP&&l.mode!==Na.TRIANGLE_FAN&&l.mode!==void 0)return null;const a=i.extensions[this.name].attributes,s=[],o={};for(const l in a)s.push(this.parser.getDependency("accessor",a[l]).then(c=>(o[l]=c,o[l])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(l=>{const c=l.pop(),h=c.isGroup?c.children:[c],p=l[0].count,f=[];for(const m of h){const g=new vt,x=new N,_=new Ei,v=new N(1,1,1),b=new IE(m.geometry,m.material,p);for(let A=0;A<p;A++)o.TRANSLATION&&x.fromBufferAttribute(o.TRANSLATION,A),o.ROTATION&&_.fromBufferAttribute(o.ROTATION,A),o.SCALE&&v.fromBufferAttribute(o.SCALE,A),b.setMatrixAt(A,g.compose(x,_,v));for(const A in o)if(A==="_COLOR_0"){const w=o[A];b.instanceColor=new Tu(w.array,w.itemSize,w.normalized)}else A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&m.geometry.setAttribute(A,o[A]);Yt.prototype.copy.call(b,m),this.parser.assignFinalMaterial(b),f.push(b)}return c.isGroup?(c.clear(),c.add(...f),c):f[0]}))}}const YO="glTF",Hp=12,i3={JSON:1313821514,BIN:5130562};class BY{constructor(e){this.name=Vt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Hp);if(this.header={magic:v1(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==YO)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Hp,n=new DataView(e,Hp);let a=0;for(;a<i;){const s=n.getUint32(a,!0);a+=4;const o=n.getUint32(a,!0);if(a+=4,o===i3.JSON){const l=new Uint8Array(e,Hp+a,s);this.content=v1(l)}else if(o===i3.BIN){const l=Hp+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class IY{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Vt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,n=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},c={};for(const h in s){const p=yw[h]||h.toLowerCase();o[p]=s[h]}for(const h in e.attributes){const p=yw[h]||h.toLowerCase();if(s[h]!==void 0){const f=i.accessors[e.attributes[h]],m=hd[f.componentType];c[p]=m.name,l[p]=f.normalized===!0}}return t.getDependency("bufferView",a).then(function(h){return new Promise(function(p,f){n.decodeDracoFile(h,function(m){for(const g in m.attributes){const x=m.attributes[g],_=l[g];_!==void 0&&(x.normalized=_)}p(m)},o,c,Do,f)})})}}class DY{constructor(){this.name=Vt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class LY{constructor(){this.name=Vt.KHR_MESH_QUANTIZATION}}class qO extends Qd{constructor(e,t,i,n){super(e,t,i,n)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,a=e*n*3+n;for(let s=0;s!==n;s++)t[s]=i[a+s];return t}interpolate_(e,t,i,n){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,h=n-t,p=(i-t)/h,f=p*p,m=f*p,g=e*c,x=g-c,_=-2*m+3*f,v=m-f,b=1-_,A=v-f+p;for(let w=0;w!==o;w++){const T=s[x+w+o],E=s[x+w+l]*h,B=s[g+w+o],I=s[g+w]*h;a[w]=b*T+A*E+_*B+v*I}return a}}const FY=new Ei;class kY extends qO{interpolate_(e,t,i,n){const a=super.interpolate_(e,t,i,n);return FY.fromArray(a).normalize().toArray(a),a}}const Na={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},hd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},n3={9728:Mi,9729:qr,9984:l_,9985:cd,9986:Yc,9987:Xa},a3={33071:ua,33648:Ed,10497:jl},wA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...rY>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ul={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},OY={CUBICSPLINE:void 0,LINEAR:Rd,STEP:Td},MA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function NY(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new ig({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ks})),r.DefaultMaterial}function Cc(r,e,t){for(const i in t.extensions)r[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function go(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function UY(r,e,t){let i=!1,n=!1,a=!1;for(let c=0,h=e.length;c<h;c++){const p=e[c];if(p.POSITION!==void 0&&(i=!0),p.NORMAL!==void 0&&(n=!0),p.COLOR_0!==void 0&&(a=!0),i&&n&&a)break}if(!i&&!n&&!a)return Promise.resolve(r);const s=[],o=[],l=[];for(let c=0,h=e.length;c<h;c++){const p=e[c];if(i){const f=p.POSITION!==void 0?t.getDependency("accessor",p.POSITION):r.attributes.position;s.push(f)}if(n){const f=p.NORMAL!==void 0?t.getDependency("accessor",p.NORMAL):r.attributes.normal;o.push(f)}if(a){const f=p.COLOR_0!==void 0?t.getDependency("accessor",p.COLOR_0):r.attributes.color;l.push(f)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const h=c[0],p=c[1],f=c[2];return i&&(r.morphAttributes.position=h),n&&(r.morphAttributes.normal=p),a&&(r.morphAttributes.color=f),r.morphTargetsRelative=!0,r})}function zY(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let i=0,n=t.length;i<n;i++)r.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function GY(r){let e;const t=r.extensions&&r.extensions[Vt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+EA(t.attributes):e=r.indices+":"+EA(r.attributes)+":"+r.mode,r.targets!==void 0)for(let i=0,n=r.targets.length;i<n;i++)e+=":"+EA(r.targets[i]);return e}function EA(r){let e="";const t=Object.keys(r).sort();for(let i=0,n=t.length;i<n;i++)e+=t[i]+":"+r[t[i]]+";";return e}function _w(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function HY(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const VY=new vt;class jY{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new dY,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,n=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,n=navigator.userAgent.indexOf("Firefox")>-1,a=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||n&&a<98?this.textureLoader=new rO(this.options.manager):this.textureLoader=new uO(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ya(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,n=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const o={scene:s[0][n.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:n.asset,parser:i,userData:{}};return Cc(a,o,n),go(o,n),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let n=0,a=t.length;n<a;n++){const s=t[n].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let n=0,a=e.length;n<a;n++){const s=e[n];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const n=i.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[c,h]of s.children.entries())a(h,o.children[c])};return a(i,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const n=e(t[i]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let n=0;n<t.length;n++){const a=e(t[n]);a&&i.push(a)}return i}getDependency(e,t){const i=e+":"+t;let n=this.cache.get(i);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":n=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!n)throw new Error("Unknown type: "+e);break}this.cache.add(i,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,n=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(n.map(function(a,s){return i.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Vt.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(a,s){i.load(kl.resolveURL(t.uri,n.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const n=t.byteLength||0,a=t.byteOffset||0;return i.slice(a,a+n)})}loadAccessor(e){const t=this,i=this.json,n=this.json.accessors[e];if(n.bufferView===void 0&&n.sparse===void 0){const s=wA[n.type],o=hd[n.componentType],l=n.normalized===!0,c=new o(n.count*s);return Promise.resolve(new tr(c,s,l))}const a=[];return n.bufferView!==void 0?a.push(this.getDependency("bufferView",n.bufferView)):a.push(null),n.sparse!==void 0&&(a.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=wA[n.type],c=hd[n.componentType],h=c.BYTES_PER_ELEMENT,p=h*l,f=n.byteOffset||0,m=n.bufferView!==void 0?i.bufferViews[n.bufferView].byteStride:void 0,g=n.normalized===!0;let x,_;if(m&&m!==p){const v=Math.floor(f/m),b="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+v+":"+n.count;let A=t.cache.get(b);A||(x=new c(o,v*m,n.count*m/h),A=new Km(x,m/h),t.cache.add(b,A)),_=new Wl(A,l,f%m/h,g)}else o===null?x=new c(n.count*l):x=new c(o,f,n.count*l),_=new tr(x,l,g);if(n.sparse!==void 0){const v=wA.SCALAR,b=hd[n.sparse.indices.componentType],A=n.sparse.indices.byteOffset||0,w=n.sparse.values.byteOffset||0,T=new b(s[1],A,n.sparse.count*v),E=new c(s[2],w,n.sparse.count*l);o!==null&&(_=new tr(_.array.slice(),_.itemSize,_.normalized));for(let B=0,I=T.length;B<I;B++){const C=T[B];if(_.setX(C,E[B*l]),l>=2&&_.setY(C,E[B*l+1]),l>=3&&_.setZ(C,E[B*l+2]),l>=4&&_.setW(C,E[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,n=t.textures[e].source,a=t.images[n];let s=this.textureLoader;if(a.uri){const o=i.manager.getHandler(a.uri);o!==null&&(s=o)}return this.loadTextureImage(e,n,s)}loadTextureImage(e,t,i){const n=this,a=this.json,s=a.textures[e],o=a.images[t],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=s.name||o.name||"",h.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(h.name=o.uri);const p=(a.samplers||{})[s.sampler]||{};return h.magFilter=n3[p.magFilter]||qr,h.minFilter=n3[p.minFilter]||Xa,h.wrapS=a3[p.wrapS]||jl,h.wrapT=a3[p.wrapT]||jl,n.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,n=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const s=n.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=i.getDependency("bufferView",s.bufferView).then(function(p){c=!0;const f=new Blob([p],{type:s.mimeType});return l=o.createObjectURL(f),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(p){return new Promise(function(f,m){let g=f;t.isImageBitmapLoader===!0&&(g=function(x){const _=new Tr(x);_.needsUpdate=!0,f(_)}),t.load(kl.resolveURL(p,a.path),g,void 0,m)})}).then(function(p){return c===!0&&o.revokeObjectURL(l),go(p,s),p.userData.mimeType=s.mimeType||HY(s.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=h,h}assignTexture(e,t,i,n){const a=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),a.extensions[Vt.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[Vt.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[Vt.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return n!==void 0&&(typeof n=="number"&&(n=n===r3?eu:Do),"colorSpace"in s?s.colorSpace=n:s.encoding=n===eu?r3:hY),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const n=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new $m,pi.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new an,pi.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(n||a||s){let o="ClonedMaterial:"+i.uuid+":";n&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),n&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return ig}loadMaterial(e){const t=this,i=this.json,n=this.extensions,a=i.materials[e];let s;const o={},l=a.extensions||{},c=[];if(l[Vt.KHR_MATERIALS_UNLIT]){const p=n[Vt.KHR_MATERIALS_UNLIT];s=p.getMaterialType(),c.push(p.extendParams(o,a,t))}else{const p=a.pbrMetallicRoughness||{};if(o.color=new Qe(1,1,1),o.opacity=1,Array.isArray(p.baseColorFactor)){const f=p.baseColorFactor;o.color.setRGB(f[0],f[1],f[2],Do),o.opacity=f[3]}p.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",p.baseColorTexture,eu)),o.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,o.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",p.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",p.metallicRoughnessTexture))),s=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=ja);const h=a.alphaMode||MA.OPAQUE;if(h===MA.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,h===MA.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==ha&&(c.push(t.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new _e(1,1),a.normalTexture.scale!==void 0)){const p=a.normalTexture.scale;o.normalScale.set(p,p)}if(a.occlusionTexture!==void 0&&s!==ha&&(c.push(t.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==ha){const p=a.emissiveFactor;o.emissive=new Qe().setRGB(p[0],p[1],p[2],Do)}return a.emissiveTexture!==void 0&&s!==ha&&c.push(t.assignTexture(o,"emissiveMap",a.emissiveTexture,eu)),Promise.all(c).then(function(){const p=new s(o);return a.name&&(p.name=a.name),go(p,a),t.associations.set(p,{materials:e}),a.extensions&&Cc(n,p,a),p})}createUniqueName(e){const t=Kt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,n=this.primitiveCache;function a(o){return i[Vt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return s3(l,o,t)})}const s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],h=GY(c),p=n[h];if(p)s.push(p.promise);else{let f;c.extensions&&c.extensions[Vt.KHR_DRACO_MESH_COMPRESSION]?f=a(c):f=s3(new It,c,t),n[h]={primitive:c,promise:f},s.push(f)}}return Promise.all(s)}loadMesh(e){const t=this,i=this.json,n=this.extensions,a=i.meshes[e],s=a.primitives,o=[];for(let l=0,c=s.length;l<c;l++){const h=s[l].material===void 0?NY(this.cache):this.getDependency("material",s[l].material);o.push(h)}return o.push(t.loadGeometries(s)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],p=[];for(let m=0,g=h.length;m<g;m++){const x=h[m],_=s[m];let v;const b=c[m];if(_.mode===Na.TRIANGLES||_.mode===Na.TRIANGLE_STRIP||_.mode===Na.TRIANGLE_FAN||_.mode===void 0)v=a.isSkinnedMesh===!0?new BE(x,b):new Kr(x,b),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),_.mode===Na.TRIANGLE_STRIP?v.geometry=$B(v.geometry,AE):_.mode===Na.TRIANGLE_FAN&&(v.geometry=$B(v.geometry,d1));else if(_.mode===Na.LINES)v=new As(x,b);else if(_.mode===Na.LINE_STRIP)v=new Vo(x,b);else if(_.mode===Na.LINE_LOOP)v=new DE(x,b);else if(_.mode===Na.POINTS)v=new LE(x,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(v.geometry.morphAttributes).length>0&&zY(v,a),v.name=t.createUniqueName(a.name||"mesh_"+e),go(v,a),_.extensions&&Cc(n,v,_),t.assignFinalMaterial(v),p.push(v)}for(let m=0,g=p.length;m<g;m++)t.associations.set(p[m],{meshes:e,primitives:m});if(p.length===1)return a.extensions&&Cc(n,p[0],a),p[0];const f=new Eo;a.extensions&&Cc(n,f,a),t.associations.set(f,{meshes:e});for(let m=0,g=p.length;m<g;m++)f.add(p[m]);return f})}loadCamera(e){let t;const i=this.json.cameras[e],n=i[i.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Er(Ak.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):i.type==="orthographic"&&(t=new vs(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),go(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let n=0,a=t.joints.length;n<a;n++)i.push(this._loadNodeShallow(t.joints[n]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(n){const a=n.pop(),s=n,o=[],l=[];for(let c=0,h=s.length;c<h;c++){const p=s[c];if(p){o.push(p);const f=new vt;a!==null&&f.fromArray(a.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Zm(o,l)})}loadAnimation(e){const t=this.json,i=this,n=t.animations[e],a=n.name?n.name:"animation_"+e,s=[],o=[],l=[],c=[],h=[];for(let p=0,f=n.channels.length;p<f;p++){const m=n.channels[p],g=n.samplers[m.sampler],x=m.target,_=x.node,v=n.parameters!==void 0?n.parameters[g.input]:g.input,b=n.parameters!==void 0?n.parameters[g.output]:g.output;x.node!==void 0&&(s.push(this.getDependency("node",_)),o.push(this.getDependency("accessor",v)),l.push(this.getDependency("accessor",b)),c.push(g),h.push(x))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(h)]).then(function(p){const f=p[0],m=p[1],g=p[2],x=p[3],_=p[4],v=[];for(let b=0,A=f.length;b<A;b++){const w=f[b],T=m[b],E=g[b],B=x[b],I=_[b];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const C=i._createAnimationTracks(w,T,E,B,I);if(C)for(let R=0;R<C.length;R++)v.push(C[R])}return new Id(a,void 0,v)})}createNodeMesh(e){const t=this.json,i=this,n=t.nodes[e];return n.mesh===void 0?null:i.getDependency("mesh",n.mesh).then(function(a){const s=i._getNodeRef(i.meshCache,n.mesh,a);return n.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,c=n.weights.length;l<c;l++)o.morphTargetInfluences[l]=n.weights[l]}),s})}loadNode(e){const t=this.json,i=this,n=t.nodes[e],a=i._loadNodeShallow(e),s=[],o=n.children||[];for(let c=0,h=o.length;c<h;c++)s.push(i.getDependency("node",o[c]));const l=n.skin===void 0?Promise.resolve(null):i.getDependency("skin",n.skin);return Promise.all([a,Promise.all(s),l]).then(function(c){const h=c[0],p=c[1],f=c[2];f!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(f,VY)});for(let m=0,g=p.length;m<g;m++)h.add(p[m]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,n=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],s=a.name?n.createUniqueName(a.name):"",o=[],l=n._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(n.getDependency("camera",a.camera).then(function(c){return n._getNodeRef(n.cameraCache,a.camera,c)})),n._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let h;if(a.isBone===!0?h=new x_:c.length>1?h=new Eo:c.length===1?h=c[0]:h=new Yt,h!==c[0])for(let p=0,f=c.length;p<f;p++)h.add(c[p]);if(a.name&&(h.userData.name=a.name,h.name=s),go(h,a),a.extensions&&Cc(i,h,a),a.matrix!==void 0){const p=new vt;p.fromArray(a.matrix),h.applyMatrix4(p)}else a.translation!==void 0&&h.position.fromArray(a.translation),a.rotation!==void 0&&h.quaternion.fromArray(a.rotation),a.scale!==void 0&&h.scale.fromArray(a.scale);return n.associations.has(h)||n.associations.set(h,{}),n.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],n=this,a=new Eo;i.name&&(a.name=n.createUniqueName(i.name)),go(a,i),i.extensions&&Cc(t,a,i);const s=i.nodes||[],o=[];for(let l=0,c=s.length;l<c;l++)o.push(n.getDependency("node",s[l]));return Promise.all(o).then(function(l){for(let h=0,p=l.length;h<p;h++)a.add(l[h]);const c=h=>{const p=new Map;for(const[f,m]of n.associations)(f instanceof pi||f instanceof Tr)&&p.set(f,m);return h.traverse(f=>{const m=n.associations.get(f);m!=null&&p.set(f,m)}),p};return n.associations=c(a),a})}_createAnimationTracks(e,t,i,n,a){const s=[],o=e.name?e.name:e.uuid,l=[];ul[a.path]===ul.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(o);let c;switch(ul[a.path]){case ul.weights:c=Pu;break;case ul.rotation:c=Bu;break;case ul.position:case ul.scale:c=Iu;break;default:switch(i.itemSize){case 1:c=Pu;break;case 2:case 3:default:c=Iu;break}break}const h=n.interpolation!==void 0?OY[n.interpolation]:Rd,p=this._getArrayFromAccessor(i);for(let f=0,m=l.length;f<m;f++){const g=new c(l[f]+"."+ul[a.path],t.array,p,h);n.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),s.push(g)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=_w(t.constructor),n=new Float32Array(t.length);for(let a=0,s=t.length;a<s;a++)n[a]=t[a]*i;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(t){const i=this instanceof Bu?kY:qO;return new i(this.times,this.values,this.getValueSize()/3,t)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function WY(r,e,t){const i=e.attributes,n=new tn;if(i.POSITION!==void 0){const o=t.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(n.set(new N(l[0],l[1],l[2]),new N(c[0],c[1],c[2])),o.normalized){const h=_w(hd[o.componentType]);n.min.multiplyScalar(h),n.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new N,l=new N;for(let c=0,h=a.length;c<h;c++){const p=a[c];if(p.POSITION!==void 0){const f=t.json.accessors[p.POSITION],m=f.min,g=f.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),f.normalized){const x=_w(hd[f.componentType]);l.multiplyScalar(x)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(o)}r.boundingBox=n;const s=new Li;n.getCenter(s.center),s.radius=n.min.distanceTo(n.max)/2,r.boundingSphere=s}function s3(r,e,t){const i=e.attributes,n=[];function a(s,o){return t.getDependency("accessor",s).then(function(l){r.setAttribute(o,l)})}for(const s in i){const o=yw[s]||s.toLowerCase();o in r.attributes||n.push(a(i[s],o))}if(e.indices!==void 0&&!r.index){const s=t.getDependency("accessor",e.indices).then(function(o){r.setIndex(o)});n.push(s)}return go(r,e),WY(r,e,t),Promise.all(n).then(function(){return e.targets!==void 0?UY(r,e.targets,t):r})}const CA=new WeakMap;class XY extends sn{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,n){const a=new ya(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(t).catch(n)},i,n)}decodeDracoFile(e,t,i,n){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(CA.has(e)){const l=CA.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(n=l,new Promise((c,h)=>{n._callbacks[a]={resolve:c,reject:h},n.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{n&&a&&this._releaseTask(n,a)}),CA.set(e,{key:i,promise:o}),o}_createGeometry(e){const t=new It;e.index&&t.setIndex(new tr(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const n=e.attributes[i],a=n.name,s=n.array,o=n.itemSize;t.setAttribute(a,new tr(s,o))}return t}_loadLibrary(e,t){const i=new ya(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((n,a)=>{i.load(e,n,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const n=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=JY.toString(),s=["/* draco decoder */",n,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(a){const s=a.data;switch(s.type){case"decode":n._callbacks[s.id].resolve(s);break;case"error":n._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,a){return n._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function JY(){let r,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":r=o.decoderConfig,e=new Promise(function(h){r.onModuleLoaded=function(p){h({draco:p})},DracoDecoderModule(r)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(h=>{const p=h.draco,f=new p.Decoder,m=new p.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(p,f,m,c),x=g.attributes.map(_=>_.array.buffer);g.index&&x.push(g.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:g},x)}catch(g){console.error(g),self.postMessage({type:"error",id:o.id,error:g.message})}finally{p.destroy(m),p.destroy(f)}});break}};function t(s,o,l,c){const h=c.attributeIDs,p=c.attributeTypes;let f,m;const g=o.GetEncodedGeometryType(l);if(g===s.TRIANGULAR_MESH)f=new s.Mesh,m=o.DecodeBufferToMesh(l,f);else if(g===s.POINT_CLOUD)f=new s.PointCloud,m=o.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const _ in h){const v=self[p[_]];let b,A;if(c.useUniqueIDs)A=h[_],b=o.GetAttributeByUniqueId(f,A);else{if(A=o.GetAttributeId(f,s[h[_]]),A===-1)continue;b=o.GetAttribute(f,A)}x.attributes.push(n(s,o,f,_,v,b))}return g===s.TRIANGULAR_MESH&&(x.index=i(s,o,f)),s.destroy(f),x}function i(s,o,l){const c=l.num_faces()*3,h=c*4,p=s._malloc(h);o.GetTrianglesUInt32Array(l,h,p);const f=new Uint32Array(s.HEAPF32.buffer,p,c).slice();return s._free(p),{array:f,itemSize:1}}function n(s,o,l,c,h,p){const f=p.num_components(),m=l.num_points()*f,g=m*h.BYTES_PER_ELEMENT,x=a(s,h),_=s._malloc(g);o.GetAttributeDataArrayForAllPoints(l,p,x,g,_);const v=new h(s.HEAPF32.buffer,_,m).slice();return s._free(_),{name:c,array:v,itemSize:f}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let fv;const TA=()=>{if(fv)return fv;const r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let n=r;WebAssembly.validate(t)&&(n=e);let a;const s=WebAssembly.instantiate(o(n),{}).then(p=>{a=p.instance,a.exports.__wasm_call_ctors()});function o(p){const f=new Uint8Array(p.length);for(let g=0;g<p.length;++g){const x=p.charCodeAt(g);f[g]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let g=0;g<p.length;++g)f[m++]=f[g]<60?i[f[g]]:(f[g]-60)*64+f[++g];return f.buffer.slice(0,m)}function l(p,f,m,g,x,_){const v=a.exports.sbrk,b=m+3&-4,A=v(b*g),w=v(x.length),T=new Uint8Array(a.exports.memory.buffer);T.set(x,w);const E=p(A,m,g,w,x.length);if(E===0&&_&&_(A,b,g),f.set(T.subarray(A,A+m*g)),v(A-v(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return fv={ready:s,supported:!0,decodeVertexBuffer(p,f,m,g,x){l(a.exports.meshopt_decodeVertexBuffer,p,f,m,g,a.exports[c[x]])},decodeIndexBuffer(p,f,m,g){l(a.exports.meshopt_decodeIndexBuffer,p,f,m,g)},decodeIndexSequence(p,f,m,g){l(a.exports.meshopt_decodeIndexSequence,p,f,m,g)},decodeGltfBuffer(p,f,m,g,x,_){l(a.exports[h[x]],p,f,m,g,a.exports[c[_]])}},fv},YY=()=>parseInt(Jd.replace(/\D+/g,"")),KO=YY();let mv=null,ZO="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function QO(r=!0,e=!0,t){return i=>{t&&t(i),r&&(mv||(mv=new XY),mv.setDecoderPath(typeof r=="string"?r:ZO),i.setDRACOLoader(mv)),e&&i.setMeshoptDecoder(typeof TA=="function"?TA():TA)}}const lg=(r,e,t,i)=>sg(cC,r,QO(e,t,i));lg.preload=(r,e,t,i)=>sg.preload(cC,r,QO(e,t,i));lg.clear=r=>sg.clear(cC,r);lg.setDecoderPath=r=>{ZO=r};const $O=W.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:i,enableDamping:n=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:l,...c},h)=>{const p=Ua(E=>E.invalidate),f=Ua(E=>E.camera),m=Ua(E=>E.gl),g=Ua(E=>E.events),x=Ua(E=>E.setEvents),_=Ua(E=>E.set),v=Ua(E=>E.get),b=Ua(E=>E.performance),A=e||f,w=i||g.connected||m.domElement,T=W.useMemo(()=>new uY(A),[A]);return ag(()=>{T.enabled&&T.update()},-1),W.useEffect(()=>(a&&T.connect(a===!0?w:a),T.connect(w),()=>void T.dispose()),[a,w,t,T,p]),W.useEffect(()=>{const E=C=>{p(),t&&b.regress(),s&&s(C)},B=C=>{o&&o(C)},I=C=>{l&&l(C)};return T.addEventListener("change",E),T.addEventListener("start",B),T.addEventListener("end",I),()=>{T.removeEventListener("start",B),T.removeEventListener("end",I),T.removeEventListener("change",E)}},[s,o,l,T,p,x]),W.useEffect(()=>{if(r){const E=v().controls;return _({controls:T}),()=>_({controls:E})}},[r,T]),W.createElement("primitive",jo({ref:h,object:T,enableDamping:n},c))});var eN={exports:{}},qY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KY=qY,ZY=KY;function tN(){}function rN(){}rN.resetWarningCache=tN;var QY=function(){function r(i,n,a,s,o,l){if(l!==ZY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rN,resetWarningCache:tN};return t.PropTypes=t,t};eN.exports=QY();var iN=eN.exports;const RA=KO>=154?"opaque_fragment":"output_fragment";class $Y extends $m{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:n}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${RA}>`,`
        ${n?`#include <${RA}>`:`#extension GL_OES_standard_derivatives : enable
#include <${RA}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${KO>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const eq=W.forwardRef((r,e)=>{const[t]=W.useState(()=>new $Y(null));return W.createElement("primitive",jo({},r,{object:t,ref:e,attach:"material"}))});let Tc,Vp;const tq=W.createContext(null),o3=new vt,l3=new N,rq=W.forwardRef(({children:r,range:e,limit:t=1e3,...i},n)=>{const a=W.useRef(null);W.useImperativeHandle(n,()=>a.current,[]);const[s,o]=W.useState([]),[[l,c,h]]=W.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);W.useEffect(()=>{a.current.geometry.attributes.position.needsUpdate=!0}),ag(()=>{for(a.current.updateMatrix(),a.current.updateMatrixWorld(),o3.copy(a.current.matrixWorld).invert(),a.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,s.length),Tc=0;Tc<s.length;Tc++)Vp=s[Tc].current,Vp.getWorldPosition(l3).applyMatrix4(o3),l3.toArray(l,Tc*3),a.current.geometry.attributes.position.needsUpdate=!0,Vp.matrixWorldNeedsUpdate=!0,Vp.color.toArray(c,Tc*3),a.current.geometry.attributes.color.needsUpdate=!0,h.set([Vp.size],Tc),a.current.geometry.attributes.size.needsUpdate=!0});const p=W.useMemo(()=>({getParent:()=>a,subscribe:f=>(o(m=>[...m,f]),()=>o(m=>m.filter(g=>g.current!==f.current)))}),[]);return W.createElement("points",jo({userData:{instances:s},matrixAutoUpdate:!1,ref:a,raycast:()=>null},i),W.createElement("bufferGeometry",null,W.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:lu}),W.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:lu}),W.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:lu})),W.createElement(tq.Provider,{value:p},r))}),iq=W.forwardRef(({children:r,positions:e,colors:t,sizes:i,stride:n=3,...a},s)=>{const o=W.useRef(null);return W.useImperativeHandle(s,()=>o.current,[]),ag(()=>{const l=o.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),W.createElement("points",jo({ref:o},a),W.createElement("bufferGeometry",null,W.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/n,array:e,itemSize:n,usage:lu}),t&&W.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/n,array:t,itemSize:3,usage:lu}),i&&W.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/n,array:i,itemSize:1,usage:lu})),r)}),nq=W.forwardRef((r,e)=>r.positions instanceof Float32Array?W.createElement(iq,jo({},r,{ref:e})):W.createElement(rq,jo({},r,{ref:e})));function uC({all:r,scene:e,camera:t}){const i=Ua(({gl:s})=>s),n=Ua(({camera:s})=>s),a=Ua(({scene:s})=>s);return W.useLayoutEffect(()=>{const s=[];r&&(e||a).traverse(l=>{l.visible===!1&&(s.push(l),l.visible=!0)}),i.compile(e||a,t||n);const o=new TE(128);new CE(.01,1e5,o).update(i,e||a),o.dispose(),s.forEach(l=>l.visible=!1)},[]),null}const nN=()=>{const{progress:r}=tY();return At(KJ,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[he("span",{className:"canvas-loader"}),At("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[r.toFixed(2),"%"]})]})},aq=()=>{const r=lg("./planet/scene.gltf");return he("primitive",{object:r.scene,scale:2.5,"position-y":0,"rotation-y":0})},sq=()=>he(oC,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:At(W.Suspense,{fallback:he(nN,{}),children:[he($O,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),he(aq,{}),he(uC,{all:!0})]})}),oq=()=>{const r=lg("./desktop_pc/scene.gltf");return At("mesh",{children:[he("hemisphereLight",{intensity:.15,groundColor:"black"}),he("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),he("pointLight",{intensity:1}),he("primitive",{object:r.scene,scale:.75,position:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},lq=()=>{const[r,e]=W.useState(window.innerWidth<=500);return W.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)"),i=n=>{e(n.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),!r&&At(oC,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[At(W.Suspense,{fallback:he(nN,{}),children:[he($O,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),he(oq,{})]}),he(uC,{all:!0})]})};function dd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function c3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function u3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(t),!0).forEach(function(i){dd(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):c3(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function aN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}new _e;new _e;var Fa=function r(e,t,i){var n=this;aN(this,r),dd(this,"dot2",function(a,s){return n.x*a+n.y*s}),dd(this,"dot3",function(a,s,o){return n.x*a+n.y*s+n.z*o}),this.x=e,this.y=t,this.z=i},cq=[new Fa(1,1,0),new Fa(-1,1,0),new Fa(1,-1,0),new Fa(-1,-1,0),new Fa(1,0,1),new Fa(-1,0,1),new Fa(1,0,-1),new Fa(-1,0,-1),new Fa(0,1,1),new Fa(0,-1,1),new Fa(0,1,-1),new Fa(0,-1,-1)],h3=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],d3=new Array(512),p3=new Array(512),uq=function(r){r>0&&r<1&&(r*=65536),r=Math.floor(r),r<256&&(r|=r<<8);for(var e=0;e<256;e++){var t;e&1?t=h3[e]^r&255:t=h3[e]^r>>8&255,d3[e]=d3[e+256]=t,p3[e]=p3[e+256]=cq[t%12]}};uq(0);function hq(r){if(typeof r=="number")r=Math.abs(r);else if(typeof r=="string"){var e=r;r=0;for(var t=0;t<e.length;t++)r=(r+(t+1)*(e.charCodeAt(t)%96))%2147483647}return r===0&&(r=311),r}function f3(r){var e=hq(r);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var dq=function r(e){var t=this;aN(this,r),dd(this,"seed",0),dd(this,"init",function(i){t.seed=i,t.value=f3(i)}),dd(this,"value",f3(this.seed)),this.init(e)},pq=new dq(Math.random()),fq={radius:1,center:[0,0,0]};function mq(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pq,i=u3(u3({},fq),e),n=i.radius,a=i.center,s=0;s<r.length;s+=3){var o=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,h=t.value()*2-1,p=Math.sqrt(l*l+c*c+h*h);l=o*l/p,c=o*c/p,h=o*h/p,r[s]=l*n+a[0],r[s+1]=c*n+a[1],r[s+2]=h*n+a[2]}return r}const gq=r=>{const e=W.useRef(),[t]=W.useState(()=>mq(new Float32Array(5e3),{radius:1.2}));return ag((i,n)=>{e.current.rotation.x-=n/10,e.current.rotation.y-=n/15}),he("group",{rotation:[0,0,Math.PI/4],children:he(nq,{ref:e,positions:t,stride:3,frustumCulled:!0,...r,children:he(eq,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},vq=()=>he("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:At(oC,{camera:{position:[0,0,1]},children:[he(W.Suspense,{fallback:null,children:he(gq,{})}),he(uC,{all:!0})]})}),sN=W.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),N_=W.createContext({});function yq(){return W.useContext(N_).visualElement}const hC=W.createContext(null),U_=typeof document<"u",m3=U_?W.useLayoutEffect:W.useEffect,oN=W.createContext({strict:!1});function _q(r,e,t,i){const n=yq(),a=W.useContext(oN),s=W.useContext(hC),o=W.useContext(sN).reducedMotion,l=W.useRef();i=i||a.renderer,!l.current&&i&&(l.current=i(r,{visualState:e,parent:n,props:t,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;return W.useInsertionEffect(()=>{c&&c.update(t,s)}),m3(()=>{c&&c.render()}),W.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?m3:W.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Zh(r){return typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function xq(r,e,t){return W.useCallback(i=>{i&&r.mount&&r.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Zh(t)&&(t.current=i))},[e])}function wm(r){return typeof r=="string"||Array.isArray(r)}function z_(r){return typeof r=="object"&&typeof r.start=="function"}const dC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pC=["initial",...dC];function G_(r){return z_(r.animate)||pC.some(e=>wm(r[e]))}function lN(r){return!!(G_(r)||r.variants)}function bq(r,e){if(G_(r)){const{initial:t,animate:i}=r;return{initial:t===!1||wm(t)?t:void 0,animate:wm(i)?i:void 0}}return r.inherit!==!1?e:{}}function Aq(r){const{initial:e,animate:t}=bq(r,W.useContext(N_));return W.useMemo(()=>({initial:e,animate:t}),[g3(e),g3(t)])}function g3(r){return Array.isArray(r)?r.join(" "):r}const v3={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mm={};for(const r in v3)Mm[r]={isEnabled:e=>v3[r].some(t=>!!e[t])};function Sq(r){for(const e in r)Mm[e]={...Mm[e],...r[e]}}function cN(r){const e=W.useRef(null);return e.current===null&&(e.current=r()),e.current}const Pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let wq=1;function Mq(){return cN(()=>{if(Pf.hasEverUpdated)return wq++})}const uN=W.createContext({}),hN=W.createContext({}),Eq=Symbol.for("motionComponentSymbol");function Cq({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:i,Component:n}){r&&Sq(r);function a(o,l){let c;const h={...W.useContext(sN),...o,layoutId:Tq(o)},{isStatic:p}=h,f=Aq(o),m=p?void 0:Mq(),g=i(o,p);if(!p&&U_){f.visualElement=_q(n,g,h,e);const x=W.useContext(hN),_=W.useContext(oN).strict;f.visualElement&&(c=f.visualElement.loadFeatures(h,_,r,m,x))}return W.createElement(N_.Provider,{value:f},c&&f.visualElement?W.createElement(c,{visualElement:f.visualElement,...h}):null,t(n,o,m,xq(g,f.visualElement,l),g,p,f.visualElement))}const s=W.forwardRef(a);return s[Eq]=n,s}function Tq({layoutId:r}){const e=W.useContext(uN).id;return e&&r!==void 0?e+"-"+r:r}function Rq(r){function e(i,n={}){return Cq(r(i,n))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,n)=>(t.has(n)||t.set(n,e(n)),t.get(n))})}const Pq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fC(r){return typeof r!="string"||r.includes("-")?!1:!!(Pq.indexOf(r)>-1||/[A-Z]/.test(r))}const y1={};function Bq(r){Object.assign(y1,r)}const H_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ju=new Set(H_);function dN(r,{layout:e,layoutId:t}){return ju.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!y1[r]||r==="opacity")}const Yn=r=>!!(r&&r.getVelocity),Iq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dq=H_.length;function Lq(r,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,n){let a="";for(let s=0;s<Dq;s++){const o=H_[s];if(r[o]!==void 0){const l=Iq[o]||o;a+=`${l}(${r[o]}) `}}return e&&!r.z&&(a+="translateZ(0)"),a=a.trim(),n?a=n(r,i?"":a):t&&i&&(a="none"),a}const pN=r=>e=>typeof e=="string"&&e.startsWith(r),fN=pN("--"),xw=pN("var(--"),Fq=(r,e)=>e&&typeof r=="number"?e.transform(r):r,Ld=(r,e,t)=>Math.min(Math.max(t,r),e),Wu={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Bf={...Wu,transform:r=>Ld(0,1,r)},gv={...Wu,default:1},If=r=>Math.round(r*1e5)/1e5,Em=/(-)?([\d]*\.?[\d])+/g,bw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kq=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cg(r){return typeof r=="string"}const ug=r=>({test:e=>cg(e)&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),pl=ug("deg"),Js=ug("%"),St=ug("px"),Oq=ug("vh"),Nq=ug("vw"),y3={...Js,parse:r=>Js.parse(r)/100,transform:r=>Js.transform(r*100)},_3={...Wu,transform:Math.round},mN={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,size:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,rotate:pl,rotateX:pl,rotateY:pl,rotateZ:pl,scale:gv,scaleX:gv,scaleY:gv,scaleZ:gv,skew:pl,skewX:pl,skewY:pl,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Bf,originX:y3,originY:y3,originZ:St,zIndex:_3,fillOpacity:Bf,strokeOpacity:Bf,numOctaves:_3};function mC(r,e,t,i){const{style:n,vars:a,transform:s,transformOrigin:o}=r;let l=!1,c=!1,h=!0;for(const p in e){const f=e[p];if(fN(p)){a[p]=f;continue}const m=mN[p],g=Fq(f,m);if(ju.has(p)){if(l=!0,s[p]=g,!h)continue;f!==(m.default||0)&&(h=!1)}else p.startsWith("origin")?(c=!0,o[p]=g):n[p]=g}if(e.transform||(l||i?n.transform=Lq(r.transform,t,h,i):n.transform&&(n.transform="none")),c){const{originX:p="50%",originY:f="50%",originZ:m=0}=o;n.transformOrigin=`${p} ${f} ${m}`}}const gC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gN(r,e,t){for(const i in e)!Yn(e[i])&&!dN(i,t)&&(r[i]=e[i])}function Uq({transformTemplate:r},e,t){return W.useMemo(()=>{const i=gC();return mC(i,e,{enableHardwareAcceleration:!t},r),Object.assign({},i.vars,i.style)},[e])}function zq(r,e,t){const i=r.style||{},n={};return gN(n,i,r),Object.assign(n,Uq(r,e,t)),r.transformValues?r.transformValues(n):n}function Gq(r,e,t){const i={},n=zq(r,e,t);return r.drag&&r.dragListener!==!1&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(i.tabIndex=0),i.style=n,i}const Hq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function _1(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||Hq.has(r)}let vN=r=>!_1(r);function Vq(r){r&&(vN=e=>e.startsWith("on")?!_1(e):r(e))}try{Vq(require("@emotion/is-prop-valid").default)}catch{}function jq(r,e,t){const i={};for(const n in r)n==="values"&&typeof r.values=="object"||(vN(n)||t===!0&&_1(n)||!e&&!_1(n)||r.draggable&&n.startsWith("onDrag"))&&(i[n]=r[n]);return i}function x3(r,e,t){return typeof r=="string"?r:St.transform(e+t*r)}function Wq(r,e,t){const i=x3(e,r.x,r.width),n=x3(t,r.y,r.height);return`${i} ${n}`}const Xq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jq={offset:"strokeDashoffset",array:"strokeDasharray"};function Yq(r,e,t=1,i=0,n=!0){r.pathLength=1;const a=n?Xq:Jq;r[a.offset]=St.transform(-i);const s=St.transform(e),o=St.transform(t);r[a.array]=`${s} ${o}`}function vC(r,{attrX:e,attrY:t,originX:i,originY:n,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},c,h,p){if(mC(r,l,c,p),h){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:m,dimensions:g}=r;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(i!==void 0||n!==void 0||m.transform)&&(m.transformOrigin=Wq(g,i!==void 0?i:.5,n!==void 0?n:.5)),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),a!==void 0&&Yq(f,a,s,o,!1)}const yN=()=>({...gC(),attrs:{}}),yC=r=>typeof r=="string"&&r.toLowerCase()==="svg";function qq(r,e,t,i){const n=W.useMemo(()=>{const a=yN();return vC(a,e,{enableHardwareAcceleration:!1},yC(i),r.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(r.style){const a={};gN(a,r.style,r),n.style={...a,...n.style}}return n}function Kq(r=!1){return(e,t,i,n,{latestValues:a},s)=>{const o=(fC(e)?qq:Gq)(t,a,s,e),l={...jq(t,typeof e=="string",r),...o,ref:n},{children:c}=t,h=W.useMemo(()=>Yn(c)?c.get():c,[c]);return i&&(l["data-projection-id"]=i),W.createElement(e,{...l,children:h})}}const _C=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function _N(r,{style:e,vars:t},i,n){Object.assign(r.style,e,n&&n.getProjectionStyles(i));for(const a in t)r.style.setProperty(a,t[a])}const xN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bN(r,e,t,i){_N(r,e,void 0,i);for(const n in e.attrs)r.setAttribute(xN.has(n)?n:_C(n),e.attrs[n])}function xC(r,e){const{style:t}=r,i={};for(const n in t)(Yn(t[n])||e.style&&Yn(e.style[n])||dN(n,r))&&(i[n]=t[n]);return i}function AN(r,e){const t=xC(r,e);for(const i in r)if(Yn(r[i])||Yn(e[i])){const n=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[n]=r[i]}return t}function bC(r,e,t,i={},n={}){return typeof e=="function"&&(e=e(t!==void 0?t:r.custom,i,n)),typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:r.custom,i,n)),e}const x1=r=>Array.isArray(r),Zq=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),Qq=r=>x1(r)?r[r.length-1]||0:r;function Yv(r){const e=Yn(r)?r.get():r;return Zq(e)?e.toValue():e}function $q({scrapeMotionValuesFromProps:r,createRenderState:e,onMount:t},i,n,a){const s={latestValues:eK(i,n,a,r),renderState:e()};return t&&(s.mount=o=>t(i,o,s)),s}const SN=r=>(e,t)=>{const i=W.useContext(N_),n=W.useContext(hC),a=()=>$q(r,e,i,n);return t?a():cN(a)};function eK(r,e,t,i){const n={},a=i(r,{});for(const f in a)n[f]=Yv(a[f]);let{initial:s,animate:o}=r;const l=G_(r),c=lN(r);e&&c&&!l&&r.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let h=t?t.initial===!1:!1;h=h||s===!1;const p=h?o:s;return p&&typeof p!="boolean"&&!z_(p)&&(Array.isArray(p)?p:[p]).forEach(f=>{const m=bC(r,f);if(!m)return;const{transitionEnd:g,transition:x,..._}=m;for(const v in _){let b=_[v];if(Array.isArray(b)){const A=h?b.length-1:0;b=b[A]}b!==null&&(n[v]=b)}for(const v in g)n[v]=g[v]}),n}const tK={useVisualState:SN({scrapeMotionValuesFromProps:AN,createRenderState:yN,onMount:(r,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}vC(t,i,{enableHardwareAcceleration:!1},yC(e.tagName),r.transformTemplate),bN(e,t)}})},rK={useVisualState:SN({scrapeMotionValuesFromProps:xC,createRenderState:gC})};function iK(r,{forwardMotionProps:e=!1},t,i){return{...fC(r)?tK:rK,preloadedFeatures:t,useRender:Kq(e),createVisualElement:i,Component:r}}function To(r,e,t,i={passive:!0}){return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t)}const wN=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function V_(r,e="page"){return{point:{x:r[e+"X"],y:r[e+"Y"]}}}const nK=r=>e=>wN(e)&&r(e,V_(e));function Lo(r,e,t,i){return To(r,e,nK(t),i)}const aK=(r,e)=>t=>e(r(t)),Ol=(...r)=>r.reduce(aK);function MN(r){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=r,t):!1}}const b3=MN("dragHorizontal"),A3=MN("dragVertical");function EN(r){let e=!1;if(r==="y")e=A3();else if(r==="x")e=b3();else{const t=b3(),i=A3();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function CN(){const r=EN(!0);return r?(r(),!1):!0}class ic{constructor(e){this.isMounted=!1,this.node=e}update(){}}function S3(r,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),n=(a,s)=>{if(a.type==="touch"||CN())return;const o=r.getProps();r.animationState&&o.whileHover&&r.animationState.setActive("whileHover",e),o[i]&&o[i](a,s)};return Lo(r.current,t,n,{passive:!r.getProps()[i]})}class sK extends ic{mount(){this.unmount=Ol(S3(this.node,!0),S3(this.node,!1))}unmount(){}}class oK extends ic{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ol(To(this.node.current,"focus",()=>this.onFocus()),To(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const TN=(r,e)=>e?r===e?!0:TN(r,e.parentElement):!1,ys=r=>r;function PA(r,e){if(!e)return;const t=new PointerEvent("pointer"+r);e(t,V_(t))}class lK extends ic{constructor(){super(...arguments),this.removeStartListeners=ys,this.removeEndListeners=ys,this.removeAccessibleListeners=ys,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),n=Lo(window,"pointerup",(s,o)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c}=this.node.getProps();TN(this.node.current,s.target)?l&&l(s,o):c&&c(s,o)},{passive:!(i.onTap||i.onPointerUp)}),a=Lo(window,"pointercancel",(s,o)=>this.cancelPress(s,o),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ol(n,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||PA("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=To(this.node.current,"keyup",s),PA("down",(o,l)=>{this.startPress(o,l)})},t=To(this.node.current,"keydown",e),i=()=>{this.isPressing&&PA("cancel",(a,s)=>this.cancelPress(a,s))},n=To(this.node.current,"blur",i);this.removeAccessibleListeners=Ol(t,n)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!CN()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,t)}mount(){const e=this.node.getProps(),t=Lo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=To(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ol(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Aw=new WeakMap,BA=new WeakMap,cK=r=>{const e=Aw.get(r.target);e&&e(r)},uK=r=>{r.forEach(cK)};function hK({root:r,...e}){const t=r||document;BA.has(t)||BA.set(t,{});const i=BA.get(t),n=JSON.stringify(e);return i[n]||(i[n]=new IntersectionObserver(uK,{root:r,...e})),i[n]}function dK(r,e,t){const i=hK(e);return Aw.set(r,t),i.observe(r),()=>{Aw.delete(r),i.unobserve(r)}}const pK={some:0,all:1};class fK extends ic{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:n="some",once:a,fallback:s=!0}=e;if(typeof IntersectionObserver>"u"){s&&this.viewportFallback();return}const o={root:t?t.current:void 0,rootMargin:i,threshold:typeof n=="number"?n:pK[n]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:f}=this.node.getProps(),m=h?p:f;m&&m(c)};return dK(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(mK(e,t))&&this.startObserver()}unmount(){}}function mK({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const gK={inView:{Feature:fK},tap:{Feature:lK},focus:{Feature:oK},hover:{Feature:sK}};function RN(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let i=0;i<t;i++)if(e[i]!==r[i])return!1;return!0}const vK=r=>/^\-?\d*\.?\d+$/.test(r),yK=r=>/^0[^.\s]+$/.test(r),Fo={delta:0,timestamp:0},PN=1/60*1e3,_K=typeof performance<"u"?()=>performance.now():()=>Date.now(),BN=typeof window<"u"?r=>window.requestAnimationFrame(r):r=>setTimeout(()=>r(_K()),PN);function xK(r){let e=[],t=[],i=0,n=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,h=!1)=>{const p=h&&n,f=p?e:t;return c&&s.add(l),f.indexOf(l)===-1&&(f.push(l),p&&n&&(i=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),s.delete(l)},process:l=>{if(n){a=!0;return}if(n=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let c=0;c<i;c++){const h=e[c];h(l),s.has(h)&&(o.schedule(h),r())}n=!1,a&&(a=!1,o.process(l))}};return o}const bK=40;let Sw=!0,Cm=!1,ww=!1;const hg=["read","update","preRender","render","postRender"],j_=hg.reduce((r,e)=>(r[e]=xK(()=>Cm=!0),r),{}),wn=hg.reduce((r,e)=>{const t=j_[e];return r[e]=(i,n=!1,a=!1)=>(Cm||SK(),t.schedule(i,n,a)),r},{}),Xl=hg.reduce((r,e)=>(r[e]=j_[e].cancel,r),{}),IA=hg.reduce((r,e)=>(r[e]=()=>j_[e].process(Fo),r),{}),AK=r=>j_[r].process(Fo),IN=r=>{Cm=!1,Fo.delta=Sw?PN:Math.max(Math.min(r-Fo.timestamp,bK),1),Fo.timestamp=r,ww=!0,hg.forEach(AK),ww=!1,Cm&&(Sw=!1,BN(IN))},SK=()=>{Cm=!0,Sw=!0,ww||BN(IN)};function AC(r,e){r.indexOf(e)===-1&&r.push(e)}function SC(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class wC{constructor(){this.subscriptions=[]}add(e){return AC(this.subscriptions,e),()=>SC(this.subscriptions,e)}notify(e,t,i){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,t,i);else for(let a=0;a<n;a++){const s=this.subscriptions[a];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function MC(r,e){return e?r*(1e3/e):0}const wK=r=>!isNaN(parseFloat(r));class MK{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,n=!0)=>{this.prev=this.current,this.current=i;const{delta:a,timestamp:s}=Fo;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,wn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>wn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=wK(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new wC);const i=this.events[e].add(t);return e==="change"?()=>{i(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?MC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fd(r,e){return new MK(r,e)}const EC=(r,e)=>t=>!!(cg(t)&&kq.test(t)&&t.startsWith(r)||e&&Object.prototype.hasOwnProperty.call(t,e)),DN=(r,e,t)=>i=>{if(!cg(i))return i;const[n,a,s,o]=i.match(Em);return{[r]:parseFloat(n),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},EK=r=>Ld(0,255,r),DA={...Wu,transform:r=>Math.round(EK(r))},tu={test:EC("rgb","red"),parse:DN("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:i=1})=>"rgba("+DA.transform(r)+", "+DA.transform(e)+", "+DA.transform(t)+", "+If(Bf.transform(i))+")"};function CK(r){let e="",t="",i="",n="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),i=r.substring(5,7),n=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),i=r.substring(3,4),n=r.substring(4,5),e+=e,t+=t,i+=i,n+=n),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}}const Mw={test:EC("#"),parse:CK,transform:tu.transform},Qh={test:EC("hsl","hue"),parse:DN("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(r)+", "+Js.transform(If(e))+", "+Js.transform(If(t))+", "+If(Bf.transform(i))+")"},pn={test:r=>tu.test(r)||Mw.test(r)||Qh.test(r),parse:r=>tu.test(r)?tu.parse(r):Qh.test(r)?Qh.parse(r):Mw.parse(r),transform:r=>cg(r)?r:r.hasOwnProperty("red")?tu.transform(r):Qh.transform(r)},LN="${c}",FN="${n}";function TK(r){var e,t;return isNaN(r)&&cg(r)&&(((e=r.match(Em))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(bw))===null||t===void 0?void 0:t.length)||0)>0}function b1(r){typeof r=="number"&&(r=`${r}`);const e=[];let t=0,i=0;const n=r.match(bw);n&&(t=n.length,r=r.replace(bw,LN),e.push(...n.map(pn.parse)));const a=r.match(Em);return a&&(i=a.length,r=r.replace(Em,FN),e.push(...a.map(Wu.parse))),{values:e,numColors:t,numNumbers:i,tokenised:r}}function kN(r){return b1(r).values}function ON(r){const{values:e,numColors:t,tokenised:i}=b1(r),n=e.length;return a=>{let s=i;for(let o=0;o<n;o++)s=s.replace(o<t?LN:FN,o<t?pn.transform(a[o]):If(a[o]));return s}}const RK=r=>typeof r=="number"?0:r;function PK(r){const e=kN(r);return ON(r)(e.map(RK))}const Jl={test:TK,parse:kN,createTransformer:ON,getAnimatableNone:PK},BK=new Set(["brightness","contrast","saturate","opacity"]);function IK(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[i]=t.match(Em)||[];if(!i)return r;const n=t.replace(i,"");let a=BK.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+n+")"}const DK=/([a-z-]*)\(.*?\)/g,Ew={...Jl,getAnimatableNone:r=>{const e=r.match(DK);return e?e.map(IK).join(" "):r}},LK={...mN,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Ew,WebkitFilter:Ew},CC=r=>LK[r];function TC(r,e){let t=CC(r);return t!==Ew&&(t=Jl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const NN=r=>e=>e.test(r),FK={test:r=>r==="auto",parse:r=>r},UN=[Wu,St,Js,pl,Nq,Oq,FK],jp=r=>UN.find(NN(r)),kK=[...UN,pn,Jl],OK=r=>kK.find(NN(r));function NK(r){const e={};return r.values.forEach((t,i)=>e[i]=t.get()),e}function UK(r){const e={};return r.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function W_(r,e,t){const i=r.getProps();return bC(i,e,t!==void 0?t:i.custom,NK(r),UK(r))}function zK(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Fd(t))}function GK(r,e){const t=W_(r,e);let{transitionEnd:i={},transition:n={},...a}=t?r.makeTargetAnimatable(t,!1):{};a={...a,...i};for(const s in a){const o=Qq(a[s]);zK(r,s,o)}}function HK(r,e,t){var i,n;const a=Object.keys(e).filter(o=>!r.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(n=(i=t[l])!==null&&i!==void 0?i:r.readValue(l))!==null&&n!==void 0?n:e[l]),h!=null&&(typeof h=="string"&&(vK(h)||yK(h))?h=parseFloat(h):!OK(h)&&Jl.test(c)&&(h=TC(l,c)),r.addValue(l,Fd(h,{owner:r})),t[l]===void 0&&(t[l]=h),h!==null&&r.setBaseTarget(l,h))}}function VK(r,e){return e?(e[r]||e.default||e).from:void 0}function jK(r,e,t){const i={};for(const n in r){const a=VK(n,e);if(a!==void 0)i[n]=a;else{const s=t.getValue(n);s&&(i[n]=s.get())}}return i}function A1(r){return!!(Yn(r)&&r.add)}const WK="framerAppearId",XK="data-"+_C(WK);let S1=ys;const qv=r=>r*1e3,JK={current:!1},RC=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,PC=r=>e=>1-r(1-e),BC=r=>r*r,YK=PC(BC),IC=RC(BC),Lr=(r,e,t)=>-t*r+t*e+r;function LA(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function qK({hue:r,saturation:e,lightness:t,alpha:i}){r/=360,e/=100,t/=100;let n=0,a=0,s=0;if(!e)n=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;n=LA(l,o,r+1/3),a=LA(l,o,r),s=LA(l,o,r-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}const FA=(r,e,t)=>{const i=r*r;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},KK=[Mw,tu,Qh],ZK=r=>KK.find(e=>e.test(r));function w3(r){const e=ZK(r);let t=e.parse(r);return e===Qh&&(t=qK(t)),t}const zN=(r,e)=>{const t=w3(r),i=w3(e),n={...t};return a=>(n.red=FA(t.red,i.red,a),n.green=FA(t.green,i.green,a),n.blue=FA(t.blue,i.blue,a),n.alpha=Lr(t.alpha,i.alpha,a),tu.transform(n))};function GN(r,e){return typeof r=="number"?t=>Lr(r,e,t):pn.test(r)?zN(r,e):VN(r,e)}const HN=(r,e)=>{const t=[...r],i=t.length,n=r.map((a,s)=>GN(a,e[s]));return a=>{for(let s=0;s<i;s++)t[s]=n[s](a);return t}},QK=(r,e)=>{const t={...r,...e},i={};for(const n in t)r[n]!==void 0&&e[n]!==void 0&&(i[n]=GN(r[n],e[n]));return n=>{for(const a in i)t[a]=i[a](n);return t}},VN=(r,e)=>{const t=Jl.createTransformer(e),i=b1(r),n=b1(e);return i.numColors===n.numColors&&i.numNumbers>=n.numNumbers?Ol(HN(i.values,n.values),t):a=>`${a>0?e:r}`},Tm=(r,e,t)=>{const i=e-r;return i===0?1:(t-r)/i},M3=(r,e)=>t=>Lr(r,e,t);function $K(r){return typeof r=="number"?M3:typeof r=="string"?pn.test(r)?zN:VN:Array.isArray(r)?HN:typeof r=="object"?QK:M3}function eZ(r,e,t){const i=[],n=t||$K(r[0]),a=r.length-1;for(let s=0;s<a;s++){let o=n(r[s],r[s+1]);if(e){const l=Array.isArray(e)?e[s]:e;o=Ol(l,o)}i.push(o)}return i}function jN(r,e,{clamp:t=!0,ease:i,mixer:n}={}){const a=r.length;S1(a===e.length),S1(!i||!Array.isArray(i)||i.length===a-1),r[0]>r[a-1]&&(r=[...r].reverse(),e=[...e].reverse());const s=eZ(e,i,n),o=s.length,l=c=>{let h=0;if(o>1)for(;h<r.length-2&&!(c<r[h+1]);h++);const p=Tm(r[h],r[h+1],c);return s[h](p)};return t?c=>l(Ld(r[0],r[a-1],c)):l}function tZ(r,e){const t=r[r.length-1];for(let i=1;i<=e;i++){const n=Tm(0,e,i);r.push(Lr(t,1,n))}}function rZ(r){const e=[0];return tZ(e,r.length-1),e}function iZ(r,e){return r.map(t=>t*e)}const WN=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,nZ=1e-7,aZ=12;function sZ(r,e,t,i,n){let a,s,o=0;do s=e+(t-e)/2,a=WN(s,i,n)-r,a>0?t=s:e=s;while(Math.abs(a)>nZ&&++o<aZ);return s}function XN(r,e,t,i){if(r===e&&t===i)return ys;const n=a=>sZ(a,0,1,r,t);return a=>a===0||a===1?a:WN(n(a),e,i)}const JN=r=>1-Math.sin(Math.acos(r)),DC=PC(JN),oZ=RC(DC),YN=XN(.33,1.53,.69,.99),LC=PC(YN),lZ=RC(LC),cZ=r=>(r*=2)<1?.5*LC(r):.5*(2-Math.pow(2,-10*(r-1))),uZ={linear:ys,easeIn:BC,easeInOut:IC,easeOut:YK,circIn:JN,circInOut:oZ,circOut:DC,backIn:LC,backInOut:lZ,backOut:YN,anticipate:cZ},E3=r=>{if(Array.isArray(r)){S1(r.length===4);const[e,t,i,n]=r;return XN(e,t,i,n)}else if(typeof r=="string")return uZ[r];return r},hZ=r=>Array.isArray(r)&&typeof r[0]!="number";function dZ(r,e){return r.map(()=>e||IC).splice(0,r.length-1)}function Cw({keyframes:r,ease:e=IC,times:t,duration:i=300}){r=[...r];const n=hZ(e)?e.map(E3):E3(e),a={done:!1,value:r[0]},s=iZ(t&&t.length===r.length?t:rZ(r),i);function o(){return jN(s,r,{ease:Array.isArray(n)?n:dZ(r,n)})}let l=o();return{next:c=>(a.value=l(c),a.done=c>=i,a),flipTarget:()=>{r.reverse(),l=o()}}}const kA=.001,pZ=.01,fZ=10,mZ=.05,gZ=1;function vZ({duration:r=800,bounce:e=.25,velocity:t=0,mass:i=1}){let n,a,s=1-e;s=Ld(mZ,gZ,s),r=Ld(pZ,fZ,r/1e3),s<1?(n=c=>{const h=c*s,p=h*r,f=h-t,m=Tw(c,s),g=Math.exp(-p);return kA-f/m*g},a=c=>{const h=c*s*r,p=h*t+t,f=Math.pow(s,2)*Math.pow(c,2)*r,m=Math.exp(-h),g=Tw(Math.pow(c,2),s);return(-n(c)+kA>0?-1:1)*((p-f)*m)/g}):(n=c=>{const h=Math.exp(-c*r),p=(c-t)*r+1;return-kA+h*p},a=c=>{const h=Math.exp(-c*r),p=(t-c)*(r*r);return h*p});const o=5/r,l=_Z(n,a,o);if(r=r*1e3,isNaN(l))return{stiffness:100,damping:10,duration:r};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:s*2*Math.sqrt(i*c),duration:r}}}const yZ=12;function _Z(r,e,t){let i=t;for(let n=1;n<yZ;n++)i=i-r(i)/e(i);return i}function Tw(r,e){return r*Math.sqrt(1-e*e)}const xZ=["duration","bounce"],bZ=["stiffness","damping","mass"];function C3(r,e){return e.some(t=>r[t]!==void 0)}function AZ(r){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...r};if(!C3(r,bZ)&&C3(r,xZ)){const t=vZ(r);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const SZ=5;function qN({keyframes:r,restDelta:e,restSpeed:t,...i}){let n=r[0],a=r[r.length-1];const s={done:!1,value:n},{stiffness:o,damping:l,mass:c,velocity:h,duration:p,isResolvedFromDuration:f}=AZ(i);let m=wZ,g=h?-(h/1e3):0;const x=l/(2*Math.sqrt(o*c));function _(){const v=a-n,b=Math.sqrt(o/c)/1e3,A=Math.abs(v)<5;if(t||(t=A?.01:2),e||(e=A?.005:.5),x<1){const w=Tw(b,x);m=T=>{const E=Math.exp(-x*b*T);return a-E*((g+x*b*v)/w*Math.sin(w*T)+v*Math.cos(w*T))}}else if(x===1)m=w=>a-Math.exp(-b*w)*(v+(g+b*v)*w);else{const w=b*Math.sqrt(x*x-1);m=T=>{const E=Math.exp(-x*b*T),B=Math.min(w*T,300);return a-E*((g+x*b*v)*Math.sinh(B)+w*v*Math.cosh(B))/w}}}return _(),{next:v=>{const b=m(v);if(f)s.done=v>=p;else{let A=g;if(v!==0)if(x<1){const E=Math.max(0,v-SZ);A=MC(b-m(E),v-E)}else A=0;const w=Math.abs(A)<=t,T=Math.abs(a-b)<=e;s.done=w&&T}return s.value=s.done?a:b,s},flipTarget:()=>{g=-g,[n,a]=[a,n],_()}}}qN.needsInterpolation=(r,e)=>typeof r=="string"||typeof e=="string";const wZ=r=>0;function MZ({keyframes:r=[0],velocity:e=0,power:t=.8,timeConstant:i=350,restDelta:n=.5,modifyTarget:a}){const s=r[0],o={done:!1,value:s};let l=t*e;const c=s+l,h=a===void 0?c:a(c);return h!==c&&(l=h-s),{next:p=>{const f=-l*Math.exp(-p/i);return o.done=!(f>n||f<-n),o.value=o.done?h:h+f,o},flipTarget:()=>{}}}const EZ={decay:MZ,keyframes:Cw,tween:Cw,spring:qN};function KN(r,e,t=0){return r-e-t}function CZ(r,e=0,t=0,i=!0){return i?KN(e+-r,e,t):e-(r-e)+t}function TZ(r,e,t,i){return i?r>=e+t:r<=-t}const RZ=r=>{const e=({delta:t})=>r(t);return{start:()=>wn.update(e,!0),stop:()=>Xl.update(e)}};function w1({duration:r,driver:e=RZ,elapsed:t=0,repeat:i=0,repeatType:n="loop",repeatDelay:a=0,keyframes:s,autoplay:o=!0,onPlay:l,onStop:c,onComplete:h,onRepeat:p,onUpdate:f,type:m="keyframes",...g}){const x=t;let _,v=0,b=r,A=!1,w=!0,T;const E=EZ[s.length>2?"keyframes":m]||Cw,B=s[0],I=s[s.length-1];let C={done:!1,value:B};const{needsInterpolation:R}=E;R&&R(B,I)&&(T=jN([0,100],[B,I],{clamp:!1}),s=[0,100]);const D=E({...g,duration:r,keyframes:s});function V(){v++,n==="reverse"?(w=v%2===0,t=CZ(t,b,a,w)):(t=KN(t,b,a),n==="mirror"&&D.flipTarget()),A=!1,p&&p()}function j(){_&&_.stop(),h&&h()}function Z(X){w||(X=-X),t+=X,A||(C=D.next(Math.max(0,t)),T&&(C.value=T(C.value)),A=w?C.done:t<=0),f&&f(C.value),A&&(v===0&&(b=b!==void 0?b:t),v<i?TZ(t,b,a,w)&&V():j())}function Q(){l&&l(),_=e(Z),_.start()}return o&&Q(),{stop:()=>{c&&c(),_&&_.stop()},set currentTime(X){t=x,Z(X)},sample:X=>{t=x;const ie=r&&typeof r=="number"?Math.max(r*.5,50):50;let O=0;for(Z(0);O<=X;){const F=X-O;Z(Math.min(F,ie)),O+=ie}return C}}}function PZ(r){return!r||Array.isArray(r)||typeof r=="string"&&ZN[r]}const nf=([r,e,t,i])=>`cubic-bezier(${r}, ${e}, ${t}, ${i})`,ZN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nf([0,.65,.55,1]),circOut:nf([.55,0,1,.45]),backIn:nf([.31,.01,.66,-.59]),backOut:nf([.33,1.53,.69,.99])};function BZ(r){if(r)return Array.isArray(r)?nf(r):ZN[r]}function IZ(r,e,t,{delay:i=0,duration:n,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){return r.animate({[e]:t,offset:l},{delay:i,duration:n,easing:BZ(o),fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const T3={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},OA={},QN={};for(const r in T3)QN[r]=()=>(OA[r]===void 0&&(OA[r]=T3[r]()),OA[r]);function DZ(r,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[i]}const LZ=new Set(["opacity","clipPath","filter","transform"]),vv=10;function FZ(r,e,{onUpdate:t,onComplete:i,...n}){if(!(QN.waapi()&&LZ.has(e)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0))return!1;let{keyframes:a,duration:s=300,elapsed:o=0,ease:l}=n;if(n.type==="spring"||!PZ(n.ease)){if(n.repeat===1/0)return;const h=w1({...n,elapsed:0});let p={done:!1,value:a[0]};const f=[];let m=0;for(;!p.done&&m<2e4;)p=h.sample(m),f.push(p.value),m+=vv;a=f,s=m-vv,l="linear"}const c=IZ(r.owner.current,e,a,{...n,delay:-o,duration:s,ease:l});return c.onfinish=()=>{r.set(DZ(a,n)),wn.update(()=>c.cancel()),i&&i()},{get currentTime(){return c.currentTime||0},set currentTime(h){c.currentTime=h},stop:()=>{const{currentTime:h}=c;if(h){const p=w1({...n,autoplay:!1});r.setWithVelocity(p.sample(h-vv).value,p.sample(h).value,vv)}wn.update(()=>c.cancel())}}}function $N(r,e){const t=performance.now(),i=({timestamp:n})=>{const a=n-t;a>=e&&(Xl.read(i),r(a-e))};return wn.read(i,!0),()=>Xl.read(i)}function kZ({keyframes:r,elapsed:e,onUpdate:t,onComplete:i}){const n=()=>{t&&t(r[r.length-1]),i&&i()};return e?{stop:$N(n,-e)}:n()}function OZ({keyframes:r,velocity:e=0,min:t,max:i,power:n=.8,timeConstant:a=750,bounceStiffness:s=500,bounceDamping:o=10,restDelta:l=1,modifyTarget:c,driver:h,onUpdate:p,onComplete:f,onStop:m}){const g=r[0];let x;function _(w){return t!==void 0&&w<t||i!==void 0&&w>i}function v(w){return t===void 0?i:i===void 0||Math.abs(t-w)<Math.abs(i-w)?t:i}function b(w){x&&x.stop(),x=w1({keyframes:[0,1],velocity:0,...w,driver:h,onUpdate:T=>{p&&p(T),w.onUpdate&&w.onUpdate(T)},onComplete:f,onStop:m})}function A(w){b({type:"spring",stiffness:s,damping:o,restDelta:l,...w})}if(_(g))A({velocity:e,keyframes:[g,v(g)]});else{let w=n*e+g;typeof c<"u"&&(w=c(w));const T=v(w),E=T===t?-1:1;let B,I;const C=R=>{B=I,I=R,e=MC(R-B,Fo.delta),(E===1&&R>T||E===-1&&R<T)&&A({keyframes:[R,T],velocity:e})};b({type:"decay",keyframes:[g,0],velocity:e,timeConstant:a,power:n,restDelta:l,modifyTarget:c,onUpdate:_(w)?C:void 0})}return{stop:()=>x&&x.stop()}}const NZ={type:"spring",stiffness:500,damping:25,restSpeed:10},UZ=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),zZ={type:"keyframes",duration:.8},GZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HZ=(r,{keyframes:e})=>e.length>2?zZ:ju.has(r)?r.startsWith("scale")?UZ(e[1]):NZ:GZ,Rw=(r,e)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Jl.test(e)&&!e.startsWith("url("));function VZ({when:r,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:n,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function R3(r){return r===0||typeof r=="string"&&parseFloat(r)===0&&r.indexOf(" ")===-1}function P3(r){return typeof r=="number"?0:TC("",r)}function eU(r,e){return r[e]||r.default||r}function jZ(r,e,t,i){const n=Rw(e,t);let a=i.from!==void 0?i.from:r.get();return a==="none"&&n&&typeof t=="string"?a=TC(e,t):R3(a)&&typeof t=="string"?a=P3(t):!Array.isArray(t)&&R3(t)&&typeof a=="string"&&(t=P3(a)),Array.isArray(t)?(t[0]===null&&(t[0]=a),t):[a,t]}const FC=(r,e,t,i={})=>n=>{const a=eU(i,r)||{},s=a.delay||i.delay||0;let{elapsed:o=0}=i;o=o-qv(s);const l=jZ(e,r,t,a),c=l[0],h=l[l.length-1],p=Rw(r,c),f=Rw(r,h);let m={keyframes:l,velocity:e.getVelocity(),...a,elapsed:o,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{n(),a.onComplete&&a.onComplete()}};if(!p||!f||JK.current||a.type===!1)return kZ(m);if(a.type==="inertia")return OZ(m);if(VZ(a)||(m={...m,...HZ(r,m)}),m.duration&&(m.duration=qv(m.duration)),m.repeatDelay&&(m.repeatDelay=qv(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=FZ(e,r,m);if(g)return g}return w1(m)};function WZ(r,e,t={}){r.notify("AnimationStart",e);let i;if(Array.isArray(e)){const n=e.map(a=>Pw(r,a,t));i=Promise.all(n)}else if(typeof e=="string")i=Pw(r,e,t);else{const n=typeof e=="function"?W_(r,e,t.custom):e;i=tU(r,n,t)}return i.then(()=>r.notify("AnimationComplete",e))}function Pw(r,e,t={}){const i=W_(r,e,t.custom);let{transition:n=r.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(n=t.transitionOverride);const a=i?()=>tU(r,i,t):()=>Promise.resolve(),s=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=n;return XZ(r,e,c+l,h,p,t)}:()=>Promise.resolve(),{when:o}=n;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(c)}else return Promise.all([a(),s(t.delay)])}function tU(r,e,{delay:t=0,transitionOverride:i,type:n}={}){let{transition:a=r.getDefaultTransition(),transitionEnd:s,...o}=r.makeTargetAnimatable(e);const l=r.getValue("willChange");i&&(a=i);const c=[],h=n&&r.animationState&&r.animationState.getState()[n];for(const p in o){const f=r.getValue(p),m=o[p];if(!f||m===void 0||h&&YZ(h,p))continue;const g={delay:t,elapsed:0,...a};if(window.HandoffAppearAnimations&&!f.hasAnimated){const _=r.getProps()[XK];_&&(g.elapsed=window.HandoffAppearAnimations(_,p,f,wn))}let x=f.start(FC(p,f,m,r.shouldReduceMotion&&ju.has(p)?{type:!1}:g));A1(l)&&(l.add(p),x=x.then(()=>l.remove(p))),c.push(x)}return Promise.all(c).then(()=>{s&&GK(r,s)})}function XZ(r,e,t=0,i=0,n=1,a){const s=[],o=(r.variantChildren.size-1)*i,l=n===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(r.variantChildren).sort(JZ).forEach((c,h)=>{c.notify("AnimationStart",e),s.push(Pw(c,e,{...a,delay:t+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function JZ(r,e){return r.sortNodePosition(e)}function YZ({protectedKeys:r,needsAnimating:e},t){const i=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const qZ=[...dC].reverse(),KZ=dC.length;function ZZ(r){return e=>Promise.all(e.map(({animation:t,options:i})=>WZ(r,t,i)))}function QZ(r){let e=ZZ(r);const t=eQ();let i=!0;const n=(l,c)=>{const h=W_(r,c);if(h){const{transition:p,transitionEnd:f,...m}=h;l={...l,...m,...f}}return l};function a(l){e=l(r)}function s(l,c){const h=r.getProps(),p=r.getVariantContext(!0)||{},f=[],m=new Set;let g={},x=1/0;for(let v=0;v<KZ;v++){const b=qZ[v],A=t[b],w=h[b]!==void 0?h[b]:p[b],T=wm(w),E=b===c?A.isActive:null;E===!1&&(x=v);let B=w===p[b]&&w!==h[b]&&T;if(B&&i&&r.manuallyAnimateOnMount&&(B=!1),A.protectedKeys={...g},!A.isActive&&E===null||!w&&!A.prevProp||z_(w)||typeof w=="boolean")continue;const I=$Z(A.prevProp,w);let C=I||b===c&&A.isActive&&!B&&T||v>x&&T;const R=Array.isArray(w)?w:[w];let D=R.reduce(n,{});E===!1&&(D={});const{prevResolvedValues:V={}}=A,j={...V,...D},Z=Q=>{C=!0,m.delete(Q),A.needsAnimating[Q]=!0};for(const Q in j){const X=D[Q],ie=V[Q];g.hasOwnProperty(Q)||(X!==ie?x1(X)&&x1(ie)?!RN(X,ie)||I?Z(Q):A.protectedKeys[Q]=!0:X!==void 0?Z(Q):m.add(Q):X!==void 0&&m.has(Q)?Z(Q):A.protectedKeys[Q]=!0)}A.prevProp=w,A.prevResolvedValues=D,A.isActive&&(g={...g,...D}),i&&r.blockInitialAnimation&&(C=!1),C&&!B&&f.push(...R.map(Q=>({animation:Q,options:{type:b,...l}})))}if(m.size){const v={};m.forEach(b=>{const A=r.getBaseTarget(b);A!==void 0&&(v[b]=A)}),f.push({animation:v})}let _=!!f.length;return i&&h.initial===!1&&!r.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(f):Promise.resolve()}function o(l,c,h){var p;if(t[l].isActive===c)return Promise.resolve();(p=r.variantChildren)===null||p===void 0||p.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),t[l].isActive=c;const f=s(h,l);for(const m in t)t[m].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t}}function $Z(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!RN(e,r):!1}function Rc(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eQ(){return{animate:Rc(!0),whileInView:Rc(),whileHover:Rc(),whileTap:Rc(),whileDrag:Rc(),whileFocus:Rc(),exit:Rc()}}class tQ extends ic{constructor(e){super(e),e.animationState||(e.animationState=QZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),z_(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let rQ=0;class iQ extends ic{constructor(){super(...arguments),this.id=rQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const nQ={animation:{Feature:tQ},exit:{Feature:iQ}},B3=(r,e)=>Math.abs(r-e);function aQ(r,e){const t=B3(r.x,e.x),i=B3(r.y,e.y);return Math.sqrt(t**2+i**2)}class rU{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=UA(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=aQ(c.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:f}=c,{timestamp:m}=Fo;this.history.push({...f,timestamp:m});const{onStart:g,onMove:x}=this.handlers;h||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=NA(h,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:p,onSessionEnd:f}=this.handlers,m=UA(c.type==="pointercancel"?this.lastMoveEventInfo:NA(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(c,m),f&&f(c,m)},!wN(e))return;this.handlers=t,this.transformPagePoint=i;const n=V_(e),a=NA(n,this.transformPagePoint),{point:s}=a,{timestamp:o}=Fo;this.history=[{...s,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,UA(a,this.history)),this.removeListeners=Ol(Lo(window,"pointermove",this.handlePointerMove),Lo(window,"pointerup",this.handlePointerUp),Lo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xl.update(this.updatePoint)}}function NA(r,e){return e?{point:e(r.point)}:r}function I3(r,e){return{x:r.x-e.x,y:r.y-e.y}}function UA({point:r},e){return{point:r,delta:I3(r,iU(e)),offset:I3(r,sQ(e)),velocity:oQ(e,.1)}}function sQ(r){return r[0]}function iU(r){return r[r.length-1]}function oQ(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,i=null;const n=iU(r);for(;t>=0&&(i=r[t],!(n.timestamp-i.timestamp>qv(e)));)t--;if(!i)return{x:0,y:0};const a=(n.timestamp-i.timestamp)/1e3;if(a===0)return{x:0,y:0};const s={x:(n.x-i.x)/a,y:(n.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function _a(r){return r.max-r.min}function Bw(r,e=0,t=.01){return Math.abs(r-e)<=t}function D3(r,e,t,i=.5){r.origin=i,r.originPoint=Lr(e.min,e.max,r.origin),r.scale=_a(t)/_a(e),(Bw(r.scale,1,1e-4)||isNaN(r.scale))&&(r.scale=1),r.translate=Lr(t.min,t.max,r.origin)-r.originPoint,(Bw(r.translate)||isNaN(r.translate))&&(r.translate=0)}function Df(r,e,t,i){D3(r.x,e.x,t.x,i?i.originX:void 0),D3(r.y,e.y,t.y,i?i.originY:void 0)}function L3(r,e,t){r.min=t.min+e.min,r.max=r.min+_a(e)}function lQ(r,e,t){L3(r.x,e.x,t.x),L3(r.y,e.y,t.y)}function F3(r,e,t){r.min=e.min-t.min,r.max=r.min+_a(e)}function Lf(r,e,t){F3(r.x,e.x,t.x),F3(r.y,e.y,t.y)}function cQ(r,{min:e,max:t},i){return e!==void 0&&r<e?r=i?Lr(e,r,i.min):Math.max(r,e):t!==void 0&&r>t&&(r=i?Lr(t,r,i.max):Math.min(r,t)),r}function k3(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function uQ(r,{top:e,left:t,bottom:i,right:n}){return{x:k3(r.x,t,n),y:k3(r.y,e,i)}}function O3(r,e){let t=e.min-r.min,i=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,i]=[i,t]),{min:t,max:i}}function hQ(r,e){return{x:O3(r.x,e.x),y:O3(r.y,e.y)}}function dQ(r,e){let t=.5;const i=_a(r),n=_a(e);return n>i?t=Tm(e.min,e.max-i,r.min):i>n&&(t=Tm(r.min,r.max-n,e.min)),Ld(0,1,t)}function pQ(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const Iw=.35;function fQ(r=Iw){return r===!1?r=0:r===!0&&(r=Iw),{x:N3(r,"left","right"),y:N3(r,"top","bottom")}}function N3(r,e,t){return{min:U3(r,e),max:U3(r,t)}}function U3(r,e){return typeof r=="number"?r:r[e]||0}const z3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ff=()=>({x:z3(),y:z3()}),G3=()=>({min:0,max:0}),ii=()=>({x:G3(),y:G3()});function Fs(r){return[r("x"),r("y")]}function nU({top:r,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:r,max:i}}}function mQ({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function gQ(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),i=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function zA(r){return r===void 0||r===1}function Dw({scale:r,scaleX:e,scaleY:t}){return!zA(r)||!zA(e)||!zA(t)}function Nc(r){return Dw(r)||aU(r)||r.z||r.rotate||r.rotateX||r.rotateY}function aU(r){return H3(r.x)||H3(r.y)}function H3(r){return r&&r!=="0%"}function M1(r,e,t){const i=r-t,n=e*i;return t+n}function V3(r,e,t,i,n){return n!==void 0&&(r=M1(r,n,i)),M1(r,t,i)+e}function Lw(r,e=0,t=1,i,n){r.min=V3(r.min,e,t,i,n),r.max=V3(r.max,e,t,i,n)}function sU(r,{x:e,y:t}){Lw(r.x,e.translate,e.scale,e.originPoint),Lw(r.y,t.translate,t.scale,t.originPoint)}function vQ(r,e,t,i=!1){const n=t.length;if(!n)return;e.x=e.y=1;let a,s;for(let o=0;o<n;o++){a=t[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$h(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,sU(r,s)),i&&Nc(a.latestValues)&&$h(r,a.latestValues))}e.x=j3(e.x),e.y=j3(e.y)}function j3(r){return Number.isInteger(r)||r>1.0000000000001||r<.999999999999?r:1}function vl(r,e){r.min=r.min+e,r.max=r.max+e}function W3(r,e,[t,i,n]){const a=e[n]!==void 0?e[n]:.5,s=Lr(r.min,r.max,a);Lw(r,e[t],e[i],s,e.scale)}const yQ=["x","scaleX","originX"],_Q=["y","scaleY","originY"];function $h(r,e){W3(r.x,e,yQ),W3(r.y,e,_Q)}function oU(r,e){return nU(gQ(r.getBoundingClientRect(),e))}function xQ(r,e,t){const i=oU(r,t),{scroll:n}=e;return n&&(vl(i.x,n.offset.x),vl(i.y,n.offset.y)),i}const bQ=new WeakMap;class AQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ii(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const n=l=>{this.stopAnimation(),t&&this.snapToCursor(V_(l,"page").point)},a=(l,c)=>{const{drag:h,dragPropagation:p,onDragStart:f}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=EN(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fs(g=>{let x=this.getAxisMotionValue(g).get()||0;if(Js.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const v=_.layout.layoutBox[g];v&&(x=_a(v)*(parseFloat(x)/100))}}this.originPoint[g]=x}),f&&f(l,c);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(l,c)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:f,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:g}=c;if(p&&this.currentDirection===null){this.currentDirection=SQ(g),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),m&&m(l,c)},o=(l,c)=>this.stop(l,c);this.panSession=new rU(e,{onSessionStart:n,onStart:a,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&a(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:n}=this.getProps();if(!i||!yv(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=cQ(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},n=this.constraints;e&&Zh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=uQ(i.layoutBox,e):this.constraints=!1,this.elastic=fQ(t),n!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fs(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=pQ(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Zh(e))return!1;const i=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=xQ(i,n.root,this.visualElement.getTransformPagePoint());let s=hQ(n.layout.layoutBox,a);if(t){const o=t(mQ(s));this.hasMutatedConstraints=!!o,o&&(s=nU(o))}return s}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:n,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Fs(h=>{if(!yv(h,t,this.currentDirection))return;let p=l&&l[h]||{};s&&(p={min:0,max:0});const f=n?200:1e6,m=n?40:1e7,g={type:"inertia",velocity:i?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(h,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(FC(e,i,0,t))}stopAnimation(){Fs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Fs(t=>{const{drag:i}=this.getProps();if(!yv(t,i,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(t);if(n&&n.layout){const{min:s,max:o}=n.layout.layoutBox[t];a.set(e[t]-Lr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Zh(t)||!i||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Fs(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();n[s]=dQ({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Fs(s=>{if(!yv(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Lr(l,c,n[s]))})}addListeners(){if(!this.visualElement.current)return;bQ.set(this.visualElement,this);const e=this.visualElement.current,t=Lo(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Zh(l)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",i);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),i();const s=To(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fs(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:s=Iw,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:n,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function yv(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function SQ(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class wQ extends ic{constructor(e){super(e),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new AQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}unmount(){this.removeGroupControls(),this.removeListeners()}}class MQ extends ic{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(e){this.session=new rU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:n}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:i,onEnd:(a,s)=>{delete this.session,n&&n(a,s)}}}mount(){this.removePointerDownListener=Lo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function EQ(){const r=W.useContext(hC);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=r,n=W.useId();return W.useEffect(()=>i(n),[]),!e&&t?[!1,()=>t&&t(n)]:[!0]}function X3(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const Wp={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(St.test(r))r=parseFloat(r);else return r;const t=X3(r,e.target.x),i=X3(r,e.target.y);return`${t}% ${i}%`}},lU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function CQ(r){const e=lU.exec(r);if(!e)return[,];const[,t,i]=e;return[t,i]}function Fw(r,e,t=1){const[i,n]=CQ(r);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);return a?a.trim():xw(n)?Fw(n,e,t+1):n}function TQ(r,{...e},t){const i=r.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),r.values.forEach(n=>{const a=n.get();if(!xw(a))return;const s=Fw(a,i);s&&n.set(s)});for(const n in e){const a=e[n];if(!xw(a))continue;const s=Fw(a,i);s&&(e[n]=s,t&&t[n]===void 0&&(t[n]=a))}return{target:e,transitionEnd:t}}const J3="_$css",RQ={correct:(r,{treeScale:e,projectionDelta:t})=>{const i=r,n=r.includes("var("),a=[];n&&(r=r.replace(lU,m=>(a.push(m),J3)));const s=Jl.parse(r);if(s.length>5)return i;const o=Jl.createTransformer(r),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const p=Lr(c,h,.5);typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p);let f=o(s);if(n){let m=0;f=f.replace(J3,()=>{const g=a[m];return m++,g})}return f}};class PQ extends bn.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:n}=this.props,{projection:a}=e;Bq(BQ),a&&(t.group&&t.group.add(a),i&&i.register&&n&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Pf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:n,isPresent:a}=this.props,s=i.projection;return s&&(s.isPresent=a,n||e.layoutDependency!==t||t===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||wn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),i&&i.deregister&&i.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cU(r){const[e,t]=EQ(),i=W.useContext(uN);return bn.createElement(PQ,{...r,layoutGroup:i,switchLayoutGroup:W.useContext(hN),isPresent:e,safeToRemove:t})}const BQ={borderRadius:{...Wp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wp,borderTopRightRadius:Wp,borderBottomLeftRadius:Wp,borderBottomRightRadius:Wp,boxShadow:RQ};function IQ(r,e,t={}){const i=Yn(r)?r:Fd(r);return i.start(FC("",i,e,t)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const uU=["TopLeft","TopRight","BottomLeft","BottomRight"],DQ=uU.length,Y3=r=>typeof r=="string"?parseFloat(r):r,q3=r=>typeof r=="number"||St.test(r);function LQ(r,e,t,i,n,a){n?(r.opacity=Lr(0,t.opacity!==void 0?t.opacity:1,FQ(i)),r.opacityExit=Lr(e.opacity!==void 0?e.opacity:1,0,kQ(i))):a&&(r.opacity=Lr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let s=0;s<DQ;s++){const o=`border${uU[s]}Radius`;let l=K3(e,o),c=K3(t,o);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||q3(l)===q3(c)?(r[o]=Math.max(Lr(Y3(l),Y3(c),i),0),(Js.test(c)||Js.test(l))&&(r[o]+="%")):r[o]=c)}(e.rotate||t.rotate)&&(r.rotate=Lr(e.rotate||0,t.rotate||0,i))}function K3(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const FQ=hU(0,.5,DC),kQ=hU(.5,.95,ys);function hU(r,e,t){return i=>i<r?0:i>e?1:t(Tm(r,e,i))}function Z3(r,e){r.min=e.min,r.max=e.max}function ka(r,e){Z3(r.x,e.x),Z3(r.y,e.y)}function Q3(r,e,t,i,n){return r-=e,r=M1(r,1/t,i),n!==void 0&&(r=M1(r,1/n,i)),r}function OQ(r,e=0,t=1,i=.5,n,a=r,s=r){if(Js.test(e)&&(e=parseFloat(e),e=Lr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Lr(a.min,a.max,i);r===a&&(o-=e),r.min=Q3(r.min,e,t,o,n),r.max=Q3(r.max,e,t,o,n)}function $3(r,e,[t,i,n],a,s){OQ(r,e[t],e[i],e[n],e.scale,a,s)}const NQ=["x","scaleX","originX"],UQ=["y","scaleY","originY"];function eI(r,e,t,i){$3(r.x,e,NQ,t?t.x:void 0,i?i.x:void 0),$3(r.y,e,UQ,t?t.y:void 0,i?i.y:void 0)}function tI(r){return r.translate===0&&r.scale===1}function dU(r){return tI(r.x)&&tI(r.y)}function kw(r,e){return r.x.min===e.x.min&&r.x.max===e.x.max&&r.y.min===e.y.min&&r.y.max===e.y.max}function rI(r){return _a(r.x)/_a(r.y)}class zQ{constructor(){this.members=[]}add(e){AC(this.members,e),e.scheduleRender()}remove(e){if(SC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(n=>e===n);if(t===0)return!1;let i;for(let n=t;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iI(r,e,t){let i="";const n=r.x.translate/e.x,a=r.y.translate/e.y;if((n||a)&&(i=`translate3d(${n}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:h}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),h&&(i+=`rotateY(${h}deg) `)}const s=r.x.scale*e.x,o=r.y.scale*e.y;return(s!==1||o!==1)&&(i+=`scale(${s}, ${o})`),i||"none"}const GQ=(r,e)=>r.depth-e.depth;class HQ{constructor(){this.children=[],this.isDirty=!1}add(e){AC(this.children,e),this.isDirty=!0}remove(e){SC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GQ),this.isDirty=!1,this.children.forEach(e)}}function VQ(r){window.MotionDebug&&window.MotionDebug.record(r)}const nI=["","X","Y","Z"],aI=1e3;let jQ=0;const Uc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function pU({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(a,s={},o=e==null?void 0:e()){this.id=jQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Uc.totalNodes=Uc.resolvedTargetDeltas=Uc.recalculatedProjection=0,this.nodes.forEach(JQ),this.nodes.forEach(ZQ),this.nodes.forEach(QQ),this.nodes.forEach(YQ),VQ(Uc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=a,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new HQ)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new wC),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const o=this.eventHandlers.get(a);o&&o.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}registerPotentialNode(a,s){this.potentialNodes.set(a,s)}mount(a,s=!1){if(this.instance)return;this.isSVG=a instanceof SVGElement&&a.tagName!=="svg",this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),s&&(l||o)&&(this.isLayoutDirty=!0),r){let h;const p=()=>this.root.updateBlockedByResize=!1;r(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=$N(p,250),Pf.hasAnimatedSinceResize&&(Pf.hasAnimatedSinceResize=!1,this.nodes.forEach(oI))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||i$,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=c.getProps(),v=!this.targetLayout||!kw(this.targetLayout,m)||f,b=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const A={...eU(g,"layout"),onPlay:x,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else!p&&this.animationProgress===0&&oI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($Q),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:o}=this.options;if(s===void 0&&!o)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sI);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(n$),this.potentialNodes.clear()),this.nodes.forEach(KQ),this.nodes.forEach(WQ),this.nodes.forEach(XQ),this.clearAllSnapshots(),IA.update(),IA.preRender(),IA.render())}clearAllSnapshots(){this.nodes.forEach(qQ),this.sharedNodes.forEach(e$)}scheduleUpdateProjection(){wn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!n)return;const a=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!dU(this.projectionDelta),o=this.getTransformTemplate(),l=o?o(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;a&&(s||Nc(this.latestValues)||c)&&(n(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let o=this.removeElementScroll(s);return a&&(o=this.removeTransform(o)),a$(o),{animationId:this.root.animationId,measuredBox:s,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ii();const s=a.measureViewportBox(),{scroll:o}=this.root;return o&&(vl(s.x,o.offset.x),vl(s.y,o.offset.y)),s}removeElementScroll(a){const s=ii();ka(s,a);for(let o=0;o<this.path.length;o++){const l=this.path[o],{scroll:c,options:h}=l;if(l!==this.root&&c&&h.layoutScroll){if(c.isRoot){ka(s,a);const{scroll:p}=this.root;p&&(vl(s.x,-p.offset.x),vl(s.y,-p.offset.y))}vl(s.x,c.offset.x),vl(s.y,c.offset.y)}}return s}applyTransform(a,s=!1){const o=ii();ka(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$h(o,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Nc(c.latestValues)&&$h(o,c.latestValues)}return Nc(this.latestValues)&&$h(o,this.latestValues),o}removeTransform(a){const s=ii();ka(s,a);for(let o=0;o<this.path.length;o++){const l=this.path[o];if(!l.instance||!Nc(l.latestValues))continue;Dw(l.latestValues)&&l.updateSnapshot();const c=ii(),h=l.measurePageBox();ka(c,h),eI(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Nc(this.latestValues)&&eI(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var a;const s=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty),!((this.resumingFrom||this!==s)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:o,layoutId:l}=this.options;if(!(!this.layout||!(o||l))){if(!this.targetDelta&&!this.relativeTarget){const c=this.getClosestProjectingParent();c&&c.layout?(this.relativeParent=c,this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),Lf(this.relativeTargetOrigin,this.layout.layoutBox,c.layout.layoutBox),ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ii(),this.targetWithTransforms=ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?lQ(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ka(this.target,this.layout.layoutBox),sU(this.target,this.targetDelta)):ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const c=this.getClosestProjectingParent();c&&!!c.resumingFrom==!!this.resumingFrom&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),Lf(this.relativeTargetOrigin,this.target,c.target),ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Uc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Dw(this.parent.latestValues)||aU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;ka(this.layoutCorrected,this.layout.layoutBox),vQ(this.layoutCorrected,this.treeScale,this.path,o);const{target:p}=s;if(!p)return;this.projectionDelta||(this.projectionDelta=Ff(),this.projectionDeltaWithTransform=Ff());const f=this.treeScale.x,m=this.treeScale.y,g=this.projectionTransform;Df(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=iI(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Uc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,s=!1){const o=this.snapshot,l=o?o.latestValues:{},c={...this.latestValues},h=Ff();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=ii(),f=o?o.source:void 0,m=this.layout?this.layout.source:void 0,g=f!==m,x=this.getStack(),_=!x||x.members.length<=1,v=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some(r$));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const w=A/1e3;lI(h.x,a.x,w),lI(h.y,a.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t$(this.relativeTarget,this.relativeTargetOrigin,p,w),b&&kw(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ii()),ka(b,this.relativeTarget)),g&&(this.animationValues=c,LQ(c,l,this.latestValues,w,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{Pf.hasAnimatedSinceResize=!0,this.currentAnimation=IQ(0,aI,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:o,layout:l,latestValues:c}=a;if(!(!s||!o||!l)){if(this!==a&&this.layout&&l&&fU(this.options.animationType,this.layout.layoutBox,l.layoutBox)){o=this.target||ii();const h=_a(this.layout.layoutBox.x);o.x.min=a.target.x.min,o.x.max=o.x.min+h;const p=_a(this.layout.layoutBox.y);o.y.min=a.target.y.min,o.y.max=o.y.min+p}ka(s,o),$h(s,c),Df(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new zQ),this.sharedNodes.get(a).add(s);const o=s.options.initialPromotionConfig;s.promote({transition:o?o.transition:void 0,preserveFollowOpacity:o&&o.shouldPreserveFollowOpacity?o.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:o}={}){const l=this.getStack();l&&l.promote(this,o),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:o}=a;if((o.rotate||o.rotateX||o.rotateY||o.rotateZ)&&(s=!0),!s)return;const l={};for(let c=0;c<nI.length;c++){const h="rotate"+nI[c];o[h]&&(l[h]=o[h],a.setStaticValue(h,0))}a.render();for(const c in l)a.setStaticValue(c,l[c]);a.scheduleRender()}getProjectionStyles(a={}){var s,o;const l={};if(!this.instance||this.isSVG)return l;if(this.isVisible)l.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Yv(a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Yv(a.pointerEvents)||""),this.hasProjected&&!Nc(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=iI(this.projectionDeltaWithTransform,this.treeScale,p),c&&(l.transform=c(p,l.transform));const{x:f,y:m}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(o=(s=p.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in y1){if(p[g]===void 0)continue;const{correct:x,applyTo:_}=y1[g],v=l.transform==="none"?p[g]:x(p[g],h);if(_){const b=_.length;for(let A=0;A<b;A++)l[_[A]]=v}else l[g]=v}return this.options.layoutId&&(l.pointerEvents=h===this?Yv(a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(sI),this.root.sharedNodes.clear()}}}function WQ(r){r.updateLayout()}function XQ(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:n}=r.layout,{animationType:a}=r.options,s=t.source!==r.layout.source;a==="size"?Fs(p=>{const f=s?t.measuredBox[p]:t.layoutBox[p],m=_a(f);f.min=i[p].min,f.max=f.min+m}):fU(a,t.layoutBox,i)&&Fs(p=>{const f=s?t.measuredBox[p]:t.layoutBox[p],m=_a(i[p]);f.max=f.min+m});const o=Ff();Df(o,i,t.layoutBox);const l=Ff();s?Df(l,r.applyTransform(n,!0),t.measuredBox):Df(l,i,t.layoutBox);const c=!dU(o);let h=!1;if(!r.resumeFrom){const p=r.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:m}=p;if(f&&m){const g=ii();Lf(g,t.layoutBox,f.layoutBox);const x=ii();Lf(x,i,m.layoutBox),kw(g,x)||(h=!0),p.options.layoutRoot&&(r.relativeTarget=x,r.relativeTargetOrigin=g,r.relativeParent=p)}}}r.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(r.isLead()){const{onExitComplete:i}=r.options;i&&i()}r.options.transition=void 0}function JQ(r){Uc.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function YQ(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function qQ(r){r.clearSnapshot()}function sI(r){r.clearMeasurements()}function KQ(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function oI(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0}function ZQ(r){r.resolveTargetDelta()}function QQ(r){r.calcProjection()}function $Q(r){r.resetRotation()}function e$(r){r.removeLeadSnapshot()}function lI(r,e,t){r.translate=Lr(e.translate,0,t),r.scale=Lr(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function cI(r,e,t,i){r.min=Lr(e.min,t.min,i),r.max=Lr(e.max,t.max,i)}function t$(r,e,t,i){cI(r.x,e.x,t.x,i),cI(r.y,e.y,t.y,i)}function r$(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const i$={duration:.45,ease:[.4,0,.1,1]};function n$(r,e){let t=r.root;for(let n=r.path.length-1;n>=0;n--)if(r.path[n].instance){t=r.path[n];break}const i=(t&&t!==r.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&r.mount(i,!0)}function uI(r){r.min=Math.round(r.min),r.max=Math.round(r.max)}function a$(r){uI(r.x),uI(r.y)}function fU(r,e,t){return r==="position"||r==="preserve-aspect"&&!Bw(rI(e),rI(t),.2)}const s$=pU({attachResizeListener:(r,e)=>To(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),GA={current:void 0},mU=pU({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!GA.current){const r=new s$(0,{});r.mount(window),r.setOptions({layoutScroll:!0}),GA.current=r}return GA.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),o$={pan:{Feature:MQ},drag:{Feature:wQ,ProjectionNode:mU,MeasureLayout:cU}},l$=new Set(["width","height","top","left","right","bottom","x","y"]),gU=r=>l$.has(r),c$=r=>Object.keys(r).some(gU),hI=r=>r===Wu||r===St,dI=(r,e)=>parseFloat(r.split(", ")[e]),pI=(r,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const n=i.match(/^matrix3d\((.+)\)$/);if(n)return dI(n[1],e);{const a=i.match(/^matrix\((.+)\)$/);return a?dI(a[1],r):0}},u$=new Set(["x","y","z"]),h$=H_.filter(r=>!u$.has(r));function d$(r){const e=[];return h$.forEach(t=>{const i=r.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&r.render(),e}const fI={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:pI(4,13),y:pI(5,14)},p$=(r,e,t)=>{const i=e.measureViewportBox(),n=e.current,a=getComputedStyle(n),{display:s}=a,o={};s==="none"&&e.setStaticValue("display",r.display||"block"),t.forEach(c=>{o[c]=fI[c](i,a)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const h=e.getValue(c);h&&h.jump(o[c]),r[c]=fI[c](l,a)}),r},f$=(r,e,t={},i={})=>{e={...e},i={...i};const n=Object.keys(e).filter(gU);let a=[],s=!1;const o=[];if(n.forEach(l=>{const c=r.getValue(l);if(!r.hasValue(l))return;let h=t[l],p=jp(h);const f=e[l];let m;if(x1(f)){const g=f.length,x=f[0]===null?1:0;h=f[x],p=jp(h);for(let _=x;_<g;_++)m?S1(jp(f[_])===m):m=jp(f[_])}else m=jp(f);if(p!==m)if(hI(p)&&hI(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===St&&(e[l]=f.map(parseFloat))}else p!=null&&p.transform&&m!=null&&m.transform&&(h===0||f===0)?h===0?c.set(m.transform(h)):e[l]=p.transform(f):(s||(a=d$(r),s=!0),o.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=p$(e,r,o);return a.length&&a.forEach(([h,p])=>{r.getValue(h).set(p)}),r.render(),U_&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function m$(r,e,t,i){return c$(e)?f$(r,e,t,i):{target:e,transitionEnd:i}}const g$=(r,e,t,i)=>{const n=TQ(r,e,i);return e=n.target,i=n.transitionEnd,m$(r,e,t,i)},Ow={current:null},vU={current:!1};function v$(){if(vU.current=!0,!!U_)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ow.current=r.matches;r.addListener(e),e()}else Ow.current=!1}function y$(r,e,t){const{willChange:i}=e;for(const n in e){const a=e[n],s=t[n];if(Yn(a))r.addValue(n,a),A1(i)&&i.add(n);else if(Yn(s))r.addValue(n,Fd(a,{owner:r})),A1(i)&&i.remove(n);else if(s!==a)if(r.hasValue(n)){const o=r.getValue(n);!o.hasAnimated&&o.set(a)}else{const o=r.getStaticValue(n);r.addValue(n,Fd(o!==void 0?o:a,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const yU=Object.keys(Mm),_$=yU.length,mI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],x$=pC.length;class b${constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:n,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=s,this.isControllingVariants=G_(t),this.isVariantNode=lN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{});for(const p in h){const f=h[p];o[p]!==void 0&&Yn(f)&&(f.set(o[p],!1),A1(c)&&c.add(p))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),vU.current||v$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ow.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xl.update(this.notifyUpdate),Xl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=ju.has(e),n=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&wn.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{n(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,n,a,s){let o,l;for(let c=0;c<_$;c++){const h=yU[c],{isEnabled:p,Feature:f,ProjectionNode:m,MeasureLayout:g}=Mm[h];m&&(o=m),p(t)&&(!this.features[h]&&f&&(this.features[h]=new f(this)),g&&(l=g))}if(!this.projection&&o){this.projection=new o(a,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:h,drag:p,dragConstraints:f,layoutScroll:m,layoutRoot:g}=t;this.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!p||f&&Zh(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ii()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<mI.length;i++){const n=mI[i];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a=e["on"+n];a&&(this.propEventSubscriptions[n]=this.on(n,a))}this.prevMotionValues=y$(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<x$;i++){const n=pC[i],a=this.props[n];(wm(a)||a===!1)&&(t[n]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Fd(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,n=typeof i=="string"||typeof i=="object"?(t=bC(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yn(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new wC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _U extends b${sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:n},a){let s=jK(i,e||{},this);if(n&&(t&&(t=n(t)),i&&(i=n(i)),s&&(s=n(s))),a){HK(this,i,s);const o=g$(this,i,s,t);t=o.transitionEnd,i=o.target}return{transition:e,transitionEnd:t,...i}}}function A$(r){return window.getComputedStyle(r)}class S$ extends _U{readValueFromInstance(e,t){if(ju.has(t)){const i=CC(t);return i&&i.default||0}else{const i=A$(e),n=(fN(t)?i.getPropertyValue(t):i[t])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return oU(e,t)}build(e,t,i,n){mC(e,t,i,n.transformTemplate)}scrapeMotionValuesFromProps(e,t){return xC(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,n){_N(e,t,i,n)}}class w$ extends _U{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ju.has(t)){const i=CC(t);return i&&i.default||0}return t=xN.has(t)?t:_C(t),e.getAttribute(t)}measureInstanceViewportBox(){return ii()}scrapeMotionValuesFromProps(e,t){return AN(e,t)}build(e,t,i,n){vC(e,t,i,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,i,n){bN(e,t,i,n)}mount(e){this.isSVGTag=yC(e.tagName),super.mount(e)}}const M$=(r,e)=>fC(r)?new w$(e,{enableHardwareAcceleration:!1}):new S$(e,{enableHardwareAcceleration:!0}),E$={layout:{ProjectionNode:mU,MeasureLayout:cU}},C$={...nQ,...gK,...o$,...E$},Rm=Rq((r,e)=>iK(r,e,C$,M$)),Bi={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},T$=()=>At("section",{className:"relative w-full h-screen mx-auto",children:[At("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${Bi.paddingX} flex flex-row items-start gap-5`,children:[At("div",{className:"flex flex-col justify-center items-center mt-28 md:mt-5 lg:5",children:[he("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),he("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),At("div",{className:"mt-28 md:mt-5 lg:5",children:[At("h1",{className:`${Bi.heroHeadText} text-white`,children:["Hi, I'm ",he("span",{className:"text-[#915EFF]",children:"Adam"})]}),At("p",{className:`${Bi.heroSubText} mt-2 text-white-100`,children:["I develop modern, user ",he("br",{}),"interfaces and web applications"]})]})]}),he(lq,{}),he("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:he("a",{href:"#about",children:he("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:he(Rm.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),R$="/assets/logo-42453a0a.jpg",P$="/assets/backend-565fc01f.png",B$="/assets/creator-dbbffaec.png",I$="/assets/mobile-896ef2f5.png",D$="/assets/web-0d05165f.png",L$="/assets/github-3b4e1609.png",F$="/assets/menu-b5599218.svg",k$="/assets/close-54702a70.svg",O$="/assets/gsap-e19a1565.png",N$="/assets/framer-d9a31b62.png",U$="/assets/css-79a7f026.png",z$="/assets/figma-184a11e6.png",G$="/assets/gearXpert-ada971ce.png",H$="/assets/project3-48d0cc9f.webp",V$="/assets/proj1-c82f3cee.webp",j$="/assets/mysql-bc523966.png",W$="/assets/express-612b36c0.png",X$="/assets/aws-048c56c4.png",J$="/assets/mui-87d5051f.png",Y$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",q$="/assets/html-92b76a73.png",K$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",Z$="/assets/mongodb-54000b2b.png",Q$="/assets/nodejs-d83eb6dd.png",$$="/assets/reactjs-966214a8.png",eee="/assets/redux-171787ca.png",tee="/assets/tailwind-6ece120d.png",ree="/assets/threejs-fe1b0909.svg",iee="/assets/Tars Ken-495a1702.webp",nee="/assets/image-dd9b879a.webp",aee="/assets/third testimonial-d3850d5a.webp",see="/assets/tekisky-ad78f5ba.png",gI=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],oee=[{title:"Full-Stack Developer",icon:D$},{title:"Frontend Developer",icon:I$},{title:"Backend Developer",icon:P$},{title:"Ui UX Designer",icon:B$}],lee=[{name:"HTML 5",icon:q$},{name:"CSS 3",icon:U$},{name:"JavaScript",icon:K$},{name:"React JS",icon:$$},{name:"gsap",icon:O$},{name:"framer",icon:N$},{name:"Three JS",icon:ree},{name:"figma",icon:z$},{name:"Redux Toolkit",icon:eee},{name:"Tailwind CSS",icon:tee},{name:"Material Ui",icon:J$},{name:"Node JS",icon:Q$},{name:"Express Js",icon:W$},{name:"AWS",icon:X$},{name:"MongoDB",icon:Z$},{name:"MySql",icon:j$},{name:"git",icon:Y$}],cee=[{title:"Full-Stack Developer",company_name:"Tekisky",icon:see,iconBg:"#383E56",date:"Jan 2023 - present",points:["Developing and maintaining web applications using MERN technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]}],uee=[{testimonial:"I thought it was impossible to make a website as beautiful as our product, but Adam proved me wrong.",name:"MD Mustaqeem",designation:"Ecommerce",company:"QuickMart",image:iee},{testimonial:"I've never met a web developer who truly cares about their clients' success like Adam does.",name:"Abdul Raheman",designation:"Ecommerce Business",company:"justbuyz",image:nee},{testimonial:"After Adam optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"James Wang",designation:"CTO",company:"456 Enterprises",image:aee}],hee=[{name:"Tekisky Mart",description:"Tekisky Mart is a web-based platform that allows users to search, explore, and purchase a wide range of products from various providers, offering a seamless and efficient shopping experience.",tags:[{name:"react",color:"blue-text-gradient"},{name:"tailwind",color:"white-text-gradient"},{name:"node",color:"pink-text-gradient"},{name:"mongodb",color:"green-text-gradient"}],image:V$,source_code_link:"https://github.com/"},{name:"GearXpert",description:"GearXpert is your ultimate destination for premium auto parts and accessories, Whether you're an automobile enthusiast or a professional, find everything you need to upgrade, repair.",tags:[{name:"react",color:"blue-text-gradient"},{name:"emailJs",color:"green-text-gradient"},{name:"Gsap",color:"pink-text-gradient"}],image:G$,source_code_link:"https://github.com/"},{name:"GoGroove-Ecommerce",description:"Go-Groove is your ultimate destination for premium products across various categories. Whether you're a savvy shopper or a professional, enhance, and simplify your lifestyleall in one place!",tags:[{name:"react",color:"blue-text-gradient"},{name:"express",color:"white-text-gradient"},{name:"node",color:"green-text-gradient"},{name:"mongodb",color:"green-text-gradient"}],image:H$,source_code_link:"https://github.com/"}],dee=()=>{const[r,e]=W.useState(""),[t,i]=W.useState(!1),[n,a]=W.useState(!1);return W.useEffect(()=>{const s=()=>{window.scrollY>100?a(!0):a(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),he("nav",{className:`${Bi.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${n?"bg-primary":"bg-transparent"}`,children:At("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[At(jH,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[he("img",{src:R$,alt:"logo",className:"w-9 h-9 object-contain"}),At("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["Adam ",he("span",{className:"sm:block hidden",children:" | Ainfiniti"})]})]}),he("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:gI.map(s=>he("li",{className:`${r===s.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(s.title),children:he("a",{href:`#${s.id}`,children:s.title})},s.id))}),At("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[he("img",{src:t?k$:F$,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!t)}),he("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:he("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:gI.map(s=>he("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${r===s.title?"text-white":"text-secondary"}`,onClick:()=>{i(!t),e(s.title)},children:he("a",{href:`#${s.id}`,children:s.title})},s.id))})})]})]})})};var pee=Object.defineProperty,fee=Object.defineProperties,mee=Object.getOwnPropertyDescriptors,vI=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty,vee=Object.prototype.propertyIsEnumerable,yI=(r,e,t)=>e in r?pee(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xp=(r,e)=>{for(var t in e||(e={}))gee.call(e,t)&&yI(r,t,e[t]);if(vI)for(var t of vI(e))vee.call(e,t)&&yI(r,t,e[t]);return r},Jp=(r,e)=>fee(r,mee(e)),xU=class extends W.Component{constructor(r){super(r),this.ref=bn.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(r=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:Jp(Xp({},this.state.style),{willChange:"transform"})})),this.setTransition(),r(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:Jp(Xp({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(r=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),r(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:Jp(Xp({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:Jp(Xp({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(r=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),r(e)}getValues(r){const e=(r.nativeEvent.clientX-this.left)/this.width,t=(r.nativeEvent.clientY-this.top)/this.height,i=Math.min(Math.max(e,0),1),n=Math.min(Math.max(t,0),1),a=(this.reverse*(this.settings.max/2-i*this.settings.max)).toFixed(2),s=(this.reverse*(n*this.settings.max-this.settings.max/2)).toFixed(2),o=i*100,l=n*100;return{tiltX:a,tiltY:s,percentageX:o,percentageY:l}}updateElementPosition(){const r=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=r.left,this.top=r.top}update(r){const e=this.getValues(r);this.setState(Object.assign({},this.state,{style:Jp(Xp({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const r=Object.assign({},this.props.style,this.state.style);return he("div",{style:r,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};function vo(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bU(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ma={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},kd={duration:.5,overwrite:!1,delay:0},kC,Fi,Cr,Ja=1e8,fr=1/Ja,Nw=Math.PI*2,yee=Nw/4,_ee=0,AU=Math.sqrt,xee=Math.cos,bee=Math.sin,Ci=function(r){return typeof r=="string"},Hr=function(r){return typeof r=="function"},Wo=function(r){return typeof r=="number"},OC=function(r){return typeof r>"u"},Qs=function(r){return typeof r=="object"},jn=function(r){return r!==!1},NC=function(){return typeof window<"u"},_v=function(r){return Hr(r)||Ci(r)},SU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},rn=Array.isArray,Uw=/(?:-?\.?\d|\.)+/gi,wU=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ed=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,HA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,MU=/[+-]=-?[.\d]+/,EU=/[^,'"\[\]\s]+/gi,Aee=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ir,ks,zw,UC,xa={},E1={},CU,TU=function(r){return(E1=Od(r,xa))&&qn},zC=function(r,e){return console.warn("Invalid property",r,"set to",e,"Missing plugin? gsap.registerPlugin()")},Pm=function(r,e){return!e&&console.warn(r)},RU=function(r,e){return r&&(xa[r]=e)&&E1&&(E1[r]=e)||xa},Bm=function(){return 0},See={suppressEvents:!0,isStart:!0,kill:!1},Kv={suppressEvents:!0,kill:!1},wee={suppressEvents:!0},GC={},Nl=[],Gw={},PU,aa={},VA={},_I=30,Zv=[],HC="",VC=function(r){var e=r[0],t,i;if(Qs(e)||Hr(e)||(r=[r]),!(t=(e._gsap||{}).harness)){for(i=Zv.length;i--&&!Zv[i].targetTest(e););t=Zv[i]}for(i=r.length;i--;)r[i]&&(r[i]._gsap||(r[i]._gsap=new ez(r[i],t)))||r.splice(i,1);return r},du=function(r){return r._gsap||VC(Ya(r))[0]._gsap},BU=function(r,e,t){return(t=r[e])&&Hr(t)?r[e]():OC(t)&&r.getAttribute&&r.getAttribute(e)||t},Wn=function(r,e){return(r=r.split(",")).forEach(e)||r},Jr=function(r){return Math.round(r*1e5)/1e5||0},si=function(r){return Math.round(r*1e7)/1e7||0},pd=function(r,e){var t=e.charAt(0),i=parseFloat(e.substr(2));return r=parseFloat(r),t==="+"?r+i:t==="-"?r-i:t==="*"?r*i:r/i},Mee=function(r,e){for(var t=e.length,i=0;r.indexOf(e[i])<0&&++i<t;);return i<t},C1=function(){var r=Nl.length,e=Nl.slice(0),t,i;for(Gw={},Nl.length=0,t=0;t<r;t++)i=e[t],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},IU=function(r,e,t,i){Nl.length&&!Fi&&C1(),r.render(e,t,i||Fi&&e<0&&(r._initted||r._startAt)),Nl.length&&!Fi&&C1()},DU=function(r){var e=parseFloat(r);return(e||e===0)&&(r+"").match(EU).length<2?e:Ci(r)?r.trim():r},LU=function(r){return r},ba=function(r,e){for(var t in e)t in r||(r[t]=e[t]);return r},Eee=function(r){return function(e,t){for(var i in t)i in e||i==="duration"&&r||i==="ease"||(e[i]=t[i])}},Od=function(r,e){for(var t in e)r[t]=e[t];return r},xI=function r(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Qs(t[i])?r(e[i]||(e[i]={}),t[i]):t[i]);return e},T1=function(r,e){var t={},i;for(i in r)i in e||(t[i]=r[i]);return t},kf=function(r){var e=r.parent||Ir,t=r.keyframes?Eee(rn(r.keyframes)):ba;if(jn(r.inherit))for(;e;)t(r,e.vars.defaults),e=e.parent||e._dp;return r},Cee=function(r,e){for(var t=r.length,i=t===e.length;i&&t--&&r[t]===e[t];);return t<0},FU=function(r,e,t,i,n){t===void 0&&(t="_first"),i===void 0&&(i="_last");var a=r[i],s;if(n)for(s=e[n];a&&a[n]>s;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=r[t],r[t]=e),e._next?e._next._prev=e:r[i]=e,e._prev=a,e.parent=e._dp=r,e},X_=function(r,e,t,i){t===void 0&&(t="_first"),i===void 0&&(i="_last");var n=e._prev,a=e._next;n?n._next=a:r[t]===e&&(r[t]=a),a?a._prev=n:r[i]===e&&(r[i]=n),e._next=e._prev=e.parent=null},Yl=function(r,e){r.parent&&(!e||r.parent.autoRemoveChildren)&&r.parent.remove&&r.parent.remove(r),r._act=0},pu=function(r,e){if(r&&(!e||e._end>r._dur||e._start<0))for(var t=r;t;)t._dirty=1,t=t.parent;return r},Tee=function(r){for(var e=r.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return r},Hw=function(r,e,t,i){return r._startAt&&(Fi?r._startAt.revert(Kv):r.vars.immediateRender&&!r.vars.autoRevert||r._startAt.render(e,!0,i))},Ree=function r(e){return!e||e._ts&&r(e.parent)},bI=function(r){return r._repeat?Nd(r._tTime,r=r.duration()+r._rDelay)*r:0},Nd=function(r,e){var t=Math.floor(r=si(r/e));return r&&t===r?t-1:t},R1=function(r,e){return(r-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},J_=function(r){return r._end=si(r._start+(r._tDur/Math.abs(r._ts||r._rts||fr)||0))},Y_=function(r,e){var t=r._dp;return t&&t.smoothChildTiming&&r._ts&&(r._start=si(t._time-(r._ts>0?e/r._ts:((r._dirty?r.totalDuration():r._tDur)-e)/-r._ts)),J_(r),t._dirty||pu(t,r)),r},kU=function(r,e){var t;if((e._time||!e._dur&&e._initted||e._start<r._time&&(e._dur||!e.add))&&(t=R1(r.rawTime(),e),(!e._dur||dg(0,e.totalDuration(),t)-e._tTime>fr)&&e.render(t,!0)),pu(r,e)._dp&&r._initted&&r._time>=r._dur&&r._ts){if(r._dur<r.duration())for(t=r;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;r._zTime=-fr}},Us=function(r,e,t,i){return e.parent&&Yl(e),e._start=si((Wo(t)?t:t||r!==Ir?Oa(r,t,e):r._time)+e._delay),e._end=si(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),FU(r,e,"_first","_last",r._sort?"_start":0),Vw(e)||(r._recent=e),i||kU(r,e),r._ts<0&&Y_(r,r._tTime),r},OU=function(r,e){return(xa.ScrollTrigger||zC("scrollTrigger",e))&&xa.ScrollTrigger.create(e,r)},NU=function(r,e,t,i,n){if(WC(r,e,n),!r._initted)return 1;if(!t&&r._pt&&!Fi&&(r._dur&&r.vars.lazy!==!1||!r._dur&&r.vars.lazy)&&PU!==oa.frame)return Nl.push(r),r._lazy=[n,i],1},Pee=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},Vw=function(r){var e=r.data;return e==="isFromStart"||e==="isStart"},Bee=function(r,e,t,i){var n=r.ratio,a=e<0||!e&&(!r._start&&Pee(r)&&!(!r._initted&&Vw(r))||(r._ts<0||r._dp._ts<0)&&!Vw(r))?0:1,s=r._rDelay,o=0,l,c,h;if(s&&r._repeat&&(o=dg(0,r._tDur,e),c=Nd(o,s),r._yoyo&&c&1&&(a=1-a),c!==Nd(r._tTime,s)&&(n=1-a,r.vars.repeatRefresh&&r._initted&&r.invalidate())),a!==n||Fi||i||r._zTime===fr||!e&&r._zTime){if(!r._initted&&NU(r,e,i,t,o))return;for(h=r._zTime,r._zTime=e||(t?fr:0),t||(t=e&&!h),r.ratio=a,r._from&&(a=1-a),r._time=0,r._tTime=o,l=r._pt;l;)l.r(a,l.d),l=l._next;e<0&&Hw(r,e,t,!0),r._onUpdate&&!t&&da(r,"onUpdate"),o&&r._repeat&&!t&&r.parent&&da(r,"onRepeat"),(e>=r._tDur||e<0)&&r.ratio===a&&(a&&Yl(r,1),!t&&!Fi&&(da(r,a?"onComplete":"onReverseComplete",!0),r._prom&&r._prom()))}else r._zTime||(r._zTime=e)},Iee=function(r,e,t){var i;if(t>e)for(i=r._first;i&&i._start<=t;){if(i.data==="isPause"&&i._start>e)return i;i=i._next}else for(i=r._last;i&&i._start>=t;){if(i.data==="isPause"&&i._start<e)return i;i=i._prev}},Ud=function(r,e,t,i){var n=r._repeat,a=si(e)||0,s=r._tTime/r._tDur;return s&&!i&&(r._time*=a/r._dur),r._dur=a,r._tDur=n?n<0?1e10:si(a*(n+1)+r._rDelay*n):a,s>0&&!i&&Y_(r,r._tTime=r._tDur*s),r.parent&&J_(r),t||pu(r.parent,r),r},AI=function(r){return r instanceof _n?pu(r):Ud(r,r._dur)},Dee={_start:0,endTime:Bm,totalDuration:Bm},Oa=function r(e,t,i){var n=e.labels,a=e._recent||Dee,s=e.duration()>=Ja?a.endTime(!1):e._dur,o,l,c;return Ci(t)&&(isNaN(t)||t in n)?(l=t.charAt(0),c=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(o<0?a:i).totalDuration()/100:1)):o<0?(t in n||(n[t]=s),n[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),c&&i&&(l=l/100*(rn(i)?i[0]:i).totalDuration()),o>1?r(e,t.substr(0,o-1),i)+l:s+l)):t==null?s:+t},Of=function(r,e,t){var i=Wo(e[1]),n=(i?2:1)+(r<2?0:1),a=e[n],s,o;if(i&&(a.duration=e[1]),a.parent=t,r){for(s=a,o=t;o&&!("immediateRender"in s);)s=o.vars.defaults||{},o=jn(o.vars.inherit)&&o.parent;a.immediateRender=jn(s.immediateRender),r<2?a.runBackwards=1:a.startAt=e[n-1]}return new ai(e[0],a,e[n+1])},nc=function(r,e){return r||r===0?e(r):e},dg=function(r,e,t){return t<r?r:t>e?e:t},Qi=function(r,e){return!Ci(r)||!(e=Aee.exec(r))?"":e[1]},Lee=function(r,e,t){return nc(t,function(i){return dg(r,e,i)})},jw=[].slice,UU=function(r,e){return r&&Qs(r)&&"length"in r&&(!e&&!r.length||r.length-1 in r&&Qs(r[0]))&&!r.nodeType&&r!==ks},Fee=function(r,e,t){return t===void 0&&(t=[]),r.forEach(function(i){var n;return Ci(i)&&!e||UU(i,1)?(n=t).push.apply(n,Ya(i)):t.push(i)})||t},Ya=function(r,e,t){return Cr&&!e&&Cr.selector?Cr.selector(r):Ci(r)&&!t&&(zw||!zd())?jw.call((e||UC).querySelectorAll(r),0):rn(r)?Fee(r,t):UU(r)?jw.call(r,0):r?[r]:[]},Ww=function(r){return r=Ya(r)[0]||Pm("Invalid scope")||{},function(e){var t=r.current||r.nativeElement||r;return Ya(e,t.querySelectorAll?t:t===r?Pm("Invalid scope")||UC.createElement("div"):r)}},zU=function(r){return r.sort(function(){return .5-Math.random()})},GU=function(r){if(Hr(r))return r;var e=Qs(r)?r:{each:r},t=fu(e.ease),i=e.from||0,n=parseFloat(e.base)||0,a={},s=i>0&&i<1,o=isNaN(i)||s,l=e.axis,c=i,h=i;return Ci(i)?c=h={center:.5,edges:.5,end:1}[i]||0:!s&&o&&(c=i[0],h=i[1]),function(p,f,m){var g=(m||e).length,x=a[g],_,v,b,A,w,T,E,B,I;if(!x){if(I=e.grid==="auto"?0:(e.grid||[1,Ja])[1],!I){for(E=-Ja;E<(E=m[I++].getBoundingClientRect().left)&&I<g;);I<g&&I--}for(x=a[g]=[],_=o?Math.min(I,g)*c-.5:i%I,v=I===Ja?0:o?g*h/I-.5:i/I|0,E=0,B=Ja,T=0;T<g;T++)b=T%I-_,A=v-(T/I|0),x[T]=w=l?Math.abs(l==="y"?A:b):AU(b*b+A*A),w>E&&(E=w),w<B&&(B=w);i==="random"&&zU(x),x.max=E-B,x.min=B,x.v=g=(parseFloat(e.amount)||parseFloat(e.each)*(I>g?g-1:l?l==="y"?g/I:I:Math.max(I,g/I))||0)*(i==="edges"?-1:1),x.b=g<0?n-g:n,x.u=Qi(e.amount||e.each)||0,t=t&&g<0?ZU(t):t}return g=(x[p]-x.min)/x.max||0,si(x.b+(t?t(g):g)*x.v)+x.u}},Xw=function(r){var e=Math.pow(10,((r+"").split(".")[1]||"").length);return function(t){var i=si(Math.round(parseFloat(t)/r)*r*e);return(i-i%1)/e+(Wo(t)?0:Qi(t))}},HU=function(r,e){var t=rn(r),i,n;return!t&&Qs(r)&&(i=t=r.radius||Ja,r.values?(r=Ya(r.values),(n=!Wo(r[0]))&&(i*=i)):r=Xw(r.increment)),nc(e,t?Hr(r)?function(a){return n=r(a),Math.abs(n-a)<=i?n:a}:function(a){for(var s=parseFloat(n?a.x:a),o=parseFloat(n?a.y:0),l=Ja,c=0,h=r.length,p,f;h--;)n?(p=r[h].x-s,f=r[h].y-o,p=p*p+f*f):p=Math.abs(r[h]-s),p<l&&(l=p,c=h);return c=!i||l<=i?r[c]:a,n||c===a||Wo(a)?c:c+Qi(a)}:Xw(r))},VU=function(r,e,t,i){return nc(rn(r)?!e:t===!0?!!(t=0):!i,function(){return rn(r)?r[~~(Math.random()*r.length)]:(t=t||1e-5)&&(i=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((r-t/2+Math.random()*(e-r+t*.99))/t)*t*i)/i})},kee=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(i){return e.reduce(function(n,a){return a(n)},i)}},Oee=function(r,e){return function(t){return r(parseFloat(t))+(e||Qi(t))}},Nee=function(r,e,t){return WU(r,e,0,1,t)},jU=function(r,e,t){return nc(t,function(i){return r[~~e(i)]})},Uee=function r(e,t,i){var n=t-e;return rn(e)?jU(e,r(0,e.length),t):nc(i,function(a){return(n+(a-e)%n)%n+e})},zee=function r(e,t,i){var n=t-e,a=n*2;return rn(e)?jU(e,r(0,e.length-1),t):nc(i,function(s){return s=(a+(s-e)%a)%a||0,e+(s>n?a-s:s)})},Im=function(r){for(var e=0,t="",i,n,a,s;~(i=r.indexOf("random(",e));)a=r.indexOf(")",i),s=r.charAt(i+7)==="[",n=r.substr(i+7,a-i-7).match(s?EU:Uw),t+=r.substr(e,i-e)+VU(s?n:+n[0],s?0:+n[1],+n[2]||1e-5),e=a+1;return t+r.substr(e,r.length-e)},WU=function(r,e,t,i,n){var a=e-r,s=i-t;return nc(n,function(o){return t+((o-r)/a*s||0)})},Gee=function r(e,t,i,n){var a=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!a){var s=Ci(e),o={},l,c,h,p,f;if(i===!0&&(n=1)&&(i=null),s)e={p:e},t={p:t};else if(rn(e)&&!rn(t)){for(h=[],p=e.length,f=p-2,c=1;c<p;c++)h.push(r(e[c-1],e[c]));p--,a=function(m){m*=p;var g=Math.min(f,~~m);return h[g](m-g)},i=t}else n||(e=Od(rn(e)?[]:{},e));if(!h){for(l in t)jC.call(o,e,l,"get",t[l]);a=function(m){return YC(m,o)||(s?e.p:e)}}}return nc(i,a)},SI=function(r,e,t){var i=r.labels,n=Ja,a,s,o;for(a in i)s=i[a]-e,s<0==!!t&&s&&n>(s=Math.abs(s))&&(o=a,n=s);return o},da=function(r,e,t){var i=r.vars,n=i[e],a=Cr,s=r._ctx,o,l,c;if(n)return o=i[e+"Params"],l=i.callbackScope||r,t&&Nl.length&&C1(),s&&(Cr=s),c=o?n.apply(l,o):n.call(l),Cr=a,c},af=function(r){return Yl(r),r.scrollTrigger&&r.scrollTrigger.kill(!!Fi),r.progress()<1&&da(r,"onInterrupt"),r},td,XU=[],JU=function(r){if(r)if(r=!r.name&&r.default||r,NC()||r.headless){var e=r.name,t=Hr(r),i=e&&!t&&r.init?function(){this._props=[]}:r,n={init:Bm,render:YC,add:jC,kill:ite,modifier:rte,rawVars:0},a={targetTest:0,get:0,getSetter:JC,aliases:{},register:0};if(zd(),r!==i){if(aa[e])return;ba(i,ba(T1(r,n),a)),Od(i.prototype,Od(n,T1(r,a))),aa[i.prop=e]=i,r.targetTest&&(Zv.push(i),GC[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}RU(e,i),r.register&&r.register(qn,i,Xn)}else XU.push(r)},pr=255,sf={aqua:[0,pr,pr],lime:[0,pr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,pr],navy:[0,0,128],white:[pr,pr,pr],olive:[128,128,0],yellow:[pr,pr,0],orange:[pr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[pr,0,0],pink:[pr,192,203],cyan:[0,pr,pr],transparent:[pr,pr,pr,0]},jA=function(r,e,t){return r+=r<0?1:r>1?-1:0,(r*6<1?e+(t-e)*r*6:r<.5?t:r*3<2?e+(t-e)*(2/3-r)*6:e)*pr+.5|0},YU=function(r,e,t){var i=r?Wo(r)?[r>>16,r>>8&pr,r&pr]:0:sf.black,n,a,s,o,l,c,h,p,f,m;if(!i){if(r.substr(-1)===","&&(r=r.substr(0,r.length-1)),sf[r])i=sf[r];else if(r.charAt(0)==="#"){if(r.length<6&&(n=r.charAt(1),a=r.charAt(2),s=r.charAt(3),r="#"+n+n+a+a+s+s+(r.length===5?r.charAt(4)+r.charAt(4):"")),r.length===9)return i=parseInt(r.substr(1,6),16),[i>>16,i>>8&pr,i&pr,parseInt(r.substr(7),16)/255];r=parseInt(r.substr(1),16),i=[r>>16,r>>8&pr,r&pr]}else if(r.substr(0,3)==="hsl"){if(i=m=r.match(Uw),!e)o=+i[0]%360/360,l=+i[1]/100,c=+i[2]/100,a=c<=.5?c*(l+1):c+l-c*l,n=c*2-a,i.length>3&&(i[3]*=1),i[0]=jA(o+1/3,n,a),i[1]=jA(o,n,a),i[2]=jA(o-1/3,n,a);else if(~r.indexOf("="))return i=r.match(wU),t&&i.length<4&&(i[3]=1),i}else i=r.match(Uw)||sf.transparent;i=i.map(Number)}return e&&!m&&(n=i[0]/pr,a=i[1]/pr,s=i[2]/pr,h=Math.max(n,a,s),p=Math.min(n,a,s),c=(h+p)/2,h===p?o=l=0:(f=h-p,l=c>.5?f/(2-h-p):f/(h+p),o=h===n?(a-s)/f+(a<s?6:0):h===a?(s-n)/f+2:(n-a)/f+4,o*=60),i[0]=~~(o+.5),i[1]=~~(l*100+.5),i[2]=~~(c*100+.5)),t&&i.length<4&&(i[3]=1),i},qU=function(r){var e=[],t=[],i=-1;return r.split(Ul).forEach(function(n){var a=n.match(ed)||[];e.push.apply(e,a),t.push(i+=a.length+1)}),e.c=t,e},wI=function(r,e,t){var i="",n=(r+i).match(Ul),a=e?"hsla(":"rgba(",s=0,o,l,c,h;if(!n)return r;if(n=n.map(function(p){return(p=YU(p,e,1))&&a+(e?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),t&&(c=qU(r),o=t.c,o.join(i)!==c.c.join(i)))for(l=r.replace(Ul,"1").split(ed),h=l.length-1;s<h;s++)i+=l[s]+(~o.indexOf(s)?n.shift()||a+"0,0,0,0)":(c.length?c:n.length?n:t).shift());if(!l)for(l=r.split(Ul),h=l.length-1;s<h;s++)i+=l[s]+n[s];return i+l[h]},Ul=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in sf)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),Hee=/hsl[a]?\(/,KU=function(r){var e=r.join(" "),t;if(Ul.lastIndex=0,Ul.test(e))return t=Hee.test(e),r[1]=wI(r[1],t),r[0]=wI(r[0],t,qU(r[1])),!0},Dm,oa=function(){var r=Date.now,e=500,t=33,i=r(),n=i,a=1e3/240,s=a,o=[],l,c,h,p,f,m,g=function x(_){var v=r()-n,b=_===!0,A,w,T,E;if((v>e||v<0)&&(i+=v-t),n+=v,T=n-i,A=T-s,(A>0||b)&&(E=++p.frame,f=T-p.time*1e3,p.time=T=T/1e3,s+=A+(A>=a?4:a-A),w=1),b||(l=c(x)),w)for(m=0;m<o.length;m++)o[m](T,f,E,_)};return p={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(x){return f/(1e3/(x||60))},wake:function(){CU&&(!zw&&NC()&&(ks=zw=window,UC=ks.document||{},xa.gsap=qn,(ks.gsapVersions||(ks.gsapVersions=[])).push(qn.version),TU(E1||ks.GreenSockGlobals||!ks.gsap&&ks||{}),XU.forEach(JU)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&p.sleep(),c=h||function(x){return setTimeout(x,s-p.time*1e3+1|0)},Dm=1,g(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),Dm=0,c=Bm},lagSmoothing:function(x,_){e=x||1/0,t=Math.min(_||33,e)},fps:function(x){a=1e3/(x||240),s=p.time*1e3+a},add:function(x,_,v){var b=_?function(A,w,T,E){x(A,w,T,E),p.remove(b)}:x;return p.remove(x),o[v?"unshift":"push"](b),zd(),b},remove:function(x,_){~(_=o.indexOf(x))&&o.splice(_,1)&&m>=_&&m--},_listeners:o},p}(),zd=function(){return!Dm&&oa.wake()},Jt={},Vee=/^[\d.\-M][\d.\-,\s]/,jee=/["']/g,Wee=function(r){for(var e={},t=r.substr(1,r.length-3).split(":"),i=t[0],n=1,a=t.length,s,o,l;n<a;n++)o=t[n],s=n!==a-1?o.lastIndexOf(","):o.length,l=o.substr(0,s),e[i]=isNaN(l)?l.replace(jee,"").trim():+l,i=o.substr(s+1).trim();return e},Xee=function(r){var e=r.indexOf("(")+1,t=r.indexOf(")"),i=r.indexOf("(",e);return r.substring(e,~i&&i<t?r.indexOf(")",t+1):t)},Jee=function(r){var e=(r+"").split("("),t=Jt[e[0]];return t&&e.length>1&&t.config?t.config.apply(null,~r.indexOf("{")?[Wee(e[1])]:Xee(r).split(",").map(DU)):Jt._CE&&Vee.test(r)?Jt._CE("",r):t},ZU=function(r){return function(e){return 1-r(1-e)}},QU=function r(e,t){for(var i=e._first,n;i;)i instanceof _n?r(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?r(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next},fu=function(r,e){return r&&(Hr(r)?r:Jt[r]||Jee(r))||e},Xu=function(r,e,t,i){t===void 0&&(t=function(s){return 1-e(1-s)}),i===void 0&&(i=function(s){return s<.5?e(s*2)/2:1-e((1-s)*2)/2});var n={easeIn:e,easeOut:t,easeInOut:i},a;return Wn(r,function(s){Jt[s]=xa[s]=n,Jt[a=s.toLowerCase()]=t;for(var o in n)Jt[a+(o==="easeIn"?".in":o==="easeOut"?".out":".inOut")]=Jt[s+"."+o]=n[o]}),n},$U=function(r){return function(e){return e<.5?(1-r(1-e*2))/2:.5+r((e-.5)*2)/2}},WA=function r(e,t,i){var n=t>=1?t:1,a=(i||(e?.3:.45))/(t<1?t:1),s=a/Nw*(Math.asin(1/n)||0),o=function(c){return c===1?1:n*Math.pow(2,-10*c)*bee((c-s)*a)+1},l=e==="out"?o:e==="in"?function(c){return 1-o(1-c)}:$U(o);return a=Nw/a,l.config=function(c,h){return r(e,c,h)},l},XA=function r(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},n=e==="out"?i:e==="in"?function(a){return 1-i(1-a)}:$U(i);return n.config=function(a){return r(e,a)},n};Wn("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Xu(r+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Jt.Linear.easeNone=Jt.none=Jt.Linear.easeIn;Xu("Elastic",WA("in"),WA("out"),WA());(function(r,e){var t=1/e,i=2*t,n=2.5*t,a=function(s){return s<t?r*s*s:s<i?r*Math.pow(s-1.5/e,2)+.75:s<n?r*(s-=2.25/e)*s+.9375:r*Math.pow(s-2.625/e,2)+.984375};Xu("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);Xu("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Xu("Circ",function(r){return-(AU(1-r*r)-1)});Xu("Sine",function(r){return r===1?1:-xee(r*yee)+1});Xu("Back",XA("in"),XA("out"),XA());Jt.SteppedEase=Jt.steps=xa.SteppedEase={config:function(r,e){r===void 0&&(r=1);var t=1/r,i=r+(e?0:1),n=e?1:0,a=1-fr;return function(s){return((i*dg(0,a,s)|0)+n)*t}}};kd.ease=Jt["quad.out"];Wn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return HC+=r+","+r+"Params,"});var ez=function(r,e){this.id=_ee++,r._gsap=this,this.target=r,this.harness=e,this.get=e?e.get:BU,this.set=e?e.getSetter:JC},Lm=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ud(this,+t.duration,1,1),this.data=t.data,Cr&&(this._ctx=Cr,Cr.data.push(this)),Dm||oa.wake()}var e=r.prototype;return e.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Ud(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,i){if(zd(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Y_(this,t),!n._dp||n.parent||kU(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Us(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===fr||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),IU(this,t,i)),this},e.time=function(t,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+bI(this))%(this._dur+this._rDelay)||(t?this._dur:0),i):this._time},e.totalProgress=function(t,i){return arguments.length?this.totalTime(this.totalDuration()*t,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+bI(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,i){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,i):this._repeat?Nd(this._tTime,n)+1:1},e.timeScale=function(t,i){if(!arguments.length)return this._rts===-fr?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?R1(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-fr?0:this._rts,this.totalTime(dg(-Math.abs(this._delay),this._tDur,n),i!==!1),J_(this),Tee(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(zd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==fr&&(this._tTime-=fr)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Us(i,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(jn(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var i=this.parent||this._dp;return i?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?R1(i.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){t===void 0&&(t=wee);var i=Fi;return Fi=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),Fi=i,this},e.globalTime=function(t){for(var i=this,n=arguments.length?t:i.rawTime();i;)n=i._start+n/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,AI(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var i=this._time;return this._rDelay=t,AI(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,i){return this.totalTime(Oa(this,t),jn(i))},e.restart=function(t,i){return this.play().totalTime(t?-this._delay:0,jn(i)),this._dur||(this._zTime=-fr),this},e.play=function(t,i){return t!=null&&this.seek(t,i),this.reversed(!1).paused(!1)},e.reverse=function(t,i){return t!=null&&this.seek(t||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(t,i){return t!=null&&this.seek(t,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-fr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-fr,this},e.isActive=function(){var t=this.parent||this._dp,i=this._start,n;return!!(!t||this._ts&&this._initted&&t.isActive()&&(n=t.rawTime(!0))>=i&&n<this.endTime(!0)-fr)},e.eventCallback=function(t,i,n){var a=this.vars;return arguments.length>1?(i?(a[t]=i,n&&(a[t+"Params"]=n),t==="onUpdate"&&(this._onUpdate=i)):delete a[t],this):a[t]},e.then=function(t){var i=this;return new Promise(function(n){var a=Hr(t)?t:LU,s=function(){var o=i.then;i.then=null,Hr(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=o),n(a),i.then=o};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?s():i._prom=s})},e.kill=function(){af(this)},r}();ba(Lm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-fr,_prom:0,_ps:!1,_rts:1});var _n=function(r){bU(e,r);function e(i,n){var a;return i===void 0&&(i={}),a=r.call(this,i)||this,a.labels={},a.smoothChildTiming=!!i.smoothChildTiming,a.autoRemoveChildren=!!i.autoRemoveChildren,a._sort=jn(i.sortChildren),Ir&&Us(i.parent||Ir,vo(a),n),i.reversed&&a.reverse(),i.paused&&a.paused(!0),i.scrollTrigger&&OU(vo(a),i.scrollTrigger),a}var t=e.prototype;return t.to=function(i,n,a){return Of(0,arguments,this),this},t.from=function(i,n,a){return Of(1,arguments,this),this},t.fromTo=function(i,n,a,s){return Of(2,arguments,this),this},t.set=function(i,n,a){return n.duration=0,n.parent=this,kf(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new ai(i,n,Oa(this,a),1),this},t.call=function(i,n,a){return Us(this,ai.delayedCall(0,i,n),a)},t.staggerTo=function(i,n,a,s,o,l,c){return a.duration=n,a.stagger=a.stagger||s,a.onComplete=l,a.onCompleteParams=c,a.parent=this,new ai(i,a,Oa(this,o)),this},t.staggerFrom=function(i,n,a,s,o,l,c){return a.runBackwards=1,kf(a).immediateRender=jn(a.immediateRender),this.staggerTo(i,n,a,s,o,l,c)},t.staggerFromTo=function(i,n,a,s,o,l,c,h){return s.startAt=a,kf(s).immediateRender=jn(s.immediateRender),this.staggerTo(i,n,s,o,l,c,h)},t.render=function(i,n,a){var s=this._time,o=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=i<=0?0:si(i),h=this._zTime<0!=i<0&&(this._initted||!l),p,f,m,g,x,_,v,b,A,w,T,E;if(this!==Ir&&c>o&&i>=0&&(c=o),c!==this._tTime||a||h){if(s!==this._time&&l&&(c+=this._time-s,i+=this._time-s),p=c,A=this._start,b=this._ts,_=!b,h&&(l||(s=this._zTime),(i||!n)&&(this._zTime=i)),this._repeat){if(T=this._yoyo,x=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(x*100+i,n,a);if(p=si(c%x),c===o?(g=this._repeat,p=l):(w=si(c/x),g=~~w,g&&g===w&&(p=l,g--),p>l&&(p=l)),w=Nd(this._tTime,x),!s&&this._tTime&&w!==g&&this._tTime-w*x-this._dur<=0&&(w=g),T&&g&1&&(p=l-p,E=1),g!==w&&!this._lock){var B=T&&w&1,I=B===(T&&g&1);if(g<w&&(B=!B),s=B?0:c%l?l:c,this._lock=1,this.render(s||(E?0:si(g*x)),n,!l)._lock=0,this._tTime=c,!n&&this.parent&&da(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),s&&s!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,o=this._tDur,I&&(this._lock=2,s=B?l:-1e-4,this.render(s,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;QU(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=Iee(this,si(s),si(p)),v&&(c-=p-(p=v._start))),this._tTime=c,this._time=p,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,s=0),!s&&p&&!n&&!g&&(da(this,"onStart"),this._tTime!==c))return this;if(p>=s&&i>=0)for(f=this._first;f;){if(m=f._next,(f._act||p>=f._start)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,n,a);if(f.render(f._ts>0?(p-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(p-f._start)*f._ts,n,a),p!==this._time||!this._ts&&!_){v=0,m&&(c+=this._zTime=-fr);break}}f=m}else{f=this._last;for(var C=i<0?i:p;f;){if(m=f._prev,(f._act||C<=f._end)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,n,a);if(f.render(f._ts>0?(C-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(C-f._start)*f._ts,n,a||Fi&&(f._initted||f._startAt)),p!==this._time||!this._ts&&!_){v=0,m&&(c+=this._zTime=C?-fr:fr);break}}f=m}}if(v&&!n&&(this.pause(),v.render(p>=s?0:-fr)._zTime=p>=s?1:-1,this._ts))return this._start=A,J_(this),this.render(i,n,a);this._onUpdate&&!n&&da(this,"onUpdate",!0),(c===o&&this._tTime>=this.totalDuration()||!c&&s)&&(A===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(c===o&&this._ts>0||!c&&this._ts<0)&&Yl(this,1),!n&&!(i<0&&!s)&&(c||s||!o)&&(da(this,c===o&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<o&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,n){var a=this;if(Wo(n)||(n=Oa(this,n,i)),!(i instanceof Lm)){if(rn(i))return i.forEach(function(s){return a.add(s,n)}),this;if(Ci(i))return this.addLabel(i,n);if(Hr(i))i=ai.delayedCall(0,i);else return this}return this!==i?Us(this,i,n):this},t.getChildren=function(i,n,a,s){i===void 0&&(i=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),s===void 0&&(s=-Ja);for(var o=[],l=this._first;l;)l._start>=s&&(l instanceof ai?n&&o.push(l):(a&&o.push(l),i&&o.push.apply(o,l.getChildren(!0,n,a)))),l=l._next;return o},t.getById=function(i){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===i)return n[a]},t.remove=function(i){return Ci(i)?this.removeLabel(i):Hr(i)?this.killTweensOf(i):(i.parent===this&&X_(this,i),i===this._recent&&(this._recent=this._last),pu(this))},t.totalTime=function(i,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=si(oa.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,n),this._forcing=0,this):this._tTime},t.addLabel=function(i,n){return this.labels[i]=Oa(this,n),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,n,a){var s=ai.delayedCall(0,n||Bm,a);return s.data="isPause",this._hasPause=1,Us(this,s,Oa(this,i))},t.removePause=function(i){var n=this._first;for(i=Oa(this,i);n;)n._start===i&&n.data==="isPause"&&Yl(n),n=n._next},t.killTweensOf=function(i,n,a){for(var s=this.getTweensOf(i,a),o=s.length;o--;)Sl!==s[o]&&s[o].kill(i,n);return this},t.getTweensOf=function(i,n){for(var a=[],s=Ya(i),o=this._first,l=Wo(n),c;o;)o instanceof ai?Mee(o._targets,s)&&(l?(!Sl||o._initted&&o._ts)&&o.globalTime(0)<=n&&o.globalTime(o.totalDuration())>n:!n||o.isActive())&&a.push(o):(c=o.getTweensOf(s,n)).length&&a.push.apply(a,c),o=o._next;return a},t.tweenTo=function(i,n){n=n||{};var a=this,s=Oa(a,i),o=n,l=o.startAt,c=o.onStart,h=o.onStartParams,p=o.immediateRender,f,m=ai.to(a,ba({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:n.duration||Math.abs((s-(l&&"time"in l?l.time:a._time))/a.timeScale())||fr,onStart:function(){if(a.pause(),!f){var g=n.duration||Math.abs((s-(l&&"time"in l?l.time:a._time))/a.timeScale());m._dur!==g&&Ud(m,g,0,1).render(m._time,!0,!0),f=1}c&&c.apply(m,h||[])}},n));return p?m.render(0):m},t.tweenFromTo=function(i,n,a){return this.tweenTo(n,ba({startAt:{time:Oa(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),SI(this,Oa(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),SI(this,Oa(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+fr)},t.shiftChildren=function(i,n,a){a===void 0&&(a=0);for(var s=this._first,o=this.labels,l;s;)s._start>=a&&(s._start+=i,s._end+=i),s=s._next;if(n)for(l in o)o[l]>=a&&(o[l]+=i);return pu(this)},t.invalidate=function(i){var n=this._first;for(this._lock=0;n;)n.invalidate(i),n=n._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),pu(this)},t.totalDuration=function(i){var n=0,a=this,s=a._last,o=Ja,l,c,h;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(h=a.parent;s;)l=s._prev,s._dirty&&s.totalDuration(),c=s._start,c>o&&a._sort&&s._ts&&!a._lock?(a._lock=1,Us(a,s,c-s._delay,1)._lock=0):o=c,c<0&&s._ts&&(n-=c,(!h&&!a._dp||h&&h.smoothChildTiming)&&(a._start+=c/a._ts,a._time-=c,a._tTime-=c),a.shiftChildren(-c,!1,-1/0),o=0),s._end>n&&s._ts&&(n=s._end),s=l;Ud(a,a===Ir&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(Ir._ts&&(IU(Ir,R1(i,Ir)),PU=oa.frame),oa.frame>=_I){_I+=ma.autoSleep||120;var n=Ir._first;if((!n||!n._ts)&&ma.autoSleep&&oa._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||oa.sleep()}}},e}(Lm);ba(_n.prototype,{_lock:0,_hasPause:0,_forcing:0});var Yee=function(r,e,t,i,n,a,s){var o=new Xn(this._pt,r,e,0,1,sz,null,n),l=0,c=0,h,p,f,m,g,x,_,v;for(o.b=t,o.e=i,t+="",i+="",(_=~i.indexOf("random("))&&(i=Im(i)),a&&(v=[t,i],a(v,r,e),t=v[0],i=v[1]),p=t.match(HA)||[];h=HA.exec(i);)m=h[0],g=i.substring(l,h.index),f?f=(f+1)%5:g.substr(-5)==="rgba("&&(f=1),m!==p[c++]&&(x=parseFloat(p[c-1])||0,o._pt={_next:o._pt,p:g||c===1?g:",",s:x,c:m.charAt(1)==="="?pd(x,m)-x:parseFloat(m)-x,m:f&&f<4?Math.round:0},l=HA.lastIndex);return o.c=l<i.length?i.substring(l,i.length):"",o.fp=s,(MU.test(i)||_)&&(o.e=0),this._pt=o,o},jC=function(r,e,t,i,n,a,s,o,l,c){Hr(i)&&(i=i(n||0,r,a));var h=r[e],p=t!=="get"?t:Hr(h)?l?r[e.indexOf("set")||!Hr(r["get"+e.substr(3)])?e:"get"+e.substr(3)](l):r[e]():h,f=Hr(h)?l?$ee:nz:XC,m;if(Ci(i)&&(~i.indexOf("random(")&&(i=Im(i)),i.charAt(1)==="="&&(m=pd(p,i)+(Qi(p)||0),(m||m===0)&&(i=m))),!c||p!==i||Jw)return!isNaN(p*i)&&i!==""?(m=new Xn(this._pt,r,e,+p||0,i-(p||0),typeof h=="boolean"?tte:az,0,f),l&&(m.fp=l),s&&m.modifier(s,this,r),this._pt=m):(!h&&!(e in r)&&zC(e,i),Yee.call(this,r,e,p,i,f,o||ma.stringFilter,l))},qee=function(r,e,t,i,n){if(Hr(r)&&(r=Nf(r,n,e,t,i)),!Qs(r)||r.style&&r.nodeType||rn(r)||SU(r))return Ci(r)?Nf(r,n,e,t,i):r;var a={},s;for(s in r)a[s]=Nf(r[s],n,e,t,i);return a},tz=function(r,e,t,i,n,a){var s,o,l,c;if(aa[r]&&(s=new aa[r]).init(n,s.rawVars?e[r]:qee(e[r],i,n,a,t),t,i,a)!==!1&&(t._pt=o=new Xn(t._pt,n,r,0,1,s.render,s,0,s.priority),t!==td))for(l=t._ptLookup[t._targets.indexOf(n)],c=s._props.length;c--;)l[s._props[c]]=o;return s},Sl,Jw,WC=function r(e,t,i){var n=e.vars,a=n.ease,s=n.startAt,o=n.immediateRender,l=n.lazy,c=n.onUpdate,h=n.runBackwards,p=n.yoyoEase,f=n.keyframes,m=n.autoRevert,g=e._dur,x=e._startAt,_=e._targets,v=e.parent,b=v&&v.data==="nested"?v.vars.targets:_,A=e._overwrite==="auto"&&!kC,w=e.timeline,T,E,B,I,C,R,D,V,j,Z,Q,X,ie;if(w&&(!f||!a)&&(a="none"),e._ease=fu(a,kd.ease),e._yEase=p?ZU(fu(p===!0?a:p,kd.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!w&&!!n.runBackwards,!w||f&&!n.stagger){if(V=_[0]?du(_[0]).harness:0,X=V&&n[V.prop],T=T1(n,GC),x&&(x._zTime<0&&x.progress(1),t<0&&h&&o&&!m?x.render(-1,!0):x.revert(h&&g?Kv:See),x._lazy=0),s){if(Yl(e._startAt=ai.set(_,ba({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!x&&jn(l),startAt:null,delay:0,onUpdate:c&&function(){return da(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fi||!o&&!m)&&e._startAt.revert(Kv),o&&g&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(h&&g&&!x){if(t&&(o=!1),B=ba({overwrite:!1,data:"isFromStart",lazy:o&&!x&&jn(l),immediateRender:o,stagger:0,parent:v},T),X&&(B[V.prop]=X),Yl(e._startAt=ai.set(_,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fi?e._startAt.revert(Kv):e._startAt.render(-1,!0)),e._zTime=t,!o)r(e._startAt,fr,fr);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&jn(l)||l&&!g,E=0;E<_.length;E++){if(C=_[E],D=C._gsap||VC(_)[E]._gsap,e._ptLookup[E]=Z={},Gw[D.id]&&Nl.length&&C1(),Q=b===_?E:b.indexOf(C),V&&(j=new V).init(C,X||T,e,Q,b)!==!1&&(e._pt=I=new Xn(e._pt,C,j.name,0,1,j.render,j,0,j.priority),j._props.forEach(function(O){Z[O]=I}),j.priority&&(R=1)),!V||X)for(B in T)aa[B]&&(j=tz(B,T,e,Q,C,b))?j.priority&&(R=1):Z[B]=I=jC.call(e,C,B,"get",T[B],Q,b,0,n.stringFilter);e._op&&e._op[E]&&e.kill(C,e._op[E]),A&&e._pt&&(Sl=e,Ir.killTweensOf(C,Z,e.globalTime(t)),ie=!e.parent,Sl=0),e._pt&&l&&(Gw[D.id]=1)}R&&oz(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!ie,f&&t<=0&&w.render(Ja,!0,!0)},Kee=function(r,e,t,i,n,a,s,o){var l=(r._pt&&r._ptCache||(r._ptCache={}))[e],c,h,p,f;if(!l)for(l=r._ptCache[e]=[],p=r._ptLookup,f=r._targets.length;f--;){if(c=p[f][e],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return Jw=1,r.vars[e]="+=0",WC(r,s),Jw=0,o?Pm(e+" not eligible for reset"):1;l.push(c)}for(f=l.length;f--;)h=l[f],c=h._pt||h,c.s=(i||i===0)&&!n?i:c.s+(i||0)+a*c.c,c.c=t-c.s,h.e&&(h.e=Jr(t)+Qi(h.e)),h.b&&(h.b=c.s+Qi(h.b))},Zee=function(r,e){var t=r[0]?du(r[0]).harness:0,i=t&&t.aliases,n,a,s,o;if(!i)return e;n=Od({},e);for(a in i)if(a in n)for(o=i[a].split(","),s=o.length;s--;)n[o[s]]=n[a];return n},Qee=function(r,e,t,i){var n=e.ease||i||"power1.inOut",a,s;if(rn(e))s=t[r]||(t[r]=[]),e.forEach(function(o,l){return s.push({t:l/(e.length-1)*100,v:o,e:n})});else for(a in e)s=t[a]||(t[a]=[]),a==="ease"||s.push({t:parseFloat(r),v:e[a],e:n})},Nf=function(r,e,t,i,n){return Hr(r)?r.call(e,t,i,n):Ci(r)&&~r.indexOf("random(")?Im(r):r},rz=HC+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",iz={};Wn(rz+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return iz[r]=1});var ai=function(r){bU(e,r);function e(i,n,a,s){var o;typeof n=="number"&&(a.duration=n,n=a,a=null),o=r.call(this,s?n:kf(n))||this;var l=o.vars,c=l.duration,h=l.delay,p=l.immediateRender,f=l.stagger,m=l.overwrite,g=l.keyframes,x=l.defaults,_=l.scrollTrigger,v=l.yoyoEase,b=n.parent||Ir,A=(rn(i)||SU(i)?Wo(i[0]):"length"in n)?[i]:Ya(i),w,T,E,B,I,C,R,D;if(o._targets=A.length?VC(A):Pm("GSAP target "+i+" not found. https://gsap.com",!ma.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=m,g||f||_v(c)||_v(h)){if(n=o.vars,w=o.timeline=new _n({data:"nested",defaults:x||{},targets:b&&b.data==="nested"?b.vars.targets:A}),w.kill(),w.parent=w._dp=vo(o),w._start=0,f||_v(c)||_v(h)){if(B=A.length,R=f&&GU(f),Qs(f))for(I in f)~rz.indexOf(I)&&(D||(D={}),D[I]=f[I]);for(T=0;T<B;T++)E=T1(n,iz),E.stagger=0,v&&(E.yoyoEase=v),D&&Od(E,D),C=A[T],E.duration=+Nf(c,vo(o),T,C,A),E.delay=(+Nf(h,vo(o),T,C,A)||0)-o._delay,!f&&B===1&&E.delay&&(o._delay=h=E.delay,o._start+=h,E.delay=0),w.to(C,E,R?R(T,C,A):0),w._ease=Jt.none;w.duration()?c=h=0:o.timeline=0}else if(g){kf(ba(w.vars.defaults,{ease:"none"})),w._ease=fu(g.ease||n.ease||"none");var V=0,j,Z,Q;if(rn(g))g.forEach(function(X){return w.to(A,X,">")}),w.duration();else{E={};for(I in g)I==="ease"||I==="easeEach"||Qee(I,g[I],E,g.easeEach);for(I in E)for(j=E[I].sort(function(X,ie){return X.t-ie.t}),V=0,T=0;T<j.length;T++)Z=j[T],Q={ease:Z.e,duration:(Z.t-(T?j[T-1].t:0))/100*c},Q[I]=Z.v,w.to(A,Q,V),V+=Q.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||o.duration(c=w.duration())}else o.timeline=0;return m===!0&&!kC&&(Sl=vo(o),Ir.killTweensOf(A),Sl=0),Us(b,vo(o),a),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(p||!c&&!g&&o._start===si(b._time)&&jn(p)&&Ree(vo(o))&&b.data!=="nested")&&(o._tTime=-fr,o.render(Math.max(0,-h)||0)),_&&OU(vo(o),_),o}var t=e.prototype;return t.render=function(i,n,a){var s=this._time,o=this._tDur,l=this._dur,c=i<0,h=i>o-fr&&!c?o:i<fr?0:i,p,f,m,g,x,_,v,b,A;if(!l)Bee(this,i,n,a);else if(h!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(p=h,b=this.timeline,this._repeat){if(g=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(g*100+i,n,a);if(p=si(h%g),h===o?(m=this._repeat,p=l):(x=si(h/g),m=~~x,m&&m===x?(p=l,m--):p>l&&(p=l)),_=this._yoyo&&m&1,_&&(A=this._yEase,p=l-p),x=Nd(this._tTime,g),p===s&&!a&&this._initted&&m===x)return this._tTime=h,this;m!==x&&(b&&this._yEase&&QU(b,_),this.vars.repeatRefresh&&!_&&!this._lock&&p!==g&&this._initted&&(this._lock=a=1,this.render(si(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(NU(this,c?i:p,a,n,h))return this._tTime=0,this;if(s!==this._time&&!(a&&this.vars.repeatRefresh&&m!==x))return this;if(l!==this._dur)return this.render(i,n,a)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(A||this._ease)(p/l),this._from&&(this.ratio=v=1-v),p&&!s&&!n&&!m&&(da(this,"onStart"),this._tTime!==h))return this;for(f=this._pt;f;)f.r(v,f.d),f=f._next;b&&b.render(i<0?i:b._dur*b._ease(p/this._dur),n,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!n&&(c&&Hw(this,i,n,a),da(this,"onUpdate")),this._repeat&&m!==x&&this.vars.onRepeat&&!n&&this.parent&&da(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(c&&!this._onUpdate&&Hw(this,i,!0,!0),(i||!l)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Yl(this,1),!n&&!(c&&!s)&&(h||s||_)&&(da(this,h===o?"onComplete":"onReverseComplete",!0),this._prom&&!(h<o&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,n,a,s,o){Dm||oa.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||WC(this,l),c=this._ease(l/this._dur),Kee(this,i,n,a,s,c,l,o)?this.resetTo(i,n,a,s,1):(Y_(this,0),this.parent||FU(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,n){if(n===void 0&&(n="all"),!i&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?af(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Fi),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,n,Sl&&Sl.vars.overwrite!==!0)._first||af(this),this.parent&&a!==this.timeline.totalDuration()&&Ud(this,this._dur*this.timeline._tDur/a,0,1),this}var s=this._targets,o=i?Ya(i):s,l=this._ptLookup,c=this._pt,h,p,f,m,g,x,_;if((!n||n==="all")&&Cee(s,o))return n==="all"&&(this._pt=0),af(this);for(h=this._op=this._op||[],n!=="all"&&(Ci(n)&&(g={},Wn(n,function(v){return g[v]=1}),n=g),n=Zee(s,n)),_=s.length;_--;)if(~o.indexOf(s[_])){p=l[_],n==="all"?(h[_]=n,m=p,f={}):(f=h[_]=h[_]||{},m=n);for(g in m)x=p&&p[g],x&&((!("kill"in x.d)||x.d.kill(g)===!0)&&X_(this,x,"_pt"),delete p[g]),f!=="all"&&(f[g]=1)}return this._initted&&!this._pt&&c&&af(this),this},e.to=function(i,n){return new e(i,n,arguments[2])},e.from=function(i,n){return Of(1,arguments)},e.delayedCall=function(i,n,a,s){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:s})},e.fromTo=function(i,n,a){return Of(2,arguments)},e.set=function(i,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(i,n)},e.killTweensOf=function(i,n,a){return Ir.killTweensOf(i,n,a)},e}(Lm);ba(ai.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Wn("staggerTo,staggerFrom,staggerFromTo",function(r){ai[r]=function(){var e=new _n,t=jw.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var XC=function(r,e,t){return r[e]=t},nz=function(r,e,t){return r[e](t)},$ee=function(r,e,t,i){return r[e](i.fp,t)},ete=function(r,e,t){return r.setAttribute(e,t)},JC=function(r,e){return Hr(r[e])?nz:OC(r[e])&&r.setAttribute?ete:XC},az=function(r,e){return e.set(e.t,e.p,Math.round((e.s+e.c*r)*1e6)/1e6,e)},tte=function(r,e){return e.set(e.t,e.p,!!(e.s+e.c*r),e)},sz=function(r,e){var t=e._pt,i="";if(!r&&e.b)i=e.b;else if(r===1&&e.e)i=e.e;else{for(;t;)i=t.p+(t.m?t.m(t.s+t.c*r):Math.round((t.s+t.c*r)*1e4)/1e4)+i,t=t._next;i+=e.c}e.set(e.t,e.p,i,e)},YC=function(r,e){for(var t=e._pt;t;)t.r(r,t.d),t=t._next},rte=function(r,e,t,i){for(var n=this._pt,a;n;)a=n._next,n.p===i&&n.modifier(r,e,t),n=a},ite=function(r){for(var e=this._pt,t,i;e;)i=e._next,e.p===r&&!e.op||e.op===r?X_(this,e,"_pt"):e.dep||(t=1),e=i;return!t},nte=function(r,e,t,i){i.mSet(r,e,i.m.call(i.tween,t,i.mt),i)},oz=function(r){for(var e=r._pt,t,i,n,a;e;){for(t=e._next,i=n;i&&i.pr>e.pr;)i=i._next;(e._prev=i?i._prev:a)?e._prev._next=e:n=e,(e._next=i)?i._prev=e:a=e,e=t}r._pt=n},Xn=function(){function r(t,i,n,a,s,o,l,c,h){this.t=i,this.s=a,this.c=s,this.p=n,this.r=o||az,this.d=l||this,this.set=c||XC,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(t,i,n){this.mSet=this.mSet||this.set,this.set=nte,this.m=t,this.mt=n,this.tween=i},r}();Wn(HC+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return GC[r]=1});xa.TweenMax=xa.TweenLite=ai;xa.TimelineLite=xa.TimelineMax=_n;Ir=new _n({sortChildren:!1,defaults:kd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ma.stringFilter=KU;var mu=[],Qv={},ate=[],MI=0,ste=0,JA=function(r){return(Qv[r]||ate).map(function(e){return e()})},Yw=function(){var r=Date.now(),e=[];r-MI>2&&(JA("matchMediaInit"),mu.forEach(function(t){var i=t.queries,n=t.conditions,a,s,o,l;for(s in i)a=ks.matchMedia(i[s]).matches,a&&(o=1),a!==n[s]&&(n[s]=a,l=1);l&&(t.revert(),o&&e.push(t))}),JA("matchMediaRevert"),e.forEach(function(t){return t.onMatch(t,function(i){return t.add(null,i)})}),MI=r,JA("matchMedia"))},lz=function(){function r(t,i){this.selector=i&&Ww(i),this.data=[],this._r=[],this.isReverted=!1,this.id=ste++,t&&this.add(t)}var e=r.prototype;return e.add=function(t,i,n){Hr(t)&&(n=i,i=t,t=Hr);var a=this,s=function(){var o=Cr,l=a.selector,c;return o&&o!==a&&o.data.push(a),n&&(a.selector=Ww(n)),Cr=a,c=i.apply(a,arguments),Hr(c)&&a._r.push(c),Cr=o,a.selector=l,a.isReverted=!1,c};return a.last=s,t===Hr?s(a,function(o){return a.add(null,o)}):t?a[t]=s:s},e.ignore=function(t){var i=Cr;Cr=null,t(this),Cr=i},e.getTweens=function(){var t=[];return this.data.forEach(function(i){return i instanceof r?t.push.apply(t,i.getTweens()):i instanceof ai&&!(i.parent&&i.parent.data==="nested")&&t.push(i)}),t},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,i){var n=this;if(t?function(){for(var s=n.getTweens(),o=n.data.length,l;o--;)l=n.data[o],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return s.splice(s.indexOf(c),1)}));for(s.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,h){return h.g-c.g||-1/0}).forEach(function(c){return c.t.revert(t)}),o=n.data.length;o--;)l=n.data[o],l instanceof _n?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof ai)&&l.revert&&l.revert(t);n._r.forEach(function(c){return c(t,n)}),n.isReverted=!0}():this.data.forEach(function(s){return s.kill&&s.kill()}),this.clear(),i)for(var a=mu.length;a--;)mu[a].id===this.id&&mu.splice(a,1)},e.revert=function(t){this.kill(t||{})},r}(),ote=function(){function r(t){this.contexts=[],this.scope=t,Cr&&Cr.data.push(this)}var e=r.prototype;return e.add=function(t,i,n){Qs(t)||(t={matches:t});var a=new lz(0,n||this.scope),s=a.conditions={},o,l,c;Cr&&!a.selector&&(a.selector=Cr.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=t;for(l in t)l==="all"?c=1:(o=ks.matchMedia(t[l]),o&&(mu.indexOf(a)<0&&mu.push(a),(s[l]=o.matches)&&(c=1),o.addListener?o.addListener(Yw):o.addEventListener("change",Yw)));return c&&i(a,function(h){return a.add(null,h)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(i){return i.kill(t,!0)})},r}(),P1={registerPlugin:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e.forEach(function(i){return JU(i)})},timeline:function(r){return new _n(r)},getTweensOf:function(r,e){return Ir.getTweensOf(r,e)},getProperty:function(r,e,t,i){Ci(r)&&(r=Ya(r)[0]);var n=du(r||{}).get,a=t?LU:DU;return t==="native"&&(t=""),r&&(e?a((aa[e]&&aa[e].get||n)(r,e,t,i)):function(s,o,l){return a((aa[s]&&aa[s].get||n)(r,s,o,l))})},quickSetter:function(r,e,t){if(r=Ya(r),r.length>1){var i=r.map(function(c){return qn.quickSetter(c,e,t)}),n=i.length;return function(c){for(var h=n;h--;)i[h](c)}}r=r[0]||{};var a=aa[e],s=du(r),o=s.harness&&(s.harness.aliases||{})[e]||e,l=a?function(c){var h=new a;td._pt=0,h.init(r,t?c+t:c,td,0,[r]),h.render(1,h),td._pt&&YC(1,td)}:s.set(r,o);return a?l:function(c){return l(r,o,t?c+t:c,s,1)}},quickTo:function(r,e,t){var i,n=qn.to(r,ba((i={},i[e]="+=0.1",i.paused=!0,i.stagger=0,i),t||{})),a=function(s,o,l){return n.resetTo(e,s,o,l)};return a.tween=n,a},isTweening:function(r){return Ir.getTweensOf(r,!0).length>0},defaults:function(r){return r&&r.ease&&(r.ease=fu(r.ease,kd.ease)),xI(kd,r||{})},config:function(r){return xI(ma,r||{})},registerEffect:function(r){var e=r.name,t=r.effect,i=r.plugins,n=r.defaults,a=r.extendTimeline;(i||"").split(",").forEach(function(s){return s&&!aa[s]&&!xa[s]&&Pm(e+" effect requires "+s+" plugin.")}),VA[e]=function(s,o,l){return t(Ya(s),ba(o||{},n),l)},a&&(_n.prototype[e]=function(s,o,l){return this.add(VA[e](s,Qs(o)?o:(l=o)&&{},this),l)})},registerEase:function(r,e){Jt[r]=fu(e)},parseEase:function(r,e){return arguments.length?fu(r,e):Jt},getById:function(r){return Ir.getById(r)},exportRoot:function(r,e){r===void 0&&(r={});var t=new _n(r),i,n;for(t.smoothChildTiming=jn(r.smoothChildTiming),Ir.remove(t),t._dp=0,t._time=t._tTime=Ir._time,i=Ir._first;i;)n=i._next,(e||!(!i._dur&&i instanceof ai&&i.vars.onComplete===i._targets[0]))&&Us(t,i,i._start-i._delay),i=n;return Us(Ir,t,0),t},context:function(r,e){return r?new lz(r,e):Cr},matchMedia:function(r){return new ote(r)},matchMediaRefresh:function(){return mu.forEach(function(r){var e=r.conditions,t,i;for(i in e)e[i]&&(e[i]=!1,t=1);t&&r.revert()})||Yw()},addEventListener:function(r,e){var t=Qv[r]||(Qv[r]=[]);~t.indexOf(e)||t.push(e)},removeEventListener:function(r,e){var t=Qv[r],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)},utils:{wrap:Uee,wrapYoyo:zee,distribute:GU,random:VU,snap:HU,normalize:Nee,getUnit:Qi,clamp:Lee,splitColor:YU,toArray:Ya,selector:Ww,mapRange:WU,pipe:kee,unitize:Oee,interpolate:Gee,shuffle:zU},install:TU,effects:VA,ticker:oa,updateRoot:_n.updateRoot,plugins:aa,globalTimeline:Ir,core:{PropTween:Xn,globals:RU,Tween:ai,Timeline:_n,Animation:Lm,getCache:du,_removeLinkedListItem:X_,reverting:function(){return Fi},context:function(r){return r&&Cr&&(Cr.data.push(r),r._ctx=Cr),Cr},suppressOverwrites:function(r){return kC=r}}};Wn("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return P1[r]=ai[r]});oa.add(_n.updateRoot);td=P1.to({},{duration:0});var lte=function(r,e){for(var t=r._pt;t&&t.p!==e&&t.op!==e&&t.fp!==e;)t=t._next;return t},cte=function(r,e){var t=r._targets,i,n,a;for(i in e)for(n=t.length;n--;)a=r._ptLookup[n][i],a&&(a=a.d)&&(a._pt&&(a=lte(a,i)),a&&a.modifier&&a.modifier(e[i],r,t[n],i))},YA=function(r,e){return{name:r,rawVars:1,init:function(t,i,n){n._onInit=function(a){var s,o;if(Ci(i)&&(s={},Wn(i,function(l){return s[l]=1}),i=s),e){s={};for(o in i)s[o]=e(i[o]);i=s}cte(a,i)}}}},qn=P1.registerPlugin({name:"attr",init:function(r,e,t,i,n){var a,s,o;this.tween=t;for(a in e)o=r.getAttribute(a)||"",s=this.add(r,"setAttribute",(o||0)+"",e[a],i,n,0,0,a),s.op=a,s.b=o,this._props.push(a)},render:function(r,e){for(var t=e._pt;t;)Fi?t.set(t.t,t.p,t.b,t):t.r(r,t.d),t=t._next}},{name:"endArray",init:function(r,e){for(var t=e.length;t--;)this.add(r,t,r[t]||0,e[t],0,0,0,0,0,1)}},YA("roundProps",Xw),YA("modifiers"),YA("snap",HU))||P1;ai.version=_n.version=qn.version="3.12.7";CU=1;NC()&&zd();Jt.Power0;Jt.Power1;Jt.Power2;Jt.Power3;Jt.Power4;Jt.Linear;Jt.Quad;Jt.Cubic;Jt.Quart;Jt.Quint;Jt.Strong;Jt.Elastic;Jt.Back;Jt.SteppedEase;Jt.Bounce;Jt.Sine;Jt.Expo;Jt.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var EI,wl,fd,qC,ru,CI,KC,ute=function(){return typeof window<"u"},Xo={},zc=180/Math.PI,md=Math.PI/180,Eh=Math.atan2,TI=1e8,ZC=/([A-Z])/g,hte=/(left|right|width|margin|padding|x)/i,dte=/[\s,\(]\S/,zs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qw=function(r,e){return e.set(e.t,e.p,Math.round((e.s+e.c*r)*1e4)/1e4+e.u,e)},pte=function(r,e){return e.set(e.t,e.p,r===1?e.e:Math.round((e.s+e.c*r)*1e4)/1e4+e.u,e)},fte=function(r,e){return e.set(e.t,e.p,r?Math.round((e.s+e.c*r)*1e4)/1e4+e.u:e.b,e)},mte=function(r,e){var t=e.s+e.c*r;e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)},cz=function(r,e){return e.set(e.t,e.p,r?e.e:e.b,e)},uz=function(r,e){return e.set(e.t,e.p,r!==1?e.b:e.e,e)},gte=function(r,e,t){return r.style[e]=t},vte=function(r,e,t){return r.style.setProperty(e,t)},yte=function(r,e,t){return r._gsap[e]=t},_te=function(r,e,t){return r._gsap.scaleX=r._gsap.scaleY=t},xte=function(r,e,t,i,n){var a=r._gsap;a.scaleX=a.scaleY=t,a.renderTransform(n,a)},bte=function(r,e,t,i,n){var a=r._gsap;a[e]=t,a.renderTransform(n,a)},Fr="transform",Jn=Fr+"Origin",Ate=function r(e,t){var i=this,n=this.target,a=n.style,s=n._gsap;if(e in Xo&&a){if(this.tfm=this.tfm||{},e!=="transform")e=zs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=xo(n,o)}):this.tfm[e]=s.x?s[e]:xo(n,e),e===Jn&&(this.tfm.zOrigin=s.zOrigin);else return zs.transform.split(",").forEach(function(o){return r.call(i,o,t)});if(this.props.indexOf(Fr)>=0)return;s.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(Jn,t,"")),e=Fr}(a||t)&&this.props.push(e,t,a[e])},hz=function(r){r.translate&&(r.removeProperty("translate"),r.removeProperty("scale"),r.removeProperty("rotate"))},Ste=function(){var r=this.props,e=this.target,t=e.style,i=e._gsap,n,a;for(n=0;n<r.length;n+=3)r[n+1]?r[n+1]===2?e[r[n]](r[n+2]):e[r[n]]=r[n+2]:r[n+2]?t[r[n]]=r[n+2]:t.removeProperty(r[n].substr(0,2)==="--"?r[n]:r[n].replace(ZC,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),n=KC(),(!n||!n.isStart)&&!t[Fr]&&(hz(t),i.zOrigin&&t[Jn]&&(t[Jn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},dz=function(r,e){var t={target:r,props:[],revert:Ste,save:Ate};return r._gsap||qn.core.getCache(r),e&&r.style&&r.nodeType&&e.split(",").forEach(function(i){return t.save(i)}),t},pz,Kw=function(r,e){var t=wl.createElementNS?wl.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),r):wl.createElement(r);return t&&t.style?t:wl.createElement(r)},Ys=function r(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(ZC,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&r(e,Gd(t)||t,1)||""},RI="O,Moz,ms,Ms,Webkit".split(","),Gd=function(r,e,t){var i=e||ru,n=i.style,a=5;if(r in n&&!t)return r;for(r=r.charAt(0).toUpperCase()+r.substr(1);a--&&!(RI[a]+r in n););return a<0?null:(a===3?"ms":a>=0?RI[a]:"")+r},Zw=function(){ute()&&window.document&&(EI=window,wl=EI.document,fd=wl.documentElement,ru=Kw("div")||{style:{}},Kw("div"),Fr=Gd(Fr),Jn=Fr+"Origin",ru.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pz=!!Gd("perspective"),KC=qn.core.reverting,qC=1)},PI=function(r){var e=r.ownerSVGElement,t=Kw("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=r.cloneNode(!0),n;i.style.display="block",t.appendChild(i),fd.appendChild(t);try{n=i.getBBox()}catch{}return t.removeChild(i),fd.removeChild(t),n},BI=function(r,e){for(var t=e.length;t--;)if(r.hasAttribute(e[t]))return r.getAttribute(e[t])},fz=function(r){var e,t;try{e=r.getBBox()}catch{e=PI(r),t=1}return e&&(e.width||e.height)||t||(e=PI(r)),e&&!e.width&&!e.x&&!e.y?{x:+BI(r,["x","cx","x1"])||0,y:+BI(r,["y","cy","y1"])||0,width:0,height:0}:e},mz=function(r){return!!(r.getCTM&&(!r.parentNode||r.ownerSVGElement)&&fz(r))},Du=function(r,e){if(e){var t=r.style,i;e in Xo&&e!==Jn&&(e=Fr),t.removeProperty?(i=e.substr(0,2),(i==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),t.removeProperty(i==="--"?e:e.replace(ZC,"-$1").toLowerCase())):t.removeAttribute(e)}},Ml=function(r,e,t,i,n,a){var s=new Xn(r._pt,e,t,0,1,a?uz:cz);return r._pt=s,s.b=i,s.e=n,r._props.push(t),s},II={deg:1,rad:1,turn:1},wte={grid:1,flex:1},ql=function r(e,t,i,n){var a=parseFloat(i)||0,s=(i+"").trim().substr((a+"").length)||"px",o=ru.style,l=hte.test(t),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(l?"Width":"Height"),p=100,f=n==="px",m=n==="%",g,x,_,v;if(n===s||!a||II[n]||II[s])return a;if(s!=="px"&&!f&&(a=r(e,t,i,"px")),v=e.getCTM&&mz(e),(m||s==="%")&&(Xo[t]||~t.indexOf("adius")))return g=v?e.getBBox()[l?"width":"height"]:e[h],Jr(m?a/g*p:a/100*g);if(o[l?"width":"height"]=p+(f?s:n),x=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===wl||!x.appendChild)&&(x=wl.body),_=x._gsap,_&&m&&_.width&&l&&_.time===oa.time&&!_.uncache)return Jr(a/_.width*p);if(m&&(t==="height"||t==="width")){var b=e.style[t];e.style[t]=p+n,g=e[h],b?e.style[t]=b:Du(e,t)}else(m||s==="%")&&!wte[Ys(x,"display")]&&(o.position=Ys(e,"position")),x===e&&(o.position="static"),x.appendChild(ru),g=ru[h],x.removeChild(ru),o.position="absolute";return l&&m&&(_=du(x),_.time=oa.time,_.width=x[h]),Jr(f?g*a/p:g&&a?p/g*a:0)},xo=function(r,e,t,i){var n;return qC||Zw(),e in zs&&e!=="transform"&&(e=zs[e],~e.indexOf(",")&&(e=e.split(",")[0])),Xo[e]&&e!=="transform"?(n=km(r,i),n=e!=="transformOrigin"?n[e]:n.svg?n.origin:I1(Ys(r,Jn))+" "+n.zOrigin+"px"):(n=r.style[e],(!n||n==="auto"||i||~(n+"").indexOf("calc("))&&(n=B1[e]&&B1[e](r,e,t)||Ys(r,e)||BU(r,e)||(e==="opacity"?1:0))),t&&!~(n+"").trim().indexOf(" ")?ql(r,e,n,t)+t:n},Mte=function(r,e,t,i){if(!t||t==="none"){var n=Gd(e,r,1),a=n&&Ys(r,n,1);a&&a!==t?(e=n,t=a):e==="borderColor"&&(t=Ys(r,"borderTopColor"))}var s=new Xn(this._pt,r.style,e,0,1,sz),o=0,l=0,c,h,p,f,m,g,x,_,v,b,A,w;if(s.b=t,s.e=i,t+="",i+="",i==="auto"&&(g=r.style[e],r.style[e]=i,i=Ys(r,e)||i,g?r.style[e]=g:Du(r,e)),c=[t,i],KU(c),t=c[0],i=c[1],p=t.match(ed)||[],w=i.match(ed)||[],w.length){for(;h=ed.exec(i);)x=h[0],v=i.substring(o,h.index),m?m=(m+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(m=1),x!==(g=p[l++]||"")&&(f=parseFloat(g)||0,A=g.substr((f+"").length),x.charAt(1)==="="&&(x=pd(f,x)+A),_=parseFloat(x),b=x.substr((_+"").length),o=ed.lastIndex-b.length,b||(b=b||ma.units[e]||A,o===i.length&&(i+=b,s.e+=b)),A!==b&&(f=ql(r,e,g,b)||0),s._pt={_next:s._pt,p:v||l===1?v:",",s:f,c:_-f,m:m&&m<4||e==="zIndex"?Math.round:0});s.c=o<i.length?i.substring(o,i.length):""}else s.r=e==="display"&&i==="none"?uz:cz;return MU.test(i)&&(s.e=0),this._pt=s,s},DI={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ete=function(r){var e=r.split(" "),t=e[0],i=e[1]||"50%";return(t==="top"||t==="bottom"||i==="left"||i==="right")&&(r=t,t=i,i=r),e[0]=DI[t]||t,e[1]=DI[i]||i,e.join(" ")},Cte=function(r,e){if(e.tween&&e.tween._time===e.tween._dur){var t=e.t,i=t.style,n=e.u,a=t._gsap,s,o,l;if(n==="all"||n===!0)i.cssText="",o=1;else for(n=n.split(","),l=n.length;--l>-1;)s=n[l],Xo[s]&&(o=1,s=s==="transformOrigin"?Jn:Fr),Du(t,s);o&&(Du(t,Fr),a&&(a.svg&&t.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",km(t,1),a.uncache=1,hz(i)))}},B1={clearProps:function(r,e,t,i,n){if(n.data!=="isFromStart"){var a=r._pt=new Xn(r._pt,e,t,0,0,Cte);return a.u=i,a.pr=-10,a.tween=n,r._props.push(t),1}}},Fm=[1,0,0,1,0,0],gz={},vz=function(r){return r==="matrix(1, 0, 0, 1, 0, 0)"||r==="none"||!r},LI=function(r){var e=Ys(r,Fr);return vz(e)?Fm:e.substr(7).match(wU).map(Jr)},QC=function(r,e){var t=r._gsap||du(r),i=r.style,n=LI(r),a,s,o,l;return t.svg&&r.getAttribute("transform")?(o=r.transform.baseVal.consolidate().matrix,n=[o.a,o.b,o.c,o.d,o.e,o.f],n.join(",")==="1,0,0,1,0,0"?Fm:n):(n===Fm&&!r.offsetParent&&r!==fd&&!t.svg&&(o=i.display,i.display="block",a=r.parentNode,(!a||!r.offsetParent&&!r.getBoundingClientRect().width)&&(l=1,s=r.nextElementSibling,fd.appendChild(r)),n=LI(r),o?i.display=o:Du(r,"display"),l&&(s?a.insertBefore(r,s):a?a.appendChild(r):fd.removeChild(r))),e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},Qw=function(r,e,t,i,n,a){var s=r._gsap,o=n||QC(r,!0),l=s.xOrigin||0,c=s.yOrigin||0,h=s.xOffset||0,p=s.yOffset||0,f=o[0],m=o[1],g=o[2],x=o[3],_=o[4],v=o[5],b=e.split(" "),A=parseFloat(b[0])||0,w=parseFloat(b[1])||0,T,E,B,I;t?o!==Fm&&(E=f*x-m*g)&&(B=A*(x/E)+w*(-g/E)+(g*v-x*_)/E,I=A*(-m/E)+w*(f/E)-(f*v-m*_)/E,A=B,w=I):(T=fz(r),A=T.x+(~b[0].indexOf("%")?A/100*T.width:A),w=T.y+(~(b[1]||b[0]).indexOf("%")?w/100*T.height:w)),i||i!==!1&&s.smooth?(_=A-l,v=w-c,s.xOffset=h+(_*f+v*g)-_,s.yOffset=p+(_*m+v*x)-v):s.xOffset=s.yOffset=0,s.xOrigin=A,s.yOrigin=w,s.smooth=!!i,s.origin=e,s.originIsAbsolute=!!t,r.style[Jn]="0px 0px",a&&(Ml(a,s,"xOrigin",l,A),Ml(a,s,"yOrigin",c,w),Ml(a,s,"xOffset",h,s.xOffset),Ml(a,s,"yOffset",p,s.yOffset)),r.setAttribute("data-svg-origin",A+" "+w)},km=function(r,e){var t=r._gsap||new ez(r);if("x"in t&&!e&&!t.uncache)return t;var i=r.style,n=t.scaleX<0,a="px",s="deg",o=getComputedStyle(r),l=Ys(r,Jn)||"0",c,h,p,f,m,g,x,_,v,b,A,w,T,E,B,I,C,R,D,V,j,Z,Q,X,ie,O,F,q,pe,we,Le,se;return c=h=p=g=x=_=v=b=A=0,f=m=1,t.svg=!!(r.getCTM&&mz(r)),o.translate&&((o.translate!=="none"||o.scale!=="none"||o.rotate!=="none")&&(i[Fr]=(o.translate!=="none"?"translate3d("+(o.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(o.rotate!=="none"?"rotate("+o.rotate+") ":"")+(o.scale!=="none"?"scale("+o.scale.split(" ").join(",")+") ":"")+(o[Fr]!=="none"?o[Fr]:"")),i.scale=i.rotate=i.translate="none"),E=QC(r,t.svg),t.svg&&(t.uncache?(ie=r.getBBox(),l=t.xOrigin-ie.x+"px "+(t.yOrigin-ie.y)+"px",X=""):X=!e&&r.getAttribute("data-svg-origin"),Qw(r,X||l,!!X||t.originIsAbsolute,t.smooth!==!1,E)),w=t.xOrigin||0,T=t.yOrigin||0,E!==Fm&&(R=E[0],D=E[1],V=E[2],j=E[3],c=Z=E[4],h=Q=E[5],E.length===6?(f=Math.sqrt(R*R+D*D),m=Math.sqrt(j*j+V*V),g=R||D?Eh(D,R)*zc:0,v=V||j?Eh(V,j)*zc+g:0,v&&(m*=Math.abs(Math.cos(v*md))),t.svg&&(c-=w-(w*R+T*V),h-=T-(w*D+T*j))):(se=E[6],we=E[7],F=E[8],q=E[9],pe=E[10],Le=E[11],c=E[12],h=E[13],p=E[14],B=Eh(se,pe),x=B*zc,B&&(I=Math.cos(-B),C=Math.sin(-B),X=Z*I+F*C,ie=Q*I+q*C,O=se*I+pe*C,F=Z*-C+F*I,q=Q*-C+q*I,pe=se*-C+pe*I,Le=we*-C+Le*I,Z=X,Q=ie,se=O),B=Eh(-V,pe),_=B*zc,B&&(I=Math.cos(-B),C=Math.sin(-B),X=R*I-F*C,ie=D*I-q*C,O=V*I-pe*C,Le=j*C+Le*I,R=X,D=ie,V=O),B=Eh(D,R),g=B*zc,B&&(I=Math.cos(B),C=Math.sin(B),X=R*I+D*C,ie=Z*I+Q*C,D=D*I-R*C,Q=Q*I-Z*C,R=X,Z=ie),x&&Math.abs(x)+Math.abs(g)>359.9&&(x=g=0,_=180-_),f=Jr(Math.sqrt(R*R+D*D+V*V)),m=Jr(Math.sqrt(Q*Q+se*se)),B=Eh(Z,Q),v=Math.abs(B)>2e-4?B*zc:0,A=Le?1/(Le<0?-Le:Le):0),t.svg&&(X=r.getAttribute("transform"),t.forceCSS=r.setAttribute("transform","")||!vz(Ys(r,Fr)),X&&r.setAttribute("transform",X))),Math.abs(v)>90&&Math.abs(v)<270&&(n?(f*=-1,v+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,v+=v<=0?180:-180)),e=e||t.uncache,t.x=c-((t.xPercent=c&&(!e&&t.xPercent||(Math.round(r.offsetWidth/2)===Math.round(-c)?-50:0)))?r.offsetWidth*t.xPercent/100:0)+a,t.y=h-((t.yPercent=h&&(!e&&t.yPercent||(Math.round(r.offsetHeight/2)===Math.round(-h)?-50:0)))?r.offsetHeight*t.yPercent/100:0)+a,t.z=p+a,t.scaleX=Jr(f),t.scaleY=Jr(m),t.rotation=Jr(g)+s,t.rotationX=Jr(x)+s,t.rotationY=Jr(_)+s,t.skewX=v+s,t.skewY=b+s,t.transformPerspective=A+a,(t.zOrigin=parseFloat(l.split(" ")[2])||!e&&t.zOrigin||0)&&(i[Jn]=I1(l)),t.xOffset=t.yOffset=0,t.force3D=ma.force3D,t.renderTransform=t.svg?Rte:pz?yz:Tte,t.uncache=0,t},I1=function(r){return(r=r.split(" "))[0]+" "+r[1]},qA=function(r,e,t){var i=Qi(e);return Jr(parseFloat(e)+parseFloat(ql(r,"x",t+"px",i)))+i},Tte=function(r,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,yz(r,e)},Pc="0deg",Yp="0px",Bc=") ",yz=function(r,e){var t=e||this,i=t.xPercent,n=t.yPercent,a=t.x,s=t.y,o=t.z,l=t.rotation,c=t.rotationY,h=t.rotationX,p=t.skewX,f=t.skewY,m=t.scaleX,g=t.scaleY,x=t.transformPerspective,_=t.force3D,v=t.target,b=t.zOrigin,A="",w=_==="auto"&&r&&r!==1||_===!0;if(b&&(h!==Pc||c!==Pc)){var T=parseFloat(c)*md,E=Math.sin(T),B=Math.cos(T),I;T=parseFloat(h)*md,I=Math.cos(T),a=qA(v,a,E*I*-b),s=qA(v,s,-Math.sin(T)*-b),o=qA(v,o,B*I*-b+b)}x!==Yp&&(A+="perspective("+x+Bc),(i||n)&&(A+="translate("+i+"%, "+n+"%) "),(w||a!==Yp||s!==Yp||o!==Yp)&&(A+=o!==Yp||w?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+Bc),l!==Pc&&(A+="rotate("+l+Bc),c!==Pc&&(A+="rotateY("+c+Bc),h!==Pc&&(A+="rotateX("+h+Bc),(p!==Pc||f!==Pc)&&(A+="skew("+p+", "+f+Bc),(m!==1||g!==1)&&(A+="scale("+m+", "+g+Bc),v.style[Fr]=A||"translate(0, 0)"},Rte=function(r,e){var t=e||this,i=t.xPercent,n=t.yPercent,a=t.x,s=t.y,o=t.rotation,l=t.skewX,c=t.skewY,h=t.scaleX,p=t.scaleY,f=t.target,m=t.xOrigin,g=t.yOrigin,x=t.xOffset,_=t.yOffset,v=t.forceCSS,b=parseFloat(a),A=parseFloat(s),w,T,E,B,I;o=parseFloat(o),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,o+=c),o||l?(o*=md,l*=md,w=Math.cos(o)*h,T=Math.sin(o)*h,E=Math.sin(o-l)*-p,B=Math.cos(o-l)*p,l&&(c*=md,I=Math.tan(l-c),I=Math.sqrt(1+I*I),E*=I,B*=I,c&&(I=Math.tan(c),I=Math.sqrt(1+I*I),w*=I,T*=I)),w=Jr(w),T=Jr(T),E=Jr(E),B=Jr(B)):(w=h,B=p,T=E=0),(b&&!~(a+"").indexOf("px")||A&&!~(s+"").indexOf("px"))&&(b=ql(f,"x",a,"px"),A=ql(f,"y",s,"px")),(m||g||x||_)&&(b=Jr(b+m-(m*w+g*E)+x),A=Jr(A+g-(m*T+g*B)+_)),(i||n)&&(I=f.getBBox(),b=Jr(b+i/100*I.width),A=Jr(A+n/100*I.height)),I="matrix("+w+","+T+","+E+","+B+","+b+","+A+")",f.setAttribute("transform",I),v&&(f.style[Fr]=I)},Pte=function(r,e,t,i,n){var a=360,s=Ci(n),o=parseFloat(n)*(s&&~n.indexOf("rad")?zc:1),l=o-i,c=i+l+"deg",h,p;return s&&(h=n.split("_")[1],h==="short"&&(l%=a,l!==l%(a/2)&&(l+=l<0?a:-a)),h==="cw"&&l<0?l=(l+a*TI)%a-~~(l/a)*a:h==="ccw"&&l>0&&(l=(l-a*TI)%a-~~(l/a)*a)),r._pt=p=new Xn(r._pt,e,t,i,l,pte),p.e=c,p.u="deg",r._props.push(t),p},FI=function(r,e){for(var t in e)r[t]=e[t];return r},Bte=function(r,e,t){var i=FI({},t._gsap),n="perspective,force3D,transformOrigin,svgOrigin",a=t.style,s,o,l,c,h,p,f,m;i.svg?(l=t.getAttribute("transform"),t.setAttribute("transform",""),a[Fr]=e,s=km(t,1),Du(t,Fr),t.setAttribute("transform",l)):(l=getComputedStyle(t)[Fr],a[Fr]=e,s=km(t,1),a[Fr]=l);for(o in Xo)l=i[o],c=s[o],l!==c&&n.indexOf(o)<0&&(f=Qi(l),m=Qi(c),h=f!==m?ql(t,o,l,m):parseFloat(l),p=parseFloat(c),r._pt=new Xn(r._pt,s,o,h,p-h,qw),r._pt.u=m||0,r._props.push(o));FI(s,i)};Wn("padding,margin,Width,Radius",function(r,e){var t="Top",i="Right",n="Bottom",a="Left",s=(e<3?[t,i,n,a]:[t+a,t+i,n+i,n+a]).map(function(o){return e<2?r+o:"border"+o+r});B1[e>1?"border"+r:r]=function(o,l,c,h,p){var f,m;if(arguments.length<4)return f=s.map(function(g){return xo(o,g,c)}),m=f.join(" "),m.split(f[0]).length===5?f[0]:m;f=(h+"").split(" "),m={},s.forEach(function(g,x){return m[g]=f[x]=f[x]||f[(x-1)/2|0]}),o.init(l,m,p)}});var _z={name:"css",register:Zw,targetTest:function(r){return r.style&&r.nodeType},init:function(r,e,t,i,n){var a=this._props,s=r.style,o=t.vars.startAt,l,c,h,p,f,m,g,x,_,v,b,A,w,T,E,B;qC||Zw(),this.styles=this.styles||dz(r),B=this.styles.props,this.tween=t;for(g in e)if(g!=="autoRound"&&(c=e[g],!(aa[g]&&tz(g,e,t,i,r,n)))){if(f=typeof c,m=B1[g],f==="function"&&(c=c.call(t,i,r,n),f=typeof c),f==="string"&&~c.indexOf("random(")&&(c=Im(c)),m)m(this,r,g,c,t)&&(E=1);else if(g.substr(0,2)==="--")l=(getComputedStyle(r).getPropertyValue(g)+"").trim(),c+="",Ul.lastIndex=0,Ul.test(l)||(x=Qi(l),_=Qi(c)),_?x!==_&&(l=ql(r,g,l,_)+_):x&&(c+=x),this.add(s,"setProperty",l,c,i,n,0,0,g),a.push(g),B.push(g,0,s[g]);else if(f!=="undefined"){if(o&&g in o?(l=typeof o[g]=="function"?o[g].call(t,i,r,n):o[g],Ci(l)&&~l.indexOf("random(")&&(l=Im(l)),Qi(l+"")||l==="auto"||(l+=ma.units[g]||Qi(xo(r,g))||""),(l+"").charAt(1)==="="&&(l=xo(r,g))):l=xo(r,g),p=parseFloat(l),v=f==="string"&&c.charAt(1)==="="&&c.substr(0,2),v&&(c=c.substr(2)),h=parseFloat(c),g in zs&&(g==="autoAlpha"&&(p===1&&xo(r,"visibility")==="hidden"&&h&&(p=0),B.push("visibility",0,s.visibility),Ml(this,s,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),g!=="scale"&&g!=="transform"&&(g=zs[g],~g.indexOf(",")&&(g=g.split(",")[0]))),b=g in Xo,b){if(this.styles.save(g),A||(w=r._gsap,w.renderTransform&&!e.parseTransform||km(r,e.parseTransform),T=e.smoothOrigin!==!1&&w.smooth,A=this._pt=new Xn(this._pt,s,Fr,0,1,w.renderTransform,w,0,-1),A.dep=1),g==="scale")this._pt=new Xn(this._pt,w,"scaleY",w.scaleY,(v?pd(w.scaleY,v+h):h)-w.scaleY||0,qw),this._pt.u=0,a.push("scaleY",g),g+="X";else if(g==="transformOrigin"){B.push(Jn,0,s[Jn]),c=Ete(c),w.svg?Qw(r,c,0,T,0,this):(_=parseFloat(c.split(" ")[2])||0,_!==w.zOrigin&&Ml(this,w,"zOrigin",w.zOrigin,_),Ml(this,s,g,I1(l),I1(c)));continue}else if(g==="svgOrigin"){Qw(r,c,1,T,0,this);continue}else if(g in gz){Pte(this,w,g,p,v?pd(p,v+c):c);continue}else if(g==="smoothOrigin"){Ml(this,w,"smooth",w.smooth,c);continue}else if(g==="force3D"){w[g]=c;continue}else if(g==="transform"){Bte(this,c,r);continue}}else g in s||(g=Gd(g)||g);if(b||(h||h===0)&&(p||p===0)&&!dte.test(c)&&g in s)x=(l+"").substr((p+"").length),h||(h=0),_=Qi(c)||(g in ma.units?ma.units[g]:x),x!==_&&(p=ql(r,g,l,_)),this._pt=new Xn(this._pt,b?w:s,g,p,(v?pd(p,v+h):h)-p,!b&&(_==="px"||g==="zIndex")&&e.autoRound!==!1?mte:qw),this._pt.u=_||0,x!==_&&_!=="%"&&(this._pt.b=l,this._pt.r=fte);else if(g in s)Mte.call(this,r,g,l,v?v+c:c);else if(g in r)this.add(r,g,l||r[g],v?v+c:c,i,n);else if(g!=="parseTransform"){zC(g,c);continue}b||(g in s?B.push(g,0,s[g]):typeof r[g]=="function"?B.push(g,2,r[g]()):B.push(g,1,l||r[g])),a.push(g)}}E&&oz(this)},render:function(r,e){if(e.tween._time||!KC())for(var t=e._pt;t;)t.r(r,t.d),t=t._next;else e.styles.revert()},get:xo,aliases:zs,getSetter:function(r,e,t){var i=zs[e];return i&&i.indexOf(",")<0&&(e=i),e in Xo&&e!==Jn&&(r._gsap.x||xo(r,"x"))?t&&CI===t?e==="scale"?_te:yte:(CI=t||{})&&(e==="scale"?xte:bte):r.style&&!OC(r.style[e])?gte:~e.indexOf("-")?vte:JC(r,e)},core:{_removeProperty:Du,_getMatrix:QC}};qn.utils.checkPrefix=Gd;qn.core.getStyleSaver=dz;(function(r,e,t,i){var n=Wn(r+","+e+","+t,function(a){Xo[a]=1});Wn(e,function(a){ma.units[a]="deg",gz[a]=1}),zs[n[13]]=r+","+e,Wn(i,function(a){var s=a.split(":");zs[s[1]]=n[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Wn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){ma.units[r]="px"});qn.registerPlugin(_z);var eo=qn.registerPlugin(_z)||qn;eo.core.Tween;function kI(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function Ite(r,e,t){return e&&kI(r.prototype,e),t&&kI(r,t),r}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ii,$v,la,El,Cl,gd,xz,Gc,Uf,bz,Ro,os,Az,Sz=function(){return Ii||typeof window<"u"&&(Ii=window.gsap)&&Ii.registerPlugin&&Ii},wz=1,rd=[],Gt=[],qs=[],zf=Date.now,$w=function(r,e){return e},Dte=function(){var r=Uf.core,e=r.bridge||{},t=r._scrollers,i=r._proxies;t.push.apply(t,Gt),i.push.apply(i,qs),Gt=t,qs=i,$w=function(n,a){return e[n](a)}},zl=function(r,e){return~qs.indexOf(r)&&qs[qs.indexOf(r)+1][e]},Gf=function(r){return!!~bz.indexOf(r)},hn=function(r,e,t,i,n){return r.addEventListener(e,t,{passive:i!==!1,capture:!!n})},un=function(r,e,t,i){return r.removeEventListener(e,t,!!i)},xv="scrollLeft",bv="scrollTop",eM=function(){return Ro&&Ro.isPressed||Gt.cache++},D1=function(r,e){var t=function i(n){if(n||n===0){wz&&(la.history.scrollRestoration="manual");var a=Ro&&Ro.isPressed;n=i.v=Math.round(n)||(Ro&&Ro.iOS?1:0),r(n),i.cacheID=Gt.cache,a&&$w("ss",n)}else(e||Gt.cache!==i.cacheID||$w("ref"))&&(i.cacheID=Gt.cache,i.v=r());return i.v+i.offset};return t.offset=0,r&&t},xn={s:xv,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:D1(function(r){return arguments.length?la.scrollTo(r,hi.sc()):la.pageXOffset||El[xv]||Cl[xv]||gd[xv]||0})},hi={s:bv,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:xn,sc:D1(function(r){return arguments.length?la.scrollTo(xn.sc(),r):la.pageYOffset||El[bv]||Cl[bv]||gd[bv]||0})},Fn=function(r,e){return(e&&e._ctx&&e._ctx.selector||Ii.utils.toArray)(r)[0]||(typeof r=="string"&&Ii.config().nullTargetWarn!==!1?console.warn("Element not found:",r):null)},Kl=function(r,e){var t=e.s,i=e.sc;Gf(r)&&(r=El.scrollingElement||Cl);var n=Gt.indexOf(r),a=i===hi.sc?1:2;!~n&&(n=Gt.push(r)-1),Gt[n+a]||hn(r,"scroll",eM);var s=Gt[n+a],o=s||(Gt[n+a]=D1(zl(r,t),!0)||(Gf(r)?i:D1(function(l){return arguments.length?r[t]=l:r[t]})));return o.target=r,s||(o.smooth=Ii.getProperty(r,"scrollBehavior")==="smooth"),o},tM=function(r,e,t){var i=r,n=r,a=zf(),s=a,o=e||50,l=Math.max(500,o*3),c=function(f,m){var g=zf();m||g-a>o?(n=i,i=f,s=a,a=g):t?i+=f:i=n+(f-n)/(g-s)*(a-s)},h=function(){n=i=t?0:i,s=a=0},p=function(f){var m=s,g=n,x=zf();return(f||f===0)&&f!==i&&c(f),a===s||x-s>l?0:(i+(t?g:-g))/((t?x:a)-m)*1e3};return{update:c,reset:h,getVelocity:p}},qp=function(r,e){return e&&!r._gsapAllow&&r.preventDefault(),r.changedTouches?r.changedTouches[0]:r},OI=function(r){var e=Math.max.apply(Math,r),t=Math.min.apply(Math,r);return Math.abs(e)>=Math.abs(t)?e:t},Mz=function(){Uf=Ii.core.globals().ScrollTrigger,Uf&&Uf.core&&Dte()},Ez=function(r){return Ii=r||Sz(),!$v&&Ii&&typeof document<"u"&&document.body&&(la=window,El=document,Cl=El.documentElement,gd=El.body,bz=[la,El,Cl,gd],Ii.utils.clamp,Az=Ii.core.context||function(){},Gc="onpointerenter"in gd?"pointer":"mouse",xz=Zr.isTouch=la.matchMedia&&la.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in la||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,os=Zr.eventTypes=("ontouchstart"in Cl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Cl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return wz=0},500),Mz(),$v=1),$v};xn.op=hi;Gt.cache=0;var Zr=function(){function r(t){this.init(t)}var e=r.prototype;return e.init=function(t){$v||Ez(Ii)||console.warn("Please gsap.registerPlugin(Observer)"),Uf||Mz();var i=t.tolerance,n=t.dragMinimum,a=t.type,s=t.target,o=t.lineHeight,l=t.debounce,c=t.preventDefault,h=t.onStop,p=t.onStopDelay,f=t.ignore,m=t.wheelSpeed,g=t.event,x=t.onDragStart,_=t.onDragEnd,v=t.onDrag,b=t.onPress,A=t.onRelease,w=t.onRight,T=t.onLeft,E=t.onUp,B=t.onDown,I=t.onChangeX,C=t.onChangeY,R=t.onChange,D=t.onToggleX,V=t.onToggleY,j=t.onHover,Z=t.onHoverEnd,Q=t.onMove,X=t.ignoreCheck,ie=t.isNormalizer,O=t.onGestureStart,F=t.onGestureEnd,q=t.onWheel,pe=t.onEnable,we=t.onDisable,Le=t.onClick,se=t.scrollSpeed,ye=t.capture,Se=t.allowClicks,Ee=t.lockAxis,je=t.onLockAxis;this.target=s=Fn(s)||Cl,this.vars=t,f&&(f=Ii.utils.toArray(f)),i=i||1e-9,n=n||0,m=m||1,se=se||1,a=a||"wheel,touch,pointer",l=l!==!1,o||(o=parseFloat(la.getComputedStyle(gd).lineHeight)||22);var it,Ne,ue,oe,xe,z,ke,Y=this,Ue=0,Fe=0,ut=t.passive||!c&&t.passive!==!1,Te=Kl(s,xn),U=Kl(s,hi),L=Te(),ee=U(),me=~a.indexOf("touch")&&!~a.indexOf("pointer")&&os[0]==="pointerdown",Ae=Gf(s),de=s.ownerDocument||El,Ve=[0,0,0],ze=[0,0,0],We=0,wt=function(){return We=zf()},Me=function(Re,nt){return(Y.event=Re)&&f&&~f.indexOf(Re.target)||nt&&me&&Re.pointerType!=="touch"||X&&X(Re,nt)},tt=function(){Y._vx.reset(),Y._vy.reset(),Ne.pause(),h&&h(Y)},ct=function(){var Re=Y.deltaX=OI(Ve),nt=Y.deltaY=OI(ze),Xt=Math.abs(Re)>=i,Xe=Math.abs(nt)>=i;R&&(Xt||Xe)&&R(Y,Re,nt,Ve,ze),Xt&&(w&&Y.deltaX>0&&w(Y),T&&Y.deltaX<0&&T(Y),I&&I(Y),D&&Y.deltaX<0!=Ue<0&&D(Y),Ue=Y.deltaX,Ve[0]=Ve[1]=Ve[2]=0),Xe&&(B&&Y.deltaY>0&&B(Y),E&&Y.deltaY<0&&E(Y),C&&C(Y),V&&Y.deltaY<0!=Fe<0&&V(Y),Fe=Y.deltaY,ze[0]=ze[1]=ze[2]=0),(oe||ue)&&(Q&&Q(Y),ue&&(x&&ue===1&&x(Y),v&&v(Y),ue=0),oe=!1),z&&!(z=!1)&&je&&je(Y),xe&&(q(Y),xe=!1),it=0},pt=function(Re,nt,Xt){Ve[Xt]+=Re,ze[Xt]+=nt,Y._vx.update(Re),Y._vy.update(nt),l?it||(it=requestAnimationFrame(ct)):ct()},H=function(Re,nt){Ee&&!ke&&(Y.axis=ke=Math.abs(Re)>Math.abs(nt)?"x":"y",z=!0),ke!=="y"&&(Ve[2]+=Re,Y._vx.update(Re,!0)),ke!=="x"&&(ze[2]+=nt,Y._vy.update(nt,!0)),l?it||(it=requestAnimationFrame(ct)):ct()},ge=function(Re){if(!Me(Re,1)){Re=qp(Re,c);var nt=Re.clientX,Xt=Re.clientY,Xe=nt-Y.x,Et=Xt-Y.y,gt=Y.isDragging;Y.x=nt,Y.y=Xt,(gt||(Xe||Et)&&(Math.abs(Y.startX-nt)>=n||Math.abs(Y.startY-Xt)>=n))&&(ue=gt?2:1,gt||(Y.isDragging=!0),H(Xe,Et))}},Pe=Y.onPress=function(Re){Me(Re,1)||Re&&Re.button||(Y.axis=ke=null,Ne.pause(),Y.isPressed=!0,Re=qp(Re),Ue=Fe=0,Y.startX=Y.x=Re.clientX,Y.startY=Y.y=Re.clientY,Y._vx.reset(),Y._vy.reset(),hn(ie?s:de,os[1],ge,ut,!0),Y.deltaX=Y.deltaY=0,b&&b(Y))},Ie=Y.onRelease=function(Re){if(!Me(Re,1)){un(ie?s:de,os[1],ge,!0);var nt=!isNaN(Y.y-Y.startY),Xt=Y.isDragging,Xe=Xt&&(Math.abs(Y.x-Y.startX)>3||Math.abs(Y.y-Y.startY)>3),Et=qp(Re);!Xe&&nt&&(Y._vx.reset(),Y._vy.reset(),c&&Se&&Ii.delayedCall(.08,function(){if(zf()-We>300&&!Re.defaultPrevented){if(Re.target.click)Re.target.click();else if(de.createEvent){var gt=de.createEvent("MouseEvents");gt.initMouseEvent("click",!0,!0,la,1,Et.screenX,Et.screenY,Et.clientX,Et.clientY,!1,!1,!1,!1,0,null),Re.target.dispatchEvent(gt)}}})),Y.isDragging=Y.isGesturing=Y.isPressed=!1,h&&Xt&&!ie&&Ne.restart(!0),ue&&ct(),_&&Xt&&_(Y),A&&A(Y,Xe)}},J=function(Re){return Re.touches&&Re.touches.length>1&&(Y.isGesturing=!0)&&O(Re,Y.isDragging)},Be=function(){return(Y.isGesturing=!1)||F(Y)},ce=function(Re){if(!Me(Re)){var nt=Te(),Xt=U();pt((nt-L)*se,(Xt-ee)*se,1),L=nt,ee=Xt,h&&Ne.restart(!0)}},be=function(Re){if(!Me(Re)){Re=qp(Re,c),q&&(xe=!0);var nt=(Re.deltaMode===1?o:Re.deltaMode===2?la.innerHeight:1)*m;pt(Re.deltaX*nt,Re.deltaY*nt,0),h&&!ie&&Ne.restart(!0)}},Ge=function(Re){if(!Me(Re)){var nt=Re.clientX,Xt=Re.clientY,Xe=nt-Y.x,Et=Xt-Y.y;Y.x=nt,Y.y=Xt,oe=!0,h&&Ne.restart(!0),(Xe||Et)&&H(Xe,Et)}},De=function(Re){Y.event=Re,j(Y)},yt=function(Re){Y.event=Re,Z(Y)},Ht=function(Re){return Me(Re)||qp(Re,c)&&Le(Y)};Ne=Y._dc=Ii.delayedCall(p||.25,tt).pause(),Y.deltaX=Y.deltaY=0,Y._vx=tM(0,50,!0),Y._vy=tM(0,50,!0),Y.scrollX=Te,Y.scrollY=U,Y.isDragging=Y.isGesturing=Y.isPressed=!1,Az(this),Y.enable=function(Re){return Y.isEnabled||(hn(Ae?de:s,"scroll",eM),a.indexOf("scroll")>=0&&hn(Ae?de:s,"scroll",ce,ut,ye),a.indexOf("wheel")>=0&&hn(s,"wheel",be,ut,ye),(a.indexOf("touch")>=0&&xz||a.indexOf("pointer")>=0)&&(hn(s,os[0],Pe,ut,ye),hn(de,os[2],Ie),hn(de,os[3],Ie),Se&&hn(s,"click",wt,!0,!0),Le&&hn(s,"click",Ht),O&&hn(de,"gesturestart",J),F&&hn(de,"gestureend",Be),j&&hn(s,Gc+"enter",De),Z&&hn(s,Gc+"leave",yt),Q&&hn(s,Gc+"move",Ge)),Y.isEnabled=!0,Y.isDragging=Y.isGesturing=Y.isPressed=oe=ue=!1,Y._vx.reset(),Y._vy.reset(),L=Te(),ee=U(),Re&&Re.type&&Pe(Re),pe&&pe(Y)),Y},Y.disable=function(){Y.isEnabled&&(rd.filter(function(Re){return Re!==Y&&Gf(Re.target)}).length||un(Ae?de:s,"scroll",eM),Y.isPressed&&(Y._vx.reset(),Y._vy.reset(),un(ie?s:de,os[1],ge,!0)),un(Ae?de:s,"scroll",ce,ye),un(s,"wheel",be,ye),un(s,os[0],Pe,ye),un(de,os[2],Ie),un(de,os[3],Ie),un(s,"click",wt,!0),un(s,"click",Ht),un(de,"gesturestart",J),un(de,"gestureend",Be),un(s,Gc+"enter",De),un(s,Gc+"leave",yt),un(s,Gc+"move",Ge),Y.isEnabled=Y.isPressed=Y.isDragging=!1,we&&we(Y))},Y.kill=Y.revert=function(){Y.disable();var Re=rd.indexOf(Y);Re>=0&&rd.splice(Re,1),Ro===Y&&(Ro=0)},rd.push(Y),ie&&Gf(s)&&(Ro=Y),Y.enable(g)},Ite(r,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),r}();Zr.version="3.12.7";Zr.create=function(r){return new Zr(r)};Zr.register=Ez;Zr.getAll=function(){return rd.slice()};Zr.getById=function(r){return rd.filter(function(e){return e.vars.id===r})[0]};Sz()&&Ii.registerPlugin(Zr);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lt,Ih,zt,vr,sa,or,$C,L1,Om,Hf,of,Av,qi,q_,rM,gn,NI,UI,Dh,Cz,KA,Tz,fn,iM,Rz,Pz,fl,nM,eT,vd,tT,F1,aM,ZA,Sv=1,Ki=Date.now,QA=Ki(),Ka=0,lf=0,zI=function(r,e,t){var i=na(r)&&(r.substr(0,6)==="clamp("||r.indexOf("max")>-1);return t["_"+e+"Clamp"]=i,i?r.substr(6,r.length-7):r},GI=function(r,e){return e&&(!na(r)||r.substr(0,6)!=="clamp(")?"clamp("+r+")":r},Lte=function r(){return lf&&requestAnimationFrame(r)},HI=function(){return q_=1},VI=function(){return q_=0},Os=function(r){return r},cf=function(r){return Math.round(r*1e5)/1e5||0},Bz=function(){return typeof window<"u"},Iz=function(){return lt||Bz()&&(lt=window.gsap)&&lt.registerPlugin&&lt},Lu=function(r){return!!~$C.indexOf(r)},Dz=function(r){return(r==="Height"?tT:zt["inner"+r])||sa["client"+r]||or["client"+r]},Lz=function(r){return zl(r,"getBoundingClientRect")||(Lu(r)?function(){return ny.width=zt.innerWidth,ny.height=tT,ny}:function(){return So(r)})},Fte=function(r,e,t){var i=t.d,n=t.d2,a=t.a;return(a=zl(r,"getBoundingClientRect"))?function(){return a()[i]}:function(){return(e?Dz(n):r["client"+n])||0}},kte=function(r,e){return!e||~qs.indexOf(r)?Lz(r):function(){return ny}},Gs=function(r,e){var t=e.s,i=e.d2,n=e.d,a=e.a;return Math.max(0,(t="scroll"+i)&&(a=zl(r,t))?a()-Lz(r)()[n]:Lu(r)?(sa[t]||or[t])-Dz(i):r[t]-r["offset"+i])},wv=function(r,e){for(var t=0;t<Dh.length;t+=3)(!e||~e.indexOf(Dh[t+1]))&&r(Dh[t],Dh[t+1],Dh[t+2])},na=function(r){return typeof r=="string"},$i=function(r){return typeof r=="function"},uf=function(r){return typeof r=="number"},Hc=function(r){return typeof r=="object"},Kp=function(r,e,t){return r&&r.progress(e?0:1)&&t&&r.pause()},$A=function(r,e){if(r.enabled){var t=r._ctx?r._ctx.add(function(){return e(r)}):e(r);t&&t.totalTime&&(r.callbackAnimation=t)}},Ch=Math.abs,Fz="left",kz="top",rT="right",iT="bottom",gu="width",vu="height",Vf="Right",jf="Left",Wf="Top",Xf="Bottom",ni="padding",Ha="margin",Hd="Width",nT="Height",ci="px",Va=function(r){return zt.getComputedStyle(r)},Ote=function(r){var e=Va(r).position;r.style.position=e==="absolute"||e==="fixed"?e:"relative"},jI=function(r,e){for(var t in e)t in r||(r[t]=e[t]);return r},So=function(r,e){var t=e&&Va(r)[rM]!=="matrix(1, 0, 0, 1, 0, 0)"&&lt.to(r,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=r.getBoundingClientRect();return t&&t.progress(0).kill(),i},k1=function(r,e){var t=e.d2;return r["offset"+t]||r["client"+t]||0},Oz=function(r){var e=[],t=r.labels,i=r.duration(),n;for(n in t)e.push(t[n]/i);return e},Nte=function(r){return function(e){return lt.utils.snap(Oz(r),e)}},aT=function(r){var e=lt.utils.snap(r),t=Array.isArray(r)&&r.slice(0).sort(function(i,n){return i-n});return t?function(i,n,a){a===void 0&&(a=.001);var s;if(!n)return e(i);if(n>0){for(i-=a,s=0;s<t.length;s++)if(t[s]>=i)return t[s];return t[s-1]}else for(s=t.length,i+=a;s--;)if(t[s]<=i)return t[s];return t[0]}:function(i,n,a){a===void 0&&(a=.001);var s=e(i);return!n||Math.abs(s-i)<a||s-i<0==n<0?s:e(n<0?i-r:i+r)}},Ute=function(r){return function(e,t){return aT(Oz(r))(e,t.direction)}},Mv=function(r,e,t,i){return t.split(",").forEach(function(n){return r(e,n,i)})},Ai=function(r,e,t,i,n){return r.addEventListener(e,t,{passive:!i,capture:!!n})},bi=function(r,e,t,i){return r.removeEventListener(e,t,!!i)},Ev=function(r,e,t){t=t&&t.wheelHandler,t&&(r(e,"wheel",t),r(e,"touchmove",t))},WI={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Cv={toggleActions:"play",anticipatePin:0},O1={top:0,left:0,center:.5,bottom:1,right:1},ey=function(r,e){if(na(r)){var t=r.indexOf("="),i=~t?+(r.charAt(t-1)+1)*parseFloat(r.substr(t+1)):0;~t&&(r.indexOf("%")>t&&(i*=e/100),r=r.substr(0,t-1)),r=i+(r in O1?O1[r]*e:~r.indexOf("%")?parseFloat(r)*e/100:parseFloat(r)||0)}return r},Tv=function(r,e,t,i,n,a,s,o){var l=n.startColor,c=n.endColor,h=n.fontSize,p=n.indent,f=n.fontWeight,m=vr.createElement("div"),g=Lu(t)||zl(t,"pinType")==="fixed",x=r.indexOf("scroller")!==-1,_=g?or:t,v=r.indexOf("start")!==-1,b=v?l:c,A="border-color:"+b+";font-size:"+h+";color:"+b+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return A+="position:"+((x||o)&&g?"fixed;":"absolute;"),(x||o||!g)&&(A+=(i===hi?rT:iT)+":"+(a+parseFloat(p))+"px;"),s&&(A+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),m._isStart=v,m.setAttribute("class","gsap-marker-"+r+(e?" marker-"+e:"")),m.style.cssText=A,m.innerText=e||e===0?r+"-"+e:r,_.children[0]?_.insertBefore(m,_.children[0]):_.appendChild(m),m._offset=m["offset"+i.op.d2],ty(m,0,i,v),m},ty=function(r,e,t,i){var n={display:"block"},a=t[i?"os2":"p2"],s=t[i?"p2":"os2"];r._isFlipped=i,n[t.a+"Percent"]=i?-100:0,n[t.a]=i?"1px":0,n["border"+a+Hd]=1,n["border"+s+Hd]=0,n[t.p]=e+"px",lt.set(r,n)},Ut=[],sM={},Nm,XI=function(){return Ki()-Ka>34&&(Nm||(Nm=requestAnimationFrame(ko)))},Th=function(){(!fn||!fn.isPressed||fn.startX>or.clientWidth)&&(Gt.cache++,fn?Nm||(Nm=requestAnimationFrame(ko)):ko(),Ka||ku("scrollStart"),Ka=Ki())},eS=function(){Pz=zt.innerWidth,Rz=zt.innerHeight},hf=function(r){Gt.cache++,(r===!0||!qi&&!Tz&&!vr.fullscreenElement&&!vr.webkitFullscreenElement&&(!iM||Pz!==zt.innerWidth||Math.abs(zt.innerHeight-Rz)>zt.innerHeight*.25))&&L1.restart(!0)},Fu={},zte=[],Nz=function r(){return bi(Ot,"scrollEnd",r)||iu(!0)},ku=function(r){return Fu[r]&&Fu[r].map(function(e){return e()})||zte},ra=[],Uz=function(r){for(var e=0;e<ra.length;e+=5)(!r||ra[e+4]&&ra[e+4].query===r)&&(ra[e].style.cssText=ra[e+1],ra[e].getBBox&&ra[e].setAttribute("transform",ra[e+2]||""),ra[e+3].uncache=1)},sT=function(r,e){var t;for(gn=0;gn<Ut.length;gn++)t=Ut[gn],t&&(!e||t._ctx===e)&&(r?t.kill(1):t.revert(!0,!0));F1=!0,e&&Uz(e),e||ku("revert")},zz=function(r,e){Gt.cache++,(e||!vn)&&Gt.forEach(function(t){return $i(t)&&t.cacheID++&&(t.rec=0)}),na(r)&&(zt.history.scrollRestoration=eT=r)},vn,yu=0,JI,Gte=function(){if(JI!==yu){var r=JI=yu;requestAnimationFrame(function(){return r===yu&&iu(!0)})}},Gz=function(){or.appendChild(vd),tT=!fn&&vd.offsetHeight||zt.innerHeight,or.removeChild(vd)},YI=function(r){return Om(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(e){return e.style.display=r?"none":"block"})},iu=function(r,e){if(sa=vr.documentElement,or=vr.body,$C=[zt,vr,sa,or],Ka&&!r&&!F1){Ai(Ot,"scrollEnd",Nz);return}Gz(),vn=Ot.isRefreshing=!0,Gt.forEach(function(i){return $i(i)&&++i.cacheID&&(i.rec=i())});var t=ku("refreshInit");Cz&&Ot.sort(),e||sT(),Gt.forEach(function(i){$i(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Ut.slice(0).forEach(function(i){return i.refresh()}),F1=!1,Ut.forEach(function(i){if(i._subPinOffset&&i.pin){var n=i.vars.horizontal?"offsetWidth":"offsetHeight",a=i.pin[n];i.revert(!0,1),i.adjustPinSpacing(i.pin[n]-a),i.refresh()}}),aM=1,YI(!0),Ut.forEach(function(i){var n=Gs(i.scroller,i._dir),a=i.vars.end==="max"||i._endClamp&&i.end>n,s=i._startClamp&&i.start>=n;(a||s)&&i.setPositions(s?n-1:i.start,a?Math.max(s?n:i.start+1,n):i.end,!0)}),YI(!1),aM=0,t.forEach(function(i){return i&&i.render&&i.render(-1)}),Gt.forEach(function(i){$i(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),zz(eT,1),L1.pause(),yu++,vn=2,ko(2),Ut.forEach(function(i){return $i(i.vars.onRefresh)&&i.vars.onRefresh(i)}),vn=Ot.isRefreshing=!1,ku("refresh")},oM=0,ry=1,Jf,ko=function(r){if(r===2||!vn&&!F1){Ot.isUpdating=!0,Jf&&Jf.update(0);var e=Ut.length,t=Ki(),i=t-QA>=50,n=e&&Ut[0].scroll();if(ry=oM>n?-1:1,vn||(oM=n),i&&(Ka&&!q_&&t-Ka>200&&(Ka=0,ku("scrollEnd")),of=QA,QA=t),ry<0){for(gn=e;gn-- >0;)Ut[gn]&&Ut[gn].update(0,i);ry=1}else for(gn=0;gn<e;gn++)Ut[gn]&&Ut[gn].update(0,i);Ot.isUpdating=!1}Nm=0},lM=[Fz,kz,iT,rT,Ha+Xf,Ha+Vf,Ha+Wf,Ha+jf,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],iy=lM.concat([gu,vu,"boxSizing","max"+Hd,"max"+nT,"position",Ha,ni,ni+Wf,ni+Vf,ni+Xf,ni+jf]),Hte=function(r,e,t){yd(t);var i=r._gsap;if(i.spacerIsNative)yd(i.spacerState);else if(r._gsap.swappedIn){var n=e.parentNode;n&&(n.insertBefore(r,e),n.removeChild(e))}r._gsap.swappedIn=!1},tS=function(r,e,t,i){if(!r._gsap.swappedIn){for(var n=lM.length,a=e.style,s=r.style,o;n--;)o=lM[n],a[o]=t[o];a.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(a.display="inline-block"),s[iT]=s[rT]="auto",a.flexBasis=t.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[gu]=k1(r,xn)+ci,a[vu]=k1(r,hi)+ci,a[ni]=s[Ha]=s[kz]=s[Fz]="0",yd(i),s[gu]=s["max"+Hd]=t[gu],s[vu]=s["max"+nT]=t[vu],s[ni]=t[ni],r.parentNode!==e&&(r.parentNode.insertBefore(e,r),e.appendChild(r)),r._gsap.swappedIn=!0}},Vte=/([A-Z])/g,yd=function(r){if(r){var e=r.t.style,t=r.length,i=0,n,a;for((r.t._gsap||lt.core.getCache(r.t)).uncache=1;i<t;i+=2)a=r[i+1],n=r[i],a?e[n]=a:e[n]&&e.removeProperty(n.replace(Vte,"-$1").toLowerCase())}},Rv=function(r){for(var e=iy.length,t=r.style,i=[],n=0;n<e;n++)i.push(iy[n],t[iy[n]]);return i.t=r,i},jte=function(r,e,t){for(var i=[],n=r.length,a=t?8:0,s;a<n;a+=2)s=r[a],i.push(s,s in e?e[s]:r[a+1]);return i.t=r.t,i},ny={left:0,top:0},qI=function(r,e,t,i,n,a,s,o,l,c,h,p,f,m){$i(r)&&(r=r(o)),na(r)&&r.substr(0,3)==="max"&&(r=p+(r.charAt(4)==="="?ey("0"+r.substr(3),t):0));var g=f?f.time():0,x,_,v;if(f&&f.seek(0),isNaN(r)||(r=+r),uf(r))f&&(r=lt.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,p,r)),s&&ty(s,t,i,!0);else{$i(e)&&(e=e(o));var b=(r||"0").split(" "),A,w,T,E;v=Fn(e,o)||or,A=So(v)||{},(!A||!A.left&&!A.top)&&Va(v).display==="none"&&(E=v.style.display,v.style.display="block",A=So(v),E?v.style.display=E:v.style.removeProperty("display")),w=ey(b[0],A[i.d]),T=ey(b[1]||"0",t),r=A[i.p]-l[i.p]-c+w+n-T,s&&ty(s,T,i,t-T<20||s._isStart&&T>20),t-=t-T}if(m&&(o[m]=r||-.001,r<0&&(r=0)),a){var B=r+t,I=a._isStart;x="scroll"+i.d2,ty(a,B,i,I&&B>20||!I&&(h?Math.max(or[x],sa[x]):a.parentNode[x])<=B+1),h&&(l=So(s),h&&(a.style[i.op.p]=l[i.op.p]-i.op.m-a._offset+ci))}return f&&v&&(x=So(v),f.seek(p),_=So(v),f._caScrollDist=x[i.p]-_[i.p],r=r/f._caScrollDist*p),f&&f.seek(g),f?r:Math.round(r)},Wte=/(webkit|moz|length|cssText|inset)/i,KI=function(r,e,t,i){if(r.parentNode!==e){var n=r.style,a,s;if(e===or){r._stOrig=n.cssText,s=Va(r);for(a in s)!+a&&!Wte.test(a)&&s[a]&&typeof n[a]=="string"&&a!=="0"&&(n[a]=s[a]);n.top=t,n.left=i}else n.cssText=r._stOrig;lt.core.getCache(r).uncache=1,e.appendChild(r)}},Hz=function(r,e,t){var i=e,n=i;return function(a){var s=Math.round(r());return s!==i&&s!==n&&Math.abs(s-i)>3&&Math.abs(s-n)>3&&(a=s,t&&t()),n=i,i=Math.round(a),i}},Pv=function(r,e,t){var i={};i[e.p]="+="+t,lt.set(r,i)},ZI=function(r,e){var t=Kl(r,e),i="_scroll"+e.p2,n=function a(s,o,l,c,h){var p=a.tween,f=o.onComplete,m={};l=l||t();var g=Hz(t,l,function(){p.kill(),a.tween=0});return h=c&&h||0,c=c||s-l,p&&p.kill(),o[i]=s,o.inherit=!1,o.modifiers=m,m[i]=function(){return g(l+c*p.ratio+h*p.ratio*p.ratio)},o.onUpdate=function(){Gt.cache++,a.tween&&ko()},o.onComplete=function(){a.tween=0,f&&f.call(p)},p=a.tween=lt.to(r,o),p};return r[i]=t,t.wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},Ai(r,"wheel",t.wheelHandler),Ot.isTouch&&Ai(r,"touchmove",t.wheelHandler),n},Ot=function(){function r(t,i){Ih||r.register(lt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),nM(this),this.init(t,i)}var e=r.prototype;return e.init=function(t,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!lf){this.update=this.refresh=this.kill=Os;return}t=jI(na(t)||uf(t)||t.nodeType?{trigger:t}:t,Cv);var n=t,a=n.onUpdate,s=n.toggleClass,o=n.id,l=n.onToggle,c=n.onRefresh,h=n.scrub,p=n.trigger,f=n.pin,m=n.pinSpacing,g=n.invalidateOnRefresh,x=n.anticipatePin,_=n.onScrubComplete,v=n.onSnapComplete,b=n.once,A=n.snap,w=n.pinReparent,T=n.pinSpacer,E=n.containerAnimation,B=n.fastScrollEnd,I=n.preventOverlaps,C=t.horizontal||t.containerAnimation&&t.horizontal!==!1?xn:hi,R=!h&&h!==0,D=Fn(t.scroller||zt),V=lt.core.getCache(D),j=Lu(D),Z=("pinType"in t?t.pinType:zl(D,"pinType")||j&&"fixed")==="fixed",Q=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],X=R&&t.toggleActions.split(" "),ie="markers"in t?t.markers:Cv.markers,O=j?0:parseFloat(Va(D)["border"+C.p2+Hd])||0,F=this,q=t.onRefreshInit&&function(){return t.onRefreshInit(F)},pe=Fte(D,j,C),we=kte(D,j),Le=0,se=0,ye=0,Se=Kl(D,C),Ee,je,it,Ne,ue,oe,xe,z,ke,Y,Ue,Fe,ut,Te,U,L,ee,me,Ae,de,Ve,ze,We,wt,Me,tt,ct,pt,H,ge,Pe,Ie,J,Be,ce,be,Ge,De,yt;if(F._startClamp=F._endClamp=!1,F._dir=C,x*=45,F.scroller=D,F.scroll=E?E.time.bind(E):Se,Ne=Se(),F.vars=t,i=i||t.animation,"refreshPriority"in t&&(Cz=1,t.refreshPriority===-9999&&(Jf=F)),V.tweenScroll=V.tweenScroll||{top:ZI(D,hi),left:ZI(D,xn)},F.tweenTo=Ee=V.tweenScroll[C.p],F.scrubDuration=function(Xe){J=uf(Xe)&&Xe,J?Ie?Ie.duration(Xe):Ie=lt.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:J,paused:!0,onComplete:function(){return _&&_(F)}}):(Ie&&Ie.progress(1).kill(),Ie=0)},i&&(i.vars.lazy=!1,i._initted&&!F.isReverted||i.vars.immediateRender!==!1&&t.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),F.animation=i.pause(),i.scrollTrigger=F,F.scrubDuration(h),ge=0,o||(o=i.vars.id)),A&&((!Hc(A)||A.push)&&(A={snapTo:A}),"scrollBehavior"in or.style&&lt.set(j?[or,sa]:D,{scrollBehavior:"auto"}),Gt.forEach(function(Xe){return $i(Xe)&&Xe.target===(j?vr.scrollingElement||sa:D)&&(Xe.smooth=!1)}),it=$i(A.snapTo)?A.snapTo:A.snapTo==="labels"?Nte(i):A.snapTo==="labelsDirectional"?Ute(i):A.directional!==!1?function(Xe,Et){return aT(A.snapTo)(Xe,Ki()-se<500?0:Et.direction)}:lt.utils.snap(A.snapTo),Be=A.duration||{min:.1,max:2},Be=Hc(Be)?Hf(Be.min,Be.max):Hf(Be,Be),ce=lt.delayedCall(A.delay||J/2||.1,function(){var Xe=Se(),Et=Ki()-se<500,gt=Ee.tween;if((Et||Math.abs(F.getVelocity())<10)&&!gt&&!q_&&Le!==Xe){var xt=(Xe-oe)/Te,Ar=i&&!R?i.totalProgress():xt,Ct=Et?0:(Ar-Pe)/(Ki()-of)*1e3||0,mr=lt.utils.clamp(-xt,1-xt,Ch(Ct/2)*Ct/.185),Rr=xt+(A.inertia===!1?0:mr),ur,sr,rr=A,Oi=rr.onStart,hr=rr.onInterrupt,gi=rr.onComplete;if(ur=it(Rr,F),uf(ur)||(ur=Rr),sr=Math.max(0,Math.round(oe+ur*Te)),Xe<=xe&&Xe>=oe&&sr!==Xe){if(gt&&!gt._initted&&gt.data<=Ch(sr-Xe))return;A.inertia===!1&&(mr=ur-xt),Ee(sr,{duration:Be(Ch(Math.max(Ch(Rr-Ar),Ch(ur-Ar))*.185/Ct/.05||0)),ease:A.ease||"power3",data:Ch(sr-Xe),onInterrupt:function(){return ce.restart(!0)&&hr&&hr(F)},onComplete:function(){F.update(),Le=Se(),i&&!R&&(Ie?Ie.resetTo("totalProgress",ur,i._tTime/i._tDur):i.progress(ur)),ge=Pe=i&&!R?i.totalProgress():F.progress,v&&v(F),gi&&gi(F)}},Xe,mr*Te,sr-Xe-mr*Te),Oi&&Oi(F,Ee.tween)}}else F.isActive&&Le!==Xe&&ce.restart(!0)}).pause()),o&&(sM[o]=F),p=F.trigger=Fn(p||f!==!0&&f),yt=p&&p._gsap&&p._gsap.stRevert,yt&&(yt=yt(F)),f=f===!0?p:Fn(f),na(s)&&(s={targets:p,className:s}),f&&(m===!1||m===Ha||(m=!m&&f.parentNode&&f.parentNode.style&&Va(f.parentNode).display==="flex"?!1:ni),F.pin=f,je=lt.core.getCache(f),je.spacer?U=je.pinState:(T&&(T=Fn(T),T&&!T.nodeType&&(T=T.current||T.nativeElement),je.spacerIsNative=!!T,T&&(je.spacerState=Rv(T))),je.spacer=me=T||vr.createElement("div"),me.classList.add("pin-spacer"),o&&me.classList.add("pin-spacer-"+o),je.pinState=U=Rv(f)),t.force3D!==!1&&lt.set(f,{force3D:!0}),F.spacer=me=je.spacer,H=Va(f),wt=H[m+C.os2],de=lt.getProperty(f),Ve=lt.quickSetter(f,C.a,ci),tS(f,me,H),ee=Rv(f)),ie){Fe=Hc(ie)?jI(ie,WI):WI,Y=Tv("scroller-start",o,D,C,Fe,0),Ue=Tv("scroller-end",o,D,C,Fe,0,Y),Ae=Y["offset"+C.op.d2];var Ht=Fn(zl(D,"content")||D);z=this.markerStart=Tv("start",o,Ht,C,Fe,Ae,0,E),ke=this.markerEnd=Tv("end",o,Ht,C,Fe,Ae,0,E),E&&(De=lt.quickSetter([z,ke],C.a,ci)),!Z&&!(qs.length&&zl(D,"fixedMarkers")===!0)&&(Ote(j?or:D),lt.set([Y,Ue],{force3D:!0}),tt=lt.quickSetter(Y,C.a,ci),pt=lt.quickSetter(Ue,C.a,ci))}if(E){var Re=E.vars.onUpdate,nt=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){F.update(0,0,1),Re&&Re.apply(E,nt||[])})}if(F.previous=function(){return Ut[Ut.indexOf(F)-1]},F.next=function(){return Ut[Ut.indexOf(F)+1]},F.revert=function(Xe,Et){if(!Et)return F.kill(!0);var gt=Xe!==!1||!F.enabled,xt=qi;gt!==F.isReverted&&(gt&&(be=Math.max(Se(),F.scroll.rec||0),ye=F.progress,Ge=i&&i.progress()),z&&[z,ke,Y,Ue].forEach(function(Ar){return Ar.style.display=gt?"none":"block"}),gt&&(qi=F,F.update(gt)),f&&(!w||!F.isActive)&&(gt?Hte(f,me,U):tS(f,me,Va(f),Me)),gt||F.update(gt),qi=xt,F.isReverted=gt)},F.refresh=function(Xe,Et,gt,xt){if(!((qi||!F.enabled)&&!Et)){if(f&&Xe&&Ka){Ai(r,"scrollEnd",Nz);return}!vn&&q&&q(F),qi=F,Ee.tween&&!gt&&(Ee.tween.kill(),Ee.tween=0),Ie&&Ie.pause(),g&&i&&i.revert({kill:!1}).invalidate(),F.isReverted||F.revert(!0,!0),F._subPinOffset=!1;var Ar=pe(),Ct=we(),mr=E?E.duration():Gs(D,C),Rr=Te<=.01,ur=0,sr=xt||0,rr=Hc(gt)?gt.end:t.end,Oi=t.endTrigger||p,hr=Hc(gt)?gt.start:t.start||(t.start===0||!p?0:f?"0 0":"0 100%"),gi=F.pinnedContainer=t.pinnedContainer&&Fn(t.pinnedContainer,F),wa=p&&Math.max(0,Ut.indexOf(F))||0,Vr=wa,jr,Qr,k,te,ae,ne,K,Ce,et,Je,Ye,dt,Ke;for(ie&&Hc(gt)&&(dt=lt.getProperty(Y,C.p),Ke=lt.getProperty(Ue,C.p));Vr-- >0;)ne=Ut[Vr],ne.end||ne.refresh(0,1)||(qi=F),K=ne.pin,K&&(K===p||K===f||K===gi)&&!ne.isReverted&&(Je||(Je=[]),Je.unshift(ne),ne.revert(!0,!0)),ne!==Ut[Vr]&&(wa--,Vr--);for($i(hr)&&(hr=hr(F)),hr=zI(hr,"start",F),oe=qI(hr,p,Ar,C,Se(),z,Y,F,Ct,O,Z,mr,E,F._startClamp&&"_startClamp")||(f?-.001:0),$i(rr)&&(rr=rr(F)),na(rr)&&!rr.indexOf("+=")&&(~rr.indexOf(" ")?rr=(na(hr)?hr.split(" ")[0]:"")+rr:(ur=ey(rr.substr(2),Ar),rr=na(hr)?hr:(E?lt.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,oe):oe)+ur,Oi=p)),rr=zI(rr,"end",F),xe=Math.max(oe,qI(rr||(Oi?"100% 0":mr),Oi,Ar,C,Se()+ur,ke,Ue,F,Ct,O,Z,mr,E,F._endClamp&&"_endClamp"))||-.001,ur=0,Vr=wa;Vr--;)ne=Ut[Vr],K=ne.pin,K&&ne.start-ne._pinPush<=oe&&!E&&ne.end>0&&(jr=ne.end-(F._startClamp?Math.max(0,ne.start):ne.start),(K===p&&ne.start-ne._pinPush<oe||K===gi)&&isNaN(hr)&&(ur+=jr*(1-ne.progress)),K===f&&(sr+=jr));if(oe+=ur,xe+=ur,F._startClamp&&(F._startClamp+=ur),F._endClamp&&!vn&&(F._endClamp=xe||-.001,xe=Math.min(xe,Gs(D,C))),Te=xe-oe||(oe-=.01)&&.001,Rr&&(ye=lt.utils.clamp(0,1,lt.utils.normalize(oe,xe,be))),F._pinPush=sr,z&&ur&&(jr={},jr[C.a]="+="+ur,gi&&(jr[C.p]="-="+Se()),lt.set([z,ke],jr)),f&&!(aM&&F.end>=Gs(D,C)))jr=Va(f),te=C===hi,k=Se(),ze=parseFloat(de(C.a))+sr,!mr&&xe>1&&(Ye=(j?vr.scrollingElement||sa:D).style,Ye={style:Ye,value:Ye["overflow"+C.a.toUpperCase()]},j&&Va(or)["overflow"+C.a.toUpperCase()]!=="scroll"&&(Ye.style["overflow"+C.a.toUpperCase()]="scroll")),tS(f,me,jr),ee=Rv(f),Qr=So(f,!0),Ce=Z&&Kl(D,te?xn:hi)(),m?(Me=[m+C.os2,Te+sr+ci],Me.t=me,Vr=m===ni?k1(f,C)+Te+sr:0,Vr&&(Me.push(C.d,Vr+ci),me.style.flexBasis!=="auto"&&(me.style.flexBasis=Vr+ci)),yd(Me),gi&&Ut.forEach(function(qe){qe.pin===gi&&qe.vars.pinSpacing!==!1&&(qe._subPinOffset=!0)}),Z&&Se(be)):(Vr=k1(f,C),Vr&&me.style.flexBasis!=="auto"&&(me.style.flexBasis=Vr+ci)),Z&&(ae={top:Qr.top+(te?k-oe:Ce)+ci,left:Qr.left+(te?Ce:k-oe)+ci,boxSizing:"border-box",position:"fixed"},ae[gu]=ae["max"+Hd]=Math.ceil(Qr.width)+ci,ae[vu]=ae["max"+nT]=Math.ceil(Qr.height)+ci,ae[Ha]=ae[Ha+Wf]=ae[Ha+Vf]=ae[Ha+Xf]=ae[Ha+jf]="0",ae[ni]=jr[ni],ae[ni+Wf]=jr[ni+Wf],ae[ni+Vf]=jr[ni+Vf],ae[ni+Xf]=jr[ni+Xf],ae[ni+jf]=jr[ni+jf],L=jte(U,ae,w),vn&&Se(0)),i?(et=i._initted,KA(1),i.render(i.duration(),!0,!0),We=de(C.a)-ze+Te+sr,ct=Math.abs(Te-We)>1,Z&&ct&&L.splice(L.length-2,2),i.render(0,!0,!0),et||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),KA(0)):We=Te,Ye&&(Ye.value?Ye.style["overflow"+C.a.toUpperCase()]=Ye.value:Ye.style.removeProperty("overflow-"+C.a));else if(p&&Se()&&!E)for(Qr=p.parentNode;Qr&&Qr!==or;)Qr._pinOffset&&(oe-=Qr._pinOffset,xe-=Qr._pinOffset),Qr=Qr.parentNode;Je&&Je.forEach(function(qe){return qe.revert(!1,!0)}),F.start=oe,F.end=xe,Ne=ue=vn?be:Se(),!E&&!vn&&(Ne<be&&Se(be),F.scroll.rec=0),F.revert(!1,!0),se=Ki(),ce&&(Le=-1,ce.restart(!0)),qi=0,i&&R&&(i._initted||Ge)&&i.progress()!==Ge&&i.progress(Ge||0,!0).render(i.time(),!0,!0),(Rr||ye!==F.progress||E||g||i&&!i._initted)&&(i&&!R&&i.totalProgress(E&&oe<-.001&&!ye?lt.utils.normalize(oe,xe,0):ye,!0),F.progress=Rr||(Ne-oe)/Te===ye?0:ye),f&&m&&(me._pinOffset=Math.round(F.progress*We)),Ie&&Ie.invalidate(),isNaN(dt)||(dt-=lt.getProperty(Y,C.p),Ke-=lt.getProperty(Ue,C.p),Pv(Y,C,dt),Pv(z,C,dt-(xt||0)),Pv(Ue,C,Ke),Pv(ke,C,Ke-(xt||0))),Rr&&!vn&&F.update(),c&&!vn&&!ut&&(ut=!0,c(F),ut=!1)}},F.getVelocity=function(){return(Se()-ue)/(Ki()-of)*1e3||0},F.endAnimation=function(){Kp(F.callbackAnimation),i&&(Ie?Ie.progress(1):i.paused()?R||Kp(i,F.direction<0,1):Kp(i,i.reversed()))},F.labelToScroll=function(Xe){return i&&i.labels&&(oe||F.refresh()||oe)+i.labels[Xe]/i.duration()*Te||0},F.getTrailing=function(Xe){var Et=Ut.indexOf(F),gt=F.direction>0?Ut.slice(0,Et).reverse():Ut.slice(Et+1);return(na(Xe)?gt.filter(function(xt){return xt.vars.preventOverlaps===Xe}):gt).filter(function(xt){return F.direction>0?xt.end<=oe:xt.start>=xe})},F.update=function(Xe,Et,gt){if(!(E&&!gt&&!Xe)){var xt=vn===!0?be:F.scroll(),Ar=Xe?0:(xt-oe)/Te,Ct=Ar<0?0:Ar>1?1:Ar||0,mr=F.progress,Rr,ur,sr,rr,Oi,hr,gi,wa;if(Et&&(ue=Ne,Ne=E?Se():xt,A&&(Pe=ge,ge=i&&!R?i.totalProgress():Ct)),x&&f&&!qi&&!Sv&&Ka&&(!Ct&&oe<xt+(xt-ue)/(Ki()-of)*x?Ct=1e-4:Ct===1&&xe>xt+(xt-ue)/(Ki()-of)*x&&(Ct=.9999)),Ct!==mr&&F.enabled){if(Rr=F.isActive=!!Ct&&Ct<1,ur=!!mr&&mr<1,hr=Rr!==ur,Oi=hr||!!Ct!=!!mr,F.direction=Ct>mr?1:-1,F.progress=Ct,Oi&&!qi&&(sr=Ct&&!mr?0:Ct===1?1:mr===1?2:3,R&&(rr=!hr&&X[sr+1]!=="none"&&X[sr+1]||X[sr],wa=i&&(rr==="complete"||rr==="reset"||rr in i))),I&&(hr||wa)&&(wa||h||!i)&&($i(I)?I(F):F.getTrailing(I).forEach(function(k){return k.endAnimation()})),R||(Ie&&!qi&&!Sv?(Ie._dp._time-Ie._start!==Ie._time&&Ie.render(Ie._dp._time-Ie._start),Ie.resetTo?Ie.resetTo("totalProgress",Ct,i._tTime/i._tDur):(Ie.vars.totalProgress=Ct,Ie.invalidate().restart())):i&&i.totalProgress(Ct,!!(qi&&(se||Xe)))),f){if(Xe&&m&&(me.style[m+C.os2]=wt),!Z)Ve(cf(ze+We*Ct));else if(Oi){if(gi=!Xe&&Ct>mr&&xe+1>xt&&xt+1>=Gs(D,C),w)if(!Xe&&(Rr||gi)){var Vr=So(f,!0),jr=xt-oe;KI(f,or,Vr.top+(C===hi?jr:0)+ci,Vr.left+(C===hi?0:jr)+ci)}else KI(f,me);yd(Rr||gi?L:ee),ct&&Ct<1&&Rr||Ve(ze+(Ct===1&&!gi?We:0))}}A&&!Ee.tween&&!qi&&!Sv&&ce.restart(!0),s&&(hr||b&&Ct&&(Ct<1||!ZA))&&Om(s.targets).forEach(function(k){return k.classList[Rr||b?"add":"remove"](s.className)}),a&&!R&&!Xe&&a(F),Oi&&!qi?(R&&(wa&&(rr==="complete"?i.pause().totalProgress(1):rr==="reset"?i.restart(!0).pause():rr==="restart"?i.restart(!0):i[rr]()),a&&a(F)),(hr||!ZA)&&(l&&hr&&$A(F,l),Q[sr]&&$A(F,Q[sr]),b&&(Ct===1?F.kill(!1,1):Q[sr]=0),hr||(sr=Ct===1?1:3,Q[sr]&&$A(F,Q[sr]))),B&&!Rr&&Math.abs(F.getVelocity())>(uf(B)?B:2500)&&(Kp(F.callbackAnimation),Ie?Ie.progress(1):Kp(i,rr==="reverse"?1:!Ct,1))):R&&a&&!qi&&a(F)}if(pt){var Qr=E?xt/E.duration()*(E._caScrollDist||0):xt;tt(Qr+(Y._isFlipped?1:0)),pt(Qr)}De&&De(-xt/E.duration()*(E._caScrollDist||0))}},F.enable=function(Xe,Et){F.enabled||(F.enabled=!0,Ai(D,"resize",hf),j||Ai(D,"scroll",Th),q&&Ai(r,"refreshInit",q),Xe!==!1&&(F.progress=ye=0,Ne=ue=Le=Se()),Et!==!1&&F.refresh())},F.getTween=function(Xe){return Xe&&Ee?Ee.tween:Ie},F.setPositions=function(Xe,Et,gt,xt){if(E){var Ar=E.scrollTrigger,Ct=E.duration(),mr=Ar.end-Ar.start;Xe=Ar.start+mr*Xe/Ct,Et=Ar.start+mr*Et/Ct}F.refresh(!1,!1,{start:GI(Xe,gt&&!!F._startClamp),end:GI(Et,gt&&!!F._endClamp)},xt),F.update()},F.adjustPinSpacing=function(Xe){if(Me&&Xe){var Et=Me.indexOf(C.d)+1;Me[Et]=parseFloat(Me[Et])+Xe+ci,Me[1]=parseFloat(Me[1])+Xe+ci,yd(Me)}},F.disable=function(Xe,Et){if(F.enabled&&(Xe!==!1&&F.revert(!0,!0),F.enabled=F.isActive=!1,Et||Ie&&Ie.pause(),be=0,je&&(je.uncache=1),q&&bi(r,"refreshInit",q),ce&&(ce.pause(),Ee.tween&&Ee.tween.kill()&&(Ee.tween=0)),!j)){for(var gt=Ut.length;gt--;)if(Ut[gt].scroller===D&&Ut[gt]!==F)return;bi(D,"resize",hf),j||bi(D,"scroll",Th)}},F.kill=function(Xe,Et){F.disable(Xe,Et),Ie&&!Et&&Ie.kill(),o&&delete sM[o];var gt=Ut.indexOf(F);gt>=0&&Ut.splice(gt,1),gt===gn&&ry>0&&gn--,gt=0,Ut.forEach(function(xt){return xt.scroller===F.scroller&&(gt=1)}),gt||vn||(F.scroll.rec=0),i&&(i.scrollTrigger=null,Xe&&i.revert({kill:!1}),Et||i.kill()),z&&[z,ke,Y,Ue].forEach(function(xt){return xt.parentNode&&xt.parentNode.removeChild(xt)}),Jf===F&&(Jf=0),f&&(je&&(je.uncache=1),gt=0,Ut.forEach(function(xt){return xt.pin===f&&gt++}),gt||(je.spacer=0)),t.onKill&&t.onKill(F)},Ut.push(F),F.enable(!1,!1),yt&&yt(F),i&&i.add&&!Te){var Xt=F.update;F.update=function(){F.update=Xt,Gt.cache++,oe||xe||F.refresh()},lt.delayedCall(.01,F.update),Te=.01,oe=xe=0}else F.refresh();f&&Gte()},r.register=function(t){return Ih||(lt=t||Iz(),Bz()&&window.document&&r.enable(),Ih=lf),Ih},r.defaults=function(t){if(t)for(var i in t)Cv[i]=t[i];return Cv},r.disable=function(t,i){lf=0,Ut.forEach(function(a){return a[i?"kill":"disable"](t)}),bi(zt,"wheel",Th),bi(vr,"scroll",Th),clearInterval(Av),bi(vr,"touchcancel",Os),bi(or,"touchstart",Os),Mv(bi,vr,"pointerdown,touchstart,mousedown",HI),Mv(bi,vr,"pointerup,touchend,mouseup",VI),L1.kill(),wv(bi);for(var n=0;n<Gt.length;n+=3)Ev(bi,Gt[n],Gt[n+1]),Ev(bi,Gt[n],Gt[n+2])},r.enable=function(){if(zt=window,vr=document,sa=vr.documentElement,or=vr.body,lt&&(Om=lt.utils.toArray,Hf=lt.utils.clamp,nM=lt.core.context||Os,KA=lt.core.suppressOverwrites||Os,eT=zt.history.scrollRestoration||"auto",oM=zt.pageYOffset||0,lt.core.globals("ScrollTrigger",r),or)){lf=1,vd=document.createElement("div"),vd.style.height="100vh",vd.style.position="absolute",Gz(),Lte(),Zr.register(lt),r.isTouch=Zr.isTouch,fl=Zr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),iM=Zr.isTouch===1,Ai(zt,"wheel",Th),$C=[zt,vr,sa,or],lt.matchMedia?(r.matchMedia=function(l){var c=lt.matchMedia(),h;for(h in l)c.add(h,l[h]);return c},lt.addEventListener("matchMediaInit",function(){return sT()}),lt.addEventListener("matchMediaRevert",function(){return Uz()}),lt.addEventListener("matchMedia",function(){iu(0,1),ku("matchMedia")}),lt.matchMedia().add("(orientation: portrait)",function(){return eS(),eS})):console.warn("Requires GSAP 3.11.0 or later"),eS(),Ai(vr,"scroll",Th);var t=or.hasAttribute("style"),i=or.style,n=i.borderTopStyle,a=lt.core.Animation.prototype,s,o;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",s=So(or),hi.m=Math.round(s.top+hi.sc())||0,xn.m=Math.round(s.left+xn.sc())||0,n?i.borderTopStyle=n:i.removeProperty("border-top-style"),t||(or.setAttribute("style",""),or.removeAttribute("style")),Av=setInterval(XI,250),lt.delayedCall(.5,function(){return Sv=0}),Ai(vr,"touchcancel",Os),Ai(or,"touchstart",Os),Mv(Ai,vr,"pointerdown,touchstart,mousedown",HI),Mv(Ai,vr,"pointerup,touchend,mouseup",VI),rM=lt.utils.checkPrefix("transform"),iy.push(rM),Ih=Ki(),L1=lt.delayedCall(.2,iu).pause(),Dh=[vr,"visibilitychange",function(){var l=zt.innerWidth,c=zt.innerHeight;vr.hidden?(NI=l,UI=c):(NI!==l||UI!==c)&&hf()},vr,"DOMContentLoaded",iu,zt,"load",iu,zt,"resize",hf],wv(Ai),Ut.forEach(function(l){return l.enable(0,1)}),o=0;o<Gt.length;o+=3)Ev(bi,Gt[o],Gt[o+1]),Ev(bi,Gt[o],Gt[o+2])}},r.config=function(t){"limitCallbacks"in t&&(ZA=!!t.limitCallbacks);var i=t.syncInterval;i&&clearInterval(Av)||(Av=i)&&setInterval(XI,i),"ignoreMobileResize"in t&&(iM=r.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(wv(bi)||wv(Ai,t.autoRefreshEvents||"none"),Tz=(t.autoRefreshEvents+"").indexOf("resize")===-1)},r.scrollerProxy=function(t,i){var n=Fn(t),a=Gt.indexOf(n),s=Lu(n);~a&&Gt.splice(a,s?6:2),i&&(s?qs.unshift(zt,i,or,i,sa,i):qs.unshift(n,i))},r.clearMatchMedia=function(t){Ut.forEach(function(i){return i._ctx&&i._ctx.query===t&&i._ctx.kill(!0,!0)})},r.isInViewport=function(t,i,n){var a=(na(t)?Fn(t):t).getBoundingClientRect(),s=a[n?gu:vu]*i||0;return n?a.right-s>0&&a.left+s<zt.innerWidth:a.bottom-s>0&&a.top+s<zt.innerHeight},r.positionInViewport=function(t,i,n){na(t)&&(t=Fn(t));var a=t.getBoundingClientRect(),s=a[n?gu:vu],o=i==null?s/2:i in O1?O1[i]*s:~i.indexOf("%")?parseFloat(i)*s/100:parseFloat(i)||0;return n?(a.left+o)/zt.innerWidth:(a.top+o)/zt.innerHeight},r.killAll=function(t){if(Ut.slice(0).forEach(function(n){return n.vars.id!=="ScrollSmoother"&&n.kill()}),t!==!0){var i=Fu.killAll||[];Fu={},i.forEach(function(n){return n()})}},r}();Ot.version="3.12.7";Ot.saveStyles=function(r){return r?Om(r).forEach(function(e){if(e&&e.style){var t=ra.indexOf(e);t>=0&&ra.splice(t,5),ra.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),lt.core.getCache(e),nM())}}):ra};Ot.revert=function(r,e){return sT(!r,e)};Ot.create=function(r,e){return new Ot(r,e)};Ot.refresh=function(r){return r?hf(!0):(Ih||Ot.register())&&iu(!0)};Ot.update=function(r){return++Gt.cache&&ko(r===!0?2:0)};Ot.clearScrollMemory=zz;Ot.maxScroll=function(r,e){return Gs(r,e?xn:hi)};Ot.getScrollFunc=function(r,e){return Kl(Fn(r),e?xn:hi)};Ot.getById=function(r){return sM[r]};Ot.getAll=function(){return Ut.filter(function(r){return r.vars.id!=="ScrollSmoother"})};Ot.isScrolling=function(){return!!Ka};Ot.snapDirectional=aT;Ot.addEventListener=function(r,e){var t=Fu[r]||(Fu[r]=[]);~t.indexOf(e)||t.push(e)};Ot.removeEventListener=function(r,e){var t=Fu[r],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)};Ot.batch=function(r,e){var t=[],i={},n=e.interval||.016,a=e.batchMax||1e9,s=function(l,c){var h=[],p=[],f=lt.delayedCall(n,function(){c(h,p),h=[],p=[]}).pause();return function(m){h.length||f.restart(!0),h.push(m.trigger),p.push(m),a<=h.length&&f.progress(1)}},o;for(o in e)i[o]=o.substr(0,2)==="on"&&$i(e[o])&&o!=="onRefreshInit"?s(o,e[o]):e[o];return $i(a)&&(a=a(),Ai(Ot,"refresh",function(){return a=e.batchMax()})),Om(r).forEach(function(l){var c={};for(o in i)c[o]=i[o];c.trigger=l,t.push(Ot.create(c))}),t};var QI=function(r,e,t,i){return e>i?r(i):e<0&&r(0),t>i?(i-e)/(t-e):t<0?e/(e-t):1},rS=function r(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Zr.isTouch?" pinch-zoom":""):"none",e===sa&&r(or,t)},Bv={auto:1,scroll:1},Xte=function(r){var e=r.event,t=r.target,i=r.axis,n=(e.changedTouches?e.changedTouches[0]:e).target,a=n._gsap||lt.core.getCache(n),s=Ki(),o;if(!a._isScrollT||s-a._isScrollT>2e3){for(;n&&n!==or&&(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth||!(Bv[(o=Va(n)).overflowY]||Bv[o.overflowX]));)n=n.parentNode;a._isScroll=n&&n!==t&&!Lu(n)&&(Bv[(o=Va(n)).overflowY]||Bv[o.overflowX]),a._isScrollT=s}(a._isScroll||i==="x")&&(e.stopPropagation(),e._gsapAllow=!0)},Vz=function(r,e,t,i){return Zr.create({target:r,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:i=i&&Xte,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return t&&Ai(vr,Zr.eventTypes[0],eD,!1,!0)},onDisable:function(){return bi(vr,Zr.eventTypes[0],eD,!0)}})},Jte=/(input|label|select|textarea)/i,$I,eD=function(r){var e=Jte.test(r.target.tagName);(e||$I)&&(r._gsapAllow=!0,$I=e)},Yte=function(r){Hc(r)||(r={}),r.preventDefault=r.isNormalizer=r.allowClicks=!0,r.type||(r.type="wheel,touch"),r.debounce=!!r.debounce,r.id=r.id||"normalizer";var e=r,t=e.normalizeScrollX,i=e.momentum,n=e.allowNestedScroll,a=e.onRelease,s,o,l=Fn(r.target)||sa,c=lt.core.globals().ScrollSmoother,h=c&&c.get(),p=fl&&(r.content&&Fn(r.content)||h&&r.content!==!1&&!h.smooth()&&h.content()),f=Kl(l,hi),m=Kl(l,xn),g=1,x=(Zr.isTouch&&zt.visualViewport?zt.visualViewport.scale*zt.visualViewport.width:zt.outerWidth)/zt.innerWidth,_=0,v=$i(i)?function(){return i(s)}:function(){return i||2.8},b,A,w=Vz(l,r.type,!0,n),T=function(){return A=!1},E=Os,B=Os,I=function(){o=Gs(l,hi),B=Hf(fl?1:0,o),t&&(E=Hf(0,Gs(l,xn))),b=yu},C=function(){p._gsap.y=cf(parseFloat(p._gsap.y)+f.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},R=function(){if(A){requestAnimationFrame(T);var X=cf(s.deltaY/2),ie=B(f.v-X);if(p&&ie!==f.v+f.offset){f.offset=ie-f.v;var O=cf((parseFloat(p&&p._gsap.y)||0)-f.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+O+", 0, 1)",p._gsap.y=O+"px",f.cacheID=Gt.cache,ko()}return!0}f.offset&&C(),A=!0},D,V,j,Z,Q=function(){I(),D.isActive()&&D.vars.scrollY>o&&(f()>o?D.progress(1)&&f(o):D.resetTo("scrollY",o))};return p&&lt.set(p,{y:"+=0"}),r.ignoreCheck=function(X){return fl&&X.type==="touchmove"&&R()||g>1.05&&X.type!=="touchstart"||s.isGesturing||X.touches&&X.touches.length>1},r.onPress=function(){A=!1;var X=g;g=cf((zt.visualViewport&&zt.visualViewport.scale||1)/x),D.pause(),X!==g&&rS(l,g>1.01?!0:t?!1:"x"),V=m(),j=f(),I(),b=yu},r.onRelease=r.onGestureStart=function(X,ie){if(f.offset&&C(),!ie)Z.restart(!0);else{Gt.cache++;var O=v(),F,q;t&&(F=m(),q=F+O*.05*-X.velocityX/.227,O*=QI(m,F,q,Gs(l,xn)),D.vars.scrollX=E(q)),F=f(),q=F+O*.05*-X.velocityY/.227,O*=QI(f,F,q,Gs(l,hi)),D.vars.scrollY=B(q),D.invalidate().duration(O).play(.01),(fl&&D.vars.scrollY>=o||F>=o-1)&&lt.to({},{onUpdate:Q,duration:O})}a&&a(X)},r.onWheel=function(){D._ts&&D.pause(),Ki()-_>1e3&&(b=0,_=Ki())},r.onChange=function(X,ie,O,F,q){if(yu!==b&&I(),ie&&t&&m(E(F[2]===ie?V+(X.startX-X.x):m()+ie-F[1])),O){f.offset&&C();var pe=q[2]===O,we=pe?j+X.startY-X.y:f()+O-q[1],Le=B(we);pe&&we!==Le&&(j+=Le-we),f(Le)}(O||ie)&&ko()},r.onEnable=function(){rS(l,t?!1:"x"),Ot.addEventListener("refresh",Q),Ai(zt,"resize",Q),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=m.smooth=!1),w.enable()},r.onDisable=function(){rS(l,!0),bi(zt,"resize",Q),Ot.removeEventListener("refresh",Q),w.kill()},r.lockAxis=r.lockAxis!==!1,s=new Zr(r),s.iOS=fl,fl&&!f()&&f(1),fl&&lt.ticker.add(Os),Z=s._dc,D=lt.to(s,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Hz(f,f(),function(){return D.pause()})},onUpdate:ko,onComplete:Z.vars.onComplete}),s};Ot.sort=function(r){if($i(r))return Ut.sort(r);var e=zt.pageYOffset||0;return Ot.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+zt.innerHeight}),Ut.sort(r||function(t,i){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};Ot.observe=function(r){return new Zr(r)};Ot.normalizeScroll=function(r){if(typeof r>"u")return fn;if(r===!0&&fn)return fn.enable();if(r===!1){fn&&fn.kill(),fn=r;return}var e=r instanceof Zr?r:Yte(r);return fn&&fn.target===e.target&&fn.kill(),Lu(e.target)&&(fn=e),e};Ot.core={_getVelocityProp:tM,_inputObserver:Vz,_scrollers:Gt,_proxies:qs,bridge:{ss:function(){Ka||ku("scrollStart"),Ka=Ki()},ref:function(){return qi}}};Iz()&&lt.registerPlugin(Ot);const qte=r=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:r}}}),tD=(r,e,t,i)=>({hidden:{x:r==="left"?"-100%":r==="right"?"100%":0,y:r==="up"||r==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),Kte=(r,e)=>({hidden:{},show:{transition:{staggerChildren:r,delayChildren:e||0}}}),ep=(r,e)=>function(){return At(Rm.section,{variants:Kte(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Bi.padding} max-w-7xl mx-auto relative z-0`,children:[he("span",{className:"hash-span",id:e,children:""}),he(r,{})]})};eo.registerPlugin(Ot);const cM=(r,e,t=0)=>{W.useEffect(()=>{r.current&&eo.fromTo(r.current,e.from,{...e.to,delay:t,scrollTrigger:{trigger:r.current,start:"top 85%",toggleActions:"play none none reverse"}})},[r,e,t])},Zte=({index:r,title:e,icon:t})=>{const i=W.useRef(null);return cM(i,{from:{opacity:0,y:100,scale:.8},to:{opacity:1,y:0,scale:1,duration:1,ease:"power3.out"}},r*.2),he(xU,{className:"xs:w-[250px] w-full",children:he("div",{ref:i,className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:At("div",{className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[he("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),he("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})})},Qte=()=>{const r=W.useRef(null),e=W.useRef(null);return cM(r,{from:{opacity:0,x:-50},to:{opacity:1,x:0,duration:1,ease:"power2.out"}}),cM(e,{from:{opacity:0,y:50},to:{opacity:1,y:0,duration:1.2,ease:"power3.out"}},.3),At(yM,{children:[At("div",{ref:r,children:[he("p",{className:Bi.sectionSubText,children:"Introduction"}),he("h2",{className:Bi.sectionHeadText,children:"Overview."})]}),he("p",{ref:e,className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I'm a skilled software developer with experience in  JavaScript, and expertise in frameworks like React, Node.js, and Three.js. I'm a quick learner and collaborate closely with clients to create efficient, scalable, and user-friendly solutions that solve real-world problems. Let's work together to bring your ideas to life!"}),he("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 justify-items-center gap-10",children:oee.map((t,i)=>he(Zte,{index:i,...t},t.title))})]})},$te=ep(Qte,"about");eo.registerPlugin(Ot);const ere=()=>(W.useEffect(()=>{eo.fromTo(".tech-icon",{opacity:0,y:80},{opacity:1,y:0,duration:2.5,stagger:.1,scrollTrigger:{trigger:".tech-icons-wrapper",start:"top 80%",end:"bottom 70%",scrub:!0}})},[]),he("section",{children:he("div",{className:"tech-icons-wrapper flex flex-row flex-wrap justify-center gap-10",children:lee.map(r=>he("div",{className:"w-28 h-28",children:he("img",{src:r.icon,alt:r.name,className:"tech-icon w-full h-full object-contain"})},r.name))})})),tre=ep(ere,"");var K_={},jz={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var e={}.hasOwnProperty;function t(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=n(a,i(o)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)e.call(a,o)&&a[o]&&(s=n(s,o));return s}function n(a,s){return s?a?a+" "+s:a+s:a}r.exports?(t.default=t,r.exports=t):window.classNames=t})()})(jz);var Wz=jz.exports;K_.__esModule=!0;K_.default=void 0;var rre=oT(W),hl=oT(iN),ire=oT(Wz);function oT(r){return r&&r.__esModule?r:{default:r}}const Xz=({animate:r=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:n})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),rre.default.createElement("div",{className:(0,ire.default)(e,"vertical-timeline",{"vertical-timeline--animate":r,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},n));Xz.propTypes={children:hl.default.oneOfType([hl.default.arrayOf(hl.default.node),hl.default.node]).isRequired,className:hl.default.string,animate:hl.default.bool,layout:hl.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:hl.default.string};var nre=Xz;K_.default=nre;var Z_={};function uM(){return uM=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},uM.apply(this,arguments)}function are(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,hM(r,e)}function hM(r,e){return hM=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},hM(r,e)}function sre(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,a;for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}var dM=new Map,iS=new WeakMap,rD=0,Jz=void 0;function ore(r){Jz=r}function lre(r){return r?(iS.has(r)||(rD+=1,iS.set(r,rD.toString())),iS.get(r)):"0"}function cre(r){return Object.keys(r).sort().filter(function(e){return r[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?lre(r.root):r[e])}).toString()}function ure(r){var e=cre(r),t=dM.get(e);if(!t){var i=new Map,n,a=new IntersectionObserver(function(s){s.forEach(function(o){var l,c=o.isIntersecting&&n.some(function(h){return o.intersectionRatio>=h});r.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=c),(l=i.get(o.target))==null||l.forEach(function(h){h(c,o)})})},r);n=a.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),t={id:e,observer:a,elements:i},dM.set(e,t)}return t}function lT(r,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=Jz),typeof window.IntersectionObserver>"u"&&i!==void 0){var n=r.getBoundingClientRect();return e(i,{isIntersecting:i,target:r,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),function(){}}var a=ure(t),s=a.id,o=a.observer,l=a.elements,c=l.get(r)||[];return l.has(r)||l.set(r,c),c.push(e),o.observe(r),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(r),o.unobserve(r)),l.size===0&&(o.disconnect(),dM.delete(s))}}var hre=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function iD(r){return typeof r.children!="function"}var N1=function(r){are(e,r);function e(i){var n;return n=r.call(this,i)||this,n.node=null,n._unobserveCb=null,n.handleNode=function(a){n.node&&(n.unobserve(),!a&&!n.props.triggerOnce&&!n.props.skip&&n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=a||null,n.observeNode()},n.handleChange=function(a,s){a&&n.props.triggerOnce&&n.unobserve(),iD(n.props)||n.setState({inView:a,entry:s}),n.props.onChange&&n.props.onChange(a,s)},n.state={inView:!!i.initialInView,entry:void 0},n}var t=e.prototype;return t.componentDidUpdate=function(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var i=this.props,n=i.threshold,a=i.root,s=i.rootMargin,o=i.trackVisibility,l=i.delay,c=i.fallbackInView;this._unobserveCb=lT(this.node,this.handleChange,{threshold:n,root:a,rootMargin:s,trackVisibility:o,delay:l},c)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!iD(this.props)){var i=this.state,n=i.inView,a=i.entry;return this.props.children({inView:n,entry:a,ref:this.handleNode})}var s=this.props,o=s.children,l=s.as,c=sre(s,hre);return W.createElement(l||"div",uM({ref:this.handleNode},c),o)},e}(W.Component);N1.displayName="InView";N1.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function dre(r){var e=r===void 0?{}:r,t=e.threshold,i=e.delay,n=e.trackVisibility,a=e.rootMargin,s=e.root,o=e.triggerOnce,l=e.skip,c=e.initialInView,h=e.fallbackInView,p=W.useRef(),f=W.useState({inView:!!c}),m=f[0],g=f[1],x=W.useCallback(function(v){p.current!==void 0&&(p.current(),p.current=void 0),!l&&v&&(p.current=lT(v,function(b,A){g({inView:b,entry:A}),A.isIntersecting&&o&&p.current&&(p.current(),p.current=void 0)},{root:s,rootMargin:a,threshold:t,trackVisibility:n,delay:i},h))},[Array.isArray(t)?t.toString():t,s,a,o,l,n,h,i]);W.useEffect(function(){!p.current&&m.entry&&!o&&!l&&g({inView:!!c})});var _=[x,m.inView,m.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}const pre=Object.freeze(Object.defineProperty({__proto__:null,InView:N1,default:N1,defaultFallbackInView:ore,observe:lT,useInView:dre},Symbol.toStringTag,{value:"Module"})),fre=V4(pre);Z_.__esModule=!0;Z_.default=void 0;var dl=cT(W),wr=cT(iN),Iv=cT(Wz),mre=fre;function cT(r){return r&&r.__esModule?r:{default:r}}const Yz=({children:r="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:n="",dateClassName:a="",icon:s=null,iconClassName:o="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:h=null,id:p="",position:f="",style:m=null,textClassName:g="",intersectionObserverProps:x={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:_=!1})=>dl.default.createElement(mre.InView,x,({inView:v,ref:b})=>dl.default.createElement("div",{ref:b,id:p,className:(0,Iv.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":f==="left","vertical-timeline-element--right":f==="right","vertical-timeline-element--no-children":r===""}),style:m},dl.default.createElement(dl.default.Fragment,null,dl.default.createElement("span",{style:h,onClick:l,className:(0,Iv.default)(o,"vertical-timeline-element-icon",{"bounce-in":v||_,"is-hidden":!(v||_)})},s),dl.default.createElement("div",{style:i,onClick:c,className:(0,Iv.default)(g,"vertical-timeline-element-content",{"bounce-in":v||_,"is-hidden":!(v||_)})},dl.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),r,dl.default.createElement("span",{className:(0,Iv.default)(a,"vertical-timeline-element-date")},n)))));Yz.propTypes={children:wr.default.oneOfType([wr.default.arrayOf(wr.default.node),wr.default.node]),className:wr.default.string,contentArrowStyle:wr.default.shape({}),contentStyle:wr.default.shape({}),date:wr.default.node,dateClassName:wr.default.string,icon:wr.default.element,iconClassName:wr.default.string,iconStyle:wr.default.shape({}),iconOnClick:wr.default.func,onTimelineElementClick:wr.default.func,id:wr.default.string,position:wr.default.string,style:wr.default.shape({}),textClassName:wr.default.string,visible:wr.default.bool,intersectionObserverProps:wr.default.shape({root:wr.default.object,rootMargin:wr.default.string,threshold:wr.default.number,triggerOnce:wr.default.bool})};var gre=Yz;Z_.default=gre;var qz={VerticalTimeline:K_.default,VerticalTimelineElement:Z_.default};const vre=({experience:r})=>At(qz.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:r.date,iconStyle:{background:r.iconBg},icon:he("div",{className:"flex justify-center items-center w-full h-full",children:he("img",{src:r.icon,alt:r.company_name,className:"w-[90%] h-[90%] object-contain"})}),children:[At("div",{children:[he("h3",{className:"text-white text-[24px] font-bold",children:r.title}),he("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:r.company_name})]}),he("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:r.points.map((e,t)=>he("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),yre=()=>At(yM,{children:[At(Rm.div,{variants:qte(),children:[he("p",{className:`${Bi.sectionSubText} text-center`,children:"What I have done so far"}),he("h2",{className:`${Bi.sectionHeadText} text-center`,children:"Work Experience."})]}),he("div",{className:"mt-20 flex flex-col",children:he(qz.VerticalTimeline,{children:cee.map((r,e)=>he(vre,{experience:r},`experience-${e}`))})})]}),_re=ep(yre,"work");eo.registerPlugin(Ot);const xre=({index:r,name:e,description:t,tags:i,image:n,source_code_link:a})=>{const s=W.useRef(null);return W.useEffect(()=>{const o=s.current;eo.fromTo(o,{opacity:0,y:100},{opacity:1,y:0,scrollTrigger:{trigger:o,start:"top bottom",end:"top center",scrub:!0,markers:!1}})},[]),he("div",{ref:s,children:At(xU,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[At("div",{className:"relative w-full h-[230px]",children:[he("img",{src:n,alt:"project_image",className:"w-full h-full object-cover object-left rounded-2xl"}),he("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:he("div",{onClick:()=>window.open(a,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:he("img",{src:L$,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),At("div",{className:"mt-5",children:[he("h3",{className:"text-white font-bold text-[24px]",children:e}),he("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),he("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>At("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},`${e}-${o.name}`))})]})})},bre=()=>(W.useEffect(()=>{eo.fromTo(".project-card",{opacity:0,y:100},{opacity:1,y:0,stagger:.1,scrollTrigger:{trigger:".works-container",start:"top bottom",end:"top center",scrub:!0,markers:!1}})},[]),At(yM,{children:[At("div",{children:[he("p",{className:`${Bi.sectionSubText}`,children:"My work"}),he("h2",{className:`${Bi.sectionHeadText}`,children:"Projects."})]}),he("div",{className:"w-full flex",children:he("p",{className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcase my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),he("div",{className:"works-container mt-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-items-center gap-5",children:hee.map((r,e)=>he("div",{className:"project-card",children:he(xre,{index:e,...r})},`project-${e}`))})]})),Are=ep(bre,"");eo.registerPlugin(Ot);const Sre=({index:r,testimonial:e,name:t,designation:i,company:n,image:a})=>{const s=bn.useRef(null);return W.useEffect(()=>{const o=s.current;eo.fromTo(o,{opacity:0,y:100},{opacity:1,y:0,scrollTrigger:{trigger:o,start:"top bottom",end:"top center",scrub:!0,markers:!1}})},[]),At("div",{ref:s,className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[he("p",{className:"text-white font-black text-[48px]",children:'"'}),At("div",{className:"mt-1",children:[he("p",{className:"text-white tracking-wider text-[18px]",children:e}),At("div",{className:"mt-7 flex justify-between items-center gap-1",children:[At("div",{className:"flex-1 flex flex-col",children:[At("p",{className:"text-white font-medium text-[16px]",children:[he("span",{className:"blue-text-gradient",children:"@"})," ",t]}),At("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",n]})]}),he("img",{src:a,alt:`feedback_by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]})},wre=()=>At("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[he("div",{className:`bg-tertiary rounded-2xl ${Bi.padding} min-h-[300px]`,children:At("div",{children:[he("p",{className:Bi.sectionSubText,children:"What others say"}),he("h2",{className:Bi.sectionHeadText,children:"Testimonials."})]})}),he("div",{className:`-mt-20 pb-14 ${Bi.paddingX} grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10  justify-items-center`,children:uee.map((r,e)=>he(Sre,{index:e,...r},r.name))})]}),Mre=ep(wre,""),Um={_origin:"https://api.emailjs.com"},Ere=(r,e="https://api.emailjs.com")=>{Um._userID=r,Um._origin=e},Kz=(r,e,t)=>{if(!r)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class nD{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Zz=(r,e,t={})=>new Promise((i,n)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:s})=>{const o=new nD(s);o.status===200||o.text==="OK"?i(o):n(o)}),a.addEventListener("error",({target:s})=>{n(new nD(s))}),a.open("POST",Um._origin+r,!0),Object.keys(t).forEach(s=>{a.setRequestHeader(s,t[s])}),a.send(e)}),Cre=(r,e,t,i)=>{const n=i||Um._userID;return Kz(n,r,e),Zz("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:n,service_id:r,template_id:e,template_params:t}),{"Content-type":"application/json"})},Tre=r=>{let e;if(typeof r=="string"?e=document.querySelector(r):e=r,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Rre=(r,e,t,i)=>{const n=i||Um._userID,a=Tre(t);Kz(n,r,e);const s=new FormData(a);return s.append("lib_version","3.12.1"),s.append("service_id",r),s.append("template_id",e),s.append("user_id",n),Zz("/api/v1.0/email/send-form",s)},Pre={init:Ere,send:Cre,sendForm:Rre},Bre=()=>{const r=W.useRef(),[e,t]=W.useState({name:"",email:"",message:""}),[i,n]=W.useState(!1),a=o=>{const{target:l}=o,{name:c,value:h}=l;t({...e,[c]:h})},s=o=>{o.preventDefault(),n(!0),Pre.send({}.VITE_APP_EMAILJS_SERVICE_ID,{}.VITE_APP_EMAILJS_TEMPLATE_ID,{from_name:e.name,to_name:"Abdulazeez Adam",from_email:e.email,to_email:"abdulazeezadam09@gmail.com",message:e.message},{}.VITE_APP_EMAILJS_PUBLIC_KEY).then(()=>{n(!1),alert("Thank you. I will get back to you as soon as possible."),t({name:"",email:"",message:""})},l=>{n(!1),console.error(l),alert("Ahh, something went wrong. Please try again.")})};return At("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[At(Rm.div,{variants:tD("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[he("h4",{className:Bi.sectionSubText,children:"Get in touch"}),he("h3",{className:Bi.sectionHeadText,children:"Contact."}),At("form",{ref:r,onSubmit:s,className:"mt-12 flex flex-col gap-8",children:[At("label",{className:"flex flex-col",children:[he("span",{className:"text-white font-medium mb-4",children:"First Name"}),he("input",{type:"text",name:"name",value:e.name,onChange:a,placeholder:"John",required:!0,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),At("label",{className:"flex flex-col",children:[he("span",{className:"text-white font-medium mb-4",children:"Last Name"}),he("input",{type:"text",name:"name",value:e.name,onChange:a,placeholder:"Doe",required:!0,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),At("label",{className:"flex flex-col",children:[he("span",{className:"text-white font-medium mb-4",children:"Email Address"}),he("input",{type:"email",name:"email",value:e.email,onChange:a,placeholder:"your@email.com",required:!0,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),At("label",{className:"flex flex-col",children:[he("span",{className:"text-white font-medium mb-4",children:"Mobile Number (Optional)"}),he("input",{type:"number",name:"Mobile",value:e.Mobile,onChange:a,placeholder:"+234 123 456 7890",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),At("label",{className:"flex flex-col",children:[he("span",{className:"text-white font-medium mb-4",children:"Your Message"}),he("textarea",{rows:7,name:"message",value:e.message,onChange:a,placeholder:"How may we be of help?",required:!0,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),he("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send"})]})]}),he(Rm.div,{variants:tD("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:he(sq,{})})]})},Ire=ep(Bre,"contact");var Qz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aD=bn.createContext&&bn.createContext(Qz),Dre=["attr","size","title"];function Lre(r,e){if(r==null)return{};var t=Fre(r,e),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)i=a[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function Fre(r,e){if(r==null)return{};var t={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;t[i]=r[i]}return t}function U1(){return U1=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},U1.apply(this,arguments)}function sD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function z1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(t),!0).forEach(function(i){kre(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sD(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function kre(r,e,t){return e=Ore(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ore(r){var e=Nre(r,"string");return typeof e=="symbol"?e:e+""}function Nre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $z(r){return r&&r.map((e,t)=>bn.createElement(e.tag,z1({key:t},e.attr),$z(e.child)))}function pg(r){return e=>bn.createElement(Ure,U1({attr:z1({},r.attr)},e),$z(r.child))}function Ure(r){var e=t=>{var{attr:i,size:n,title:a}=r,s=Lre(r,Dre),o=n||t.size||"1em",l;return t.className&&(l=t.className),r.className&&(l=(l?l+" ":"")+r.className),bn.createElement("svg",U1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:l,style:z1(z1({color:r.color||t.color},t.style),r.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&bn.createElement("title",null,a),r.children)};return aD!==void 0?bn.createElement(aD.Consumer,null,t=>e(t)):e(Qz)}function zre(r){return pg({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.55 8C116.52 8 8 110.34 8 248.57c0 72.3 29.71 134.78 78.07 177.94 8.35 7.51 6.63 11.86 8.05 58.23A19.92 19.92 0 0 0 122 502.31c52.91-23.3 53.59-25.14 62.56-22.7C337.85 521.8 504 423.7 504 248.57 504 110.34 396.59 8 256.55 8zm149.24 185.13l-73 115.57a37.37 37.37 0 0 1-53.91 9.93l-58.08-43.47a15 15 0 0 0-18 0l-78.37 59.44c-10.46 7.93-24.16-4.6-17.11-15.67l73-115.57a37.36 37.36 0 0 1 53.91-9.93l58.06 43.46a15 15 0 0 0 18 0l78.41-59.38c10.44-7.98 24.14 4.54 17.09 15.62z"},child:[]}]})(r)}function Gre(r){return pg({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function Hre(r){return pg({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(r)}function Vre(r){return pg({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function jre(r){return pg({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(r)}const Wre=()=>At("footer",{className:"w-full py-4 bg-black-100/55 text-white flex justify-center gap-6",children:[he("a",{href:"https://www.instagram.com/ainfiniti.techhub/?utm_source=qr&r=nametag",target:"_blank",rel:"noopener noreferrer",children:he(Gre,{size:24})}),he("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:he(jre,{size:24})}),he("a",{href:"https://www.linkedin.com/posts/abdul-azeez-adam-600310370_ainfiniti01-i-will-build-responsive-wordpress-activity-7342856393542057984-GWzC?utm_source=social_share_send&utm_medium=android_app&rcm=ACoAAFvh-GABo0ySN7cvZlQZWMJ4UejyBCTgQWg&utm_campaign=whatsapp ",target:"_blank",rel:"noopener noreferrer",children:he(Hre,{size:24})}),he("a",{href:"https://wa.me/qr/SSJCV4DUJE4LK1",target:"_blank",rel:"noopener noreferrer",children:he(Vre,{size:24})}),he("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:he(zre,{size:24})})]}),Xre=()=>he(GH,{children:At("div",{className:"relative z-0 bg-primary",children:[At("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[he(dee,{}),he(T$,{})]}),he($te,{}),he(_re,{}),he(tre,{}),he(Are,{}),he(Mre,{}),At("div",{className:"relative z-0",children:[he(Ire,{}),he(vq,{}),he(Wre,{})]})]})});nS.createRoot(document.getElementById("root")).render(he(bn.StrictMode,{children:he(Xre,{})}));
